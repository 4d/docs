"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[96781],{3905:(e,a,o)=>{o.d(a,{Zo:()=>d,kt:()=>c});var r=o(67294);function n(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function t(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?t(Object(o),!0).forEach((function(a){n(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function s(e,a){if(null==e)return{};var o,r,n=function(e,a){if(null==e)return{};var o,r,n={},t=Object.keys(e);for(r=0;r<t.length;r++)o=t[r],a.indexOf(o)>=0||(n[o]=e[o]);return n}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(r=0;r<t.length;r++)o=t[r],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var p=r.createContext({}),i=function(e){var a=r.useContext(p),o=a;return e&&(o="function"==typeof e?e(a):l(l({},a),e)),o},d=function(e){var a=i(e.components);return r.createElement(p.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},u=r.forwardRef((function(e,a){var o=e.components,n=e.mdxType,t=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=i(o),c=n,k=u["".concat(p,".").concat(c)]||u[c]||m[c]||t;return o?r.createElement(k,l(l({ref:a},d),{},{components:o})):r.createElement(k,l({ref:a},d))}));function c(e,a){var o=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var t=o.length,l=new Array(t);l[0]=u;var s={};for(var p in a)hasOwnProperty.call(a,p)&&(s[p]=a[p]);s.originalType=e,s.mdxType="string"==typeof e?e:n,l[1]=s;for(var i=2;i<t;i++)l[i]=o[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,o)}u.displayName="MDXCreateElement"},35253:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>d});o(67294);var r=o(3905);function n(){return n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n.apply(this,arguments)}function t(e,a){if(null==e)return{};var o,r,n=function(e,a){if(null==e)return{};var o,r,n={},t=Object.keys(e);for(r=0;r<t.length;r++)o=t[r],a.indexOf(o)>=0||(n[o]=e[o]);return n}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(r=0;r<t.length;r++)o=t[r],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}const l={id:"parameters",title:"Par\xe1metros"},s=void 0,p={unversionedId:"Concepts/parameters",id:"version-19-R8/Concepts/parameters",title:"Par\xe1metros",description:"A menudo encontrar\xe1 que necesita pasar datos a sus m\xe9todos y funciones. Esto se hace f\xe1cilmente con par\xe1metros.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-19-R8/Concepts/parameters.md",sourceDirName:"Concepts",slug:"/Concepts/parameters",permalink:"/docs/es/Concepts/parameters",draft:!1,editUrl:"https://github.com/4D/docs/edit/main/versioned_docs/version-19-R8/Concepts/parameters.md",tags:[],version:"19-R8",frontMatter:{id:"parameters",title:"Par\xe1metros"},sidebar:"docs",previous:{title:"M\xe9todos",permalink:"/docs/es/Concepts/methods"},next:{title:"Objetos y colecciones compartidos",permalink:"/docs/es/Concepts/shared"}},i={},d=[{value:"Generalidades",id:"generalidades",level:2},{value:"Par\xe1metro con nombre",id:"par\xe1metro-con-nombre",level:2},{value:"Valor devuelto",id:"valor-devuelto",level:3},{value:"Tipos de datos soportados",id:"tipos-de-datos-soportados",level:3},{value:"Par\xe1metros secuenciales",id:"par\xe1metros-secuenciales",level:2},{value:"Valor devuelto",id:"valor-devuelto-1",level:3},{value:"Tipos de datos soportados",id:"tipos-de-datos-soportados-1",level:3},{value:"<code>return {expression}</code>",id:"return-expression",level:2},{value:"Indirecci\xf3n de par\xe1metros (${N})",id:"indirecci\xf3n-de-par\xe1metros-n",level:2},{value:"Utilizaci\xf3n de los par\xe1metros gen\xe9ricos",id:"utilizaci\xf3n-de-los-par\xe1metros-gen\xe9ricos",level:3},{value:"Declaraci\xf3n de par\xe1metros gen\xe9ricos",id:"declaraci\xf3n-de-par\xe1metros-gen\xe9ricos",level:3},{value:"Declaraci\xf3n de los par\xe1metros para el modo compilado",id:"declaraci\xf3n-de-los-par\xe1metros-para-el-modo-compilado",level:2},{value:"Tipo de par\xe1metro equivocado",id:"tipo-de-par\xe1metro-equivocado",level:2},{value:"Variables de entrada/salida",id:"variables-de-entradasalida",level:2},{value:"Utilizaci\xf3n de las propiedades de objeto como par\xe1metros con nombre",id:"utilizaci\xf3n-de-las-propiedades-de-objeto-como-par\xe1metros-con-nombre",level:2},{value:"Par\xe1metros opcionales",id:"par\xe1metros-opcionales",level:2},{value:"Valores o referencias",id:"valores-o-referencias",level:2},{value:"Casos particulares: objetos y colecciones",id:"casos-particulares-objetos-y-colecciones",level:3}],m={toc:d};function u(e){var{components:a}=e,o=t(e,["components"]);return(0,r.kt)("wrapper",n({},m,o,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"A menudo encontrar\xe1 que necesita pasar datos a sus m\xe9todos y funciones. Esto se hace f\xe1cilmente con par\xe1metros."),(0,r.kt)("h2",n({},{id:"generalidades"}),"Generalidades"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Los par\xe1metros")," (o ",(0,r.kt)("strong",{parentName:"p"},"argumentos"),") son piezas de datos que un m\xe9todo o una funci\xf3n de clase necesita para realizar su tarea. Los t\xe9rminos ",(0,r.kt)("em",{parentName:"p"},"par\xe1metros")," y ",(0,r.kt)("em",{parentName:"p"},"argumentos"),' se utilizan indistintamente en este manual. Los par\xe1metros tambi\xe9n se pasan a los comandos integrados de 4D. En este ejemplo, la cadena "Hello" es un argumento para el comando integrado ',(0,r.kt)("inlineCode",{parentName:"p"},"ALERT"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'ALERT("Hello")\n')),(0,r.kt)("p",null,"Los par\xe1metros se pasan de la misma manera a los m\xe9todos o las funciones de clase. Por ejemplo, si una funci\xf3n de clase llamada ",(0,r.kt)("inlineCode",{parentName:"p"},"getArea()")," acepta dos par\xe1metros, una llamada a la funci\xf3n de clase podr\xeda verse as\xed:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{}),"$area:=$o.getArea(50;100)\n")),(0,r.kt)("p",null,"O, si un m\xe9todo proyecto llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"DO_SOMETHING")," acepta tres par\xe1metros, una llamada al m\xe9todo podr\xeda verse as\xed:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"DO_SOMETHING($WithThis;$AndThat;$ThisWay)\n")),(0,r.kt)("p",null,"Los par\xe1metros de entrada est\xe1n separados por punto y coma (;)."),(0,r.kt)("p",null,"Los mismos principios se aplican cuando los m\xe9todos se ejecutan a trav\xe9s de comandos dedicados, por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'EXECUTE METHOD IN SUBFORM("Cal2";"SetCalendarDate";*;!05/05/20!)  \n//pass the !05/05/20! date as parameter to the SetCalendarDate  \n//in the context of a subform  \n//pase la fecha !05/05/20! como par\xe1metro de SetCalendarDate  \n//en el contexto de un subformulario\n')),(0,r.kt)("p",null,"Los datos tambi\xe9n pueden ser ",(0,r.kt)("strong",{parentName:"p"},"devueltos"),"desde m\xe9todos y funciones de clase. Por ejemplo, la siguiente l\xednea de instrucci\xf3n utiliza el comando integrado, ",(0,r.kt)("inlineCode",{parentName:"p"},"Length"),", para devolver la longitud de una cadena. La instrucci\xf3n pone el valor devuelto por ",(0,r.kt)("inlineCode",{parentName:"p"},"Length")," en una variable llamada ",(0,r.kt)("em",{parentName:"p"},"MyLength"),". Esta es la instrucci\xf3n:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'MyLength:=Length("How did I get here?")\n')),(0,r.kt)("p",null,"Toda subrutina puede devolver un valor. S\xf3lo se puede declarar un \xfanico par\xe1metro de salida por m\xe9todo o funci\xf3n de clase."),(0,r.kt)("p",null,"Los valores de entrada y salida son ",(0,r.kt)("a",n({parentName:"p"},{href:"#values-or-references"}),"evaluados")," en el momento de la llamada y copiados en variables locales dentro de la funci\xf3n o m\xe9todo de la clase llamada. Se proponen dos sintaxis para declarar los par\xe1metros de las variables en el c\xf3digo llamado:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",n({parentName:"li"},{href:"#named-parameters"}),"named variables")," (recomendado en la mayor\xeda de los casos) o"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",n({parentName:"li"},{href:"#sequential-parameters"}),"variables numeradas secuencialmente"),".")),(0,r.kt)("p",null,"Las sintaxis ",(0,r.kt)("a",n({parentName:"p"},{href:"#named-parameters"}),"nombradas")," y ",(0,r.kt)("a",n({parentName:"p"},{href:"#sequential-parameters"}),"secuenciales")," se pueden combinar sin restricci\xf3n para declarar los par\xe1metros. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"```4d\n  Function add($x : Integer)\n    var $0;$2 : Integer\n    $0:=$x+$2\n")),(0,r.kt)("h2",n({},{id:"par\xe1metro-con-nombre"}),"Par\xe1metro con nombre"),(0,r.kt)("p",null,"En los m\xe9todos llamados o en las funciones de clase, los valores de los par\xe1metros se asignan a las variables locales. Puedes declarar par\xe1metros utilizando un ",(0,r.kt)("strong",{parentName:"p"},"nombre de par\xe1metro")," con un ",(0,r.kt)("strong",{parentName:"p"},"tipo de par\xe1metro"),", separados por dos puntos."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Para las funciones de clase, los par\xe1metros se declaran junto con la palabra clave ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),"."),(0,r.kt)("li",{parentName:"ul"},"Para los m\xe9todos (m\xe9todos proyecto, m\xe9todos objeto formulario, m\xe9todos base y triggers), los par\xe1metros se declaran utilizando la palabra clave ",(0,r.kt)("inlineCode",{parentName:"li"},"#DECLARE")," al principio del c\xf3digo del m\xe9todo.")),(0,r.kt)("p",null,"Ejemplos:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function getArea($width : Integer; $height : Integer) -> $area : Integer\n")),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," //myProjectMethod\n#DECLARE ($i : Integer) -> $myResult : Object\n")),(0,r.kt)("p",null,"Se aplican las siguientes reglas:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"La l\xednea de declaraci\xf3n debe ser la primera l\xednea del c\xf3digo del m\xe9todo o de la funci\xf3n, de lo contrario se mostrar\xe1 un error (s\xf3lo los comentarios o los saltos de l\xednea pueden preceder la declaraci\xf3n)."),(0,r.kt)("li",{parentName:"ul"},"Los nombres de los par\xe1metros deben comenzar con un car\xe1cter ",(0,r.kt)("inlineCode",{parentName:"li"},"$")," y cumplir con ",(0,r.kt)("a",n({parentName:"li"},{href:"identifiers.md#object-properties"}),"reglas de denominaci\xf3n de las propiedades"),"."),(0,r.kt)("li",{parentName:"ul"},"M\xfaltiples par\xe1metros (y tipos) est\xe1n separados por punto y coma (;)."),(0,r.kt)("li",{parentName:"ul"},'Las sintaxis multil\xednea est\xe1n soportadas (utilizando el car\xe1cter "',"\\",'").')),(0,r.kt)("p",null,"Por ejemplo, cuando se llama a una funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"getArea()")," con dos par\xe1metros:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"$area:=$o.getArea(50;100)\n")),(0,r.kt)("p",null,"En el c\xf3digo de la funci\xf3n clase, el valor de cada par\xe1metro se copia en el par\xe1metro declarado correspondiente:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Class: Polygon\nFunction getArea($width : Integer; $height : Integer)-> $area : Integer\n    $area:=$width*$height\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Si no se define el tipo, el par\xe1metro se definir\xe1 como ",(0,r.kt)("a",n({parentName:"p"},{href:"dt_variant.md"}),(0,r.kt)("inlineCode",{parentName:"a"},"Variant")),".")),(0,r.kt)("p",null,"Todos los tipos de m\xe9todos de 4D soportan la palabra clave ",(0,r.kt)("inlineCode",{parentName:"p"},"#DECLARE"),", incluidos los m\xe9todos base. Por ejemplo, en el m\xe9todo base ",(0,r.kt)("inlineCode",{parentName:"p"},"On Web Authentication"),", puede declarar par\xe1metros temporales:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'    // M\xe9todo base On Web Authentication\n#DECLARE ($url : Text; $header : Text; \\\n  $BrowserIP : Text; $ServerIP : Text; \\\n  $user : Text; $password : Text) \\\n  -> $RequestAccepted : Boolean\n$entitySelection:=ds.User.query("login=:1"; $user)\n// Verificar la contrase\xf1a hash...\n')),(0,r.kt)("h3",n({},{id:"valor-devuelto"}),"Valor devuelto"),(0,r.kt)("p",null,"El par\xe1metro de retorno de una funci\xf3n se declara a\xf1adiendo una flecha (->) y la definici\xf3n del par\xe1metro despu\xe9s de la lista de par\xe1metros de entrada. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function add($x : Variant; $y : Integer) -> $result : Integer\n")),(0,r.kt)("p",null,"Tambi\xe9n se puede declarar el par\xe1metro de retorno s\xf3lo a\xf1adiendo ",(0,r.kt)("inlineCode",{parentName:"p"},": tipo"),", en cuyo caso se puede manejar mediante una ",(0,r.kt)("a",n({parentName:"p"},{href:"#return-expression"}),"instrucci\xf3n de retorno")," o a trav\xe9s de ",(0,r.kt)("inlineCode",{parentName:"p"},"$0")," en la ",(0,r.kt)("a",n({parentName:"p"},{href:"#returned-value-1"}),"sintaxis secuencial"),"). Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function add($x : Variant; $y : Integer): Integer\n    $0:=$x+$y\n")),(0,r.kt)("h3",n({},{id:"tipos-de-datos-soportados"}),"Tipos de datos soportados"),(0,r.kt)("p",null,"Con los par\xe1metros con nombre, puede utilizar los mismos tipos de datos ",(0,r.kt)("a",n({parentName:"p"},{href:"variables.md#using-the-var-keyword"}),"soportados por la palabra clave ",(0,r.kt)("inlineCode",{parentName:"a"},"var")),", incluidos los objetos de las clases.  Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function saveToFile($entity : cs.ShapesEntity; $file : 4D.File)\n")),(0,r.kt)("h2",n({},{id:"par\xe1metros-secuenciales"}),"Par\xe1metros secuenciales"),(0,r.kt)("p",null,"Como alternativa a la sintaxis ",(0,r.kt)("a",n({parentName:"p"},{href:"#named-parameters"}),"par\xe1metros nombrados"),", puede declarar los par\xe1metros utilizando variables numeradas secuencialmente: ",(0,r.kt)("strong",{parentName:"p"},"$1"),", ",(0,r.kt)("strong",{parentName:"p"},"$2"),", ",(0,r.kt)("strong",{parentName:"p"},"$3"),", etc. La numeraci\xf3n de las variables locales representa el orden de los par\xe1metros."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Aunque esta sintaxis es soportada por las funciones clase, se recomienda utilizar la sintaxis ",(0,r.kt)("a",n({parentName:"p"},{href:"#named-parameters"}),"par\xe1metros nombrados")," en este caso.")),(0,r.kt)("p",null,"Por ejemplo, cuando se llama a un m\xe9todo proyecto ",(0,r.kt)("inlineCode",{parentName:"p"},"DO_SOMETHING")," con tres par\xe1metros:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"DO_SOMETHING($WithThis;$AndThat;$ThisWay)\n")),(0,r.kt)("p",null,"En el c\xf3digo del m\xe9todo, el valor de cada par\xe1metro se copia autom\xe1ticamente en las variables $1, $2, $3:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //C\xf3digo del m\xe9todo DO_SOMETHING\n  //Asumiendo que todos los par\xe1metros son de tipo texto\n C_TEXT($1;$2;$3)\n ALERT("I received "+$1+" and "+$2+" and also "+$3)\n  //$1 contiene el par\xe1metro $WithThis\n  //$2 contiene el par\xe1metro $AndThat\n  //$3 contiene el par\xe1metro $ThisWay\n')),(0,r.kt)("h3",n({},{id:"valor-devuelto-1"}),"Valor devuelto"),(0,r.kt)("p",null,"El valor a devolver se pone autom\xe1ticamente en la variable local ",(0,r.kt)("inlineCode",{parentName:"p"},"$0"),"."),(0,r.kt)("p",null,"Por ejemplo, el siguiente m\xe9todo, llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"Uppercase4"),", devuelve una cadena con los cuatro primeros caracteres de la cadena que se han pasado en may\xfasculas:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"$0:=Uppercase(Substring($1;1;4))+Substring($1;5)\n")),(0,r.kt)("p",null,"El siguiente es un ejemplo que utiliza el m\xe9todo Uppercase4:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'$NewPhrase:=Uppercase4("This is good.")\n')),(0,r.kt)("p",null,"En este ejemplo, la variable ",(0,r.kt)("em",{parentName:"p"},"$NewPhrase")," recibe \u201cTHIS is good.\u201d"),(0,r.kt)("p",null,"El valor devuelto, ",(0,r.kt)("inlineCode",{parentName:"p"},"$0"),", es una variable local dentro de la subrutina. Puede utilizarse como tal dentro de la subrutina. Por ejemplo, puede escribir:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// Do_something\n$0:=Uppercase($1)\nALERT($0)\n")),(0,r.kt)("p",null,"En este ejemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"$0")," se le asign\xf3 primero el valor de ",(0,r.kt)("inlineCode",{parentName:"p"},"$1"),", y luego se us\xf3 como par\xe1metro del comando ",(0,r.kt)("inlineCode",{parentName:"p"},"ALERT"),". Dentro de la subrutina, puede utilizar ",(0,r.kt)("inlineCode",{parentName:"p"},"$0")," de la misma manera que utilizar\xeda cualquier otra variable local. Es 4D quien devuelve el valor de ",(0,r.kt)("inlineCode",{parentName:"p"},"$0")," (tal y como est\xe1 cuando la subrutina termina) al m\xe9todo llamado."),(0,r.kt)("h3",n({},{id:"tipos-de-datos-soportados-1"}),"Tipos de datos soportados"),(0,r.kt)("p",null,"Puede utilizar toda ",(0,r.kt)("a",n({parentName:"p"},{href:"quick-tour.md#expression-types"}),"expresi\xf3n")," como par\xe1metro secuencial, excepto:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"tablas"),(0,r.kt)("li",{parentName:"ul"},"arrays")),(0,r.kt)("p",null,"Las expresiones de tablas o arrays s\xf3lo pueden pasarse ",(0,r.kt)("a",n({parentName:"p"},{href:"dt_pointer.md#pointers-as-parameters-to-methods"}),"como referencia utilizando un puntero"),"."),(0,r.kt)("h2",n({},{id:"return-expression"}),(0,r.kt)("inlineCode",{parentName:"h2"},"return {expression}")),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Hist\xf3rico"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,r.kt)("th",n({parentName:"tr"},{align:null}),"Modificaciones"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",n({parentName:"tr"},{align:null}),"v19 R4"),(0,r.kt)("td",n({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,r.kt)("p",null,"La instrucci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"return")," finaliza la ejecuci\xf3n de una funci\xf3n o de un m\xe9todo y puede utilizarse para devolver una expresi\xf3n a quien la llama."),(0,r.kt)("p",null,"Por ejemplo, la siguiente funci\xf3n devuelve el cuadrado de su argumento, $x, donde $x es un n\xfamero."),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function square($x : Integer) \n   return $x * $x\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Internamente, ",(0,r.kt)("inlineCode",{parentName:"p"},"return x")," ejecuta ",(0,r.kt)("inlineCode",{parentName:"p"},"$0:=x")," o (si se declara) ",(0,r.kt)("inlineCode",{parentName:"p"},"myReturnValue:=x"),", y devuelve al llamante. Si ",(0,r.kt)("inlineCode",{parentName:"p"},"return")," se utiliza sin una expresi\xf3n, la funci\xf3n o el m\xe9todo devuelve un valor nulo del tipo de retorno declarado (si lo hay), de lo contrario ",(0,r.kt)("em",{parentName:"p"},"undefined"),".")),(0,r.kt)("p",null,"La instrucci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"return")," puede utilizarse junto con la sintaxis est\xe1ndar para los ",(0,r.kt)("a",n({parentName:"p"},{href:"#valor-devuelto"}),"valores devueltos")," (el valor devuelto debe ser del tipo declarado). Sin embargo, hay que tener en cuenta que termina inmediatamente la ejecuci\xf3n del c\xf3digo. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function getValue\n    $0:=10\n    return 20\n    // devuelve 20\n\nFunction getValue -> $v : Integer\n    return 10\n    $v:=20 // nunca se ejecuta\n    // devuelve 10\n")),(0,r.kt)("h2",n({},{id:"indirecci\xf3n-de-par\xe1metros-n"}),"Indirecci\xf3n de par\xe1metros (${N})"),(0,r.kt)("p",null,"Los m\xe9todos proyecto 4D aceptan un n\xfamero variable de par\xe1metros. Puede dirigirse a esos par\xe1metros con un bucle ",(0,r.kt)("inlineCode",{parentName:"p"},"For...End for"),", el comando ",(0,r.kt)("a",n({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page259.html"}),(0,r.kt)("inlineCode",{parentName:"a"},"Count parameters")),"y ",(0,r.kt)("strong",{parentName:"p"},"la sintaxis de indirecci\xf3n de par\xe1metros"),". Dentro del m\xe9todo, una direcci\xf3n de indirecci\xf3n tiene el formato ",(0,r.kt)("inlineCode",{parentName:"p"},"${N}"),", donde ",(0,r.kt)("inlineCode",{parentName:"p"},"N")," es una expresi\xf3n num\xe9rica. ",(0,r.kt)("inlineCode",{parentName:"p"},"${N}")," se denomina ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metro gen\xe9rico"),"."),(0,r.kt)("h3",n({},{id:"utilizaci\xf3n-de-los-par\xe1metros-gen\xe9ricos"}),"Utilizaci\xf3n de los par\xe1metros gen\xe9ricos"),(0,r.kt)("p",null,"Por ejemplo, considere un m\xe9todo que suma valores y devuelve la suma formateada seg\xfan un formato que se pasa como par\xe1metro. Cada vez que se llama a este m\xe9todo, el n\xfamero de valores a sumar puede variar. Debemos pasar los valores como par\xe1metros al m\xe9todo y el formato en forma de cadena de caracteres. El n\xfamero de valores puede variar de una llamada a otra."),(0,r.kt)("p",null,"Aqu\xed est\xe1 el m\xe9todo, llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"MySum"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," #DECLARE($format : Text) -> $result : Text\n $sum:=0\n For($i;2;Count parameters)\n    $sum:=$sum+${$i}\n End for\n $result:=String($sum;$format)\n")),(0,r.kt)("p",null,"Los par\xe1metros del m\xe9todo deben pasarse en el orden correcto, primero el formato y luego un n\xfamero variable de valores:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),' Result:=MySum("##0.00";125,2;33,5;24) //"182.70"\n Result:=MySum("000";1;2;200) //"203"\n')),(0,r.kt)("p",null,"Tenga en cuenta que aunque haya declarado 0, 1 o m\xe1s par\xe1metros en el m\xe9todo, siempre puede pasar el n\xfamero de par\xe1metros que desee. Los par\xe1metros est\xe1n disponibles dentro del m\xe9todo llamado a trav\xe9s de la sintaxis ",(0,r.kt)("inlineCode",{parentName:"p"},"${N}")," y el tipo de los par\xe1metros extra es ",(0,r.kt)("a",n({parentName:"p"},{href:"dt_variant.md"}),"Variant")," por defecto (puede declararlos utilizando una ",(0,r.kt)("a",n({parentName:"p"},{href:"#declaring-generic-parameters"}),"directiva del compilador"),"). S\xf3lo hay que asegurarse de que los par\xe1metros existen, gracias al comando ",(0,r.kt)("a",n({parentName:"p"},{href:"https://doc.4d.com/4dv19/help/command/en/page259.html"}),(0,r.kt)("inlineCode",{parentName:"a"},"Count parameters")),". Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'//m\xe9todo foo\n#DECLARE($p1: Text;$p2 : Text; $p3 : Date) \nFor($i;1;Count parameters)\n    ALERT("param "+String($i)+" = "+String(${$i}))\nEnd for\n')),(0,r.kt)("p",null,"Este m\xe9todo se puede llamar:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'foo("hello";"world";!01/01/2021!;42;?12:00:00?) //extra parameters are passed //se pasan par\xe1metros adicionales\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"La indirecci\xf3n de par\xe1metros se gestiona mejor si se respeta la siguiente convenci\xf3n: si s\xf3lo algunos de los par\xe1metros se dirigen por indirecci\xf3n, deben pasarse despu\xe9s de los dem\xe1s.")),(0,r.kt)("h3",n({},{id:"declaraci\xf3n-de-par\xe1metros-gen\xe9ricos"}),"Declaraci\xf3n de par\xe1metros gen\xe9ricos"),(0,r.kt)("p",null,"Al igual que con otras variables locales, no es obligatorio declarar los par\xe1metros gen\xe9ricos mediante una directiva del compilador. Sin embargo, se recomienda para evitar toda ambig\xfcedad. Los par\xe1metros gen\xe9ricos no declarados obtienen autom\xe1ticamente el tipo ",(0,r.kt)("a",n({parentName:"p"},{href:"dt_variant.md"}),"Variant"),"."),(0,r.kt)("p",null,"Para declarar par\xe1metros gen\xe9ricos, se utiliza una directiva del compilador a la que se pasa ${N} como par\xe1metro, donde N especifica el primer par\xe1metro gen\xe9rico."),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," C_TEXT(${4})\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"La declaraci\xf3n de par\xe1metros gen\xe9ricos s\xf3lo puede hacerse con ",(0,r.kt)("a",n({parentName:"p"},{href:"#sequential-parameters"}),"la sintaxis secuencial"),".")),(0,r.kt)("p",null,"Este comando significa que a partir del cuarto par\xe1metro (incluido), el m\xe9todo puede recibir un n\xfamero variable de par\xe1metros de tipo texo. $1, $2 y $3 pueden ser de cualquier tipo de datos. Sin embargo, si se utiliza $2 por indirecci\xf3n, el tipo de datos utilizado ser\xe1 el tipo gen\xe9rico. As\xed, ser\xe1 del tipo de datos texto, aunque para usted fuera, por ejemplo, del tipo de datos Real."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"El n\xfamero en la declaraci\xf3n tiene que ser una constante y no una variable.")),(0,r.kt)("h2",n({},{id:"declaraci\xf3n-de-los-par\xe1metros-para-el-modo-compilado"}),"Declaraci\xf3n de los par\xe1metros para el modo compilado"),(0,r.kt)("p",null,"Aunque no sea obligatorio en ",(0,r.kt)("a",n({parentName:"p"},{href:"interpreted.md"}),"modo interpretado"),", debe declarar cada par\xe1metro en los m\xe9todos o funciones llamados para evitar problemas."),(0,r.kt)("p",null,"Cuando se utiliza la ",(0,r.kt)("a",n({parentName:"p"},{href:"#named-parameters"}),"sintaxis de variables nombradas"),", los par\xe1metros se declaran autom\xe1ticamente a trav\xe9s de la palabra clave ",(0,r.kt)("inlineCode",{parentName:"p"},"#DECLARE")," o del prototipo ",(0,r.kt)("inlineCode",{parentName:"p"},"Function"),". Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"Function add($x : Variant; $y : Integer)-> $result : Integer\n    // todos los par\xe1metros se declaran con su tipo\n")),(0,r.kt)("p",null,"Cuando se utiliza ",(0,r.kt)("a",n({parentName:"p"},{href:"#sequential-parameters"}),"la sintaxis de la variable secuencial"),", hay que asegurarse de que todos los par\xe1metros se declaran correctamente. En el siguiente ejemplo, el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"Capitalize")," proyecto acepta un par\xe1metro texto y devuelve un resultado texto:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"  // M\xe9todo proyecto Mayusculas\n  // Mayusculas( Texto ) -> Texto\n  // Mayusculas( Cadena fuente ) -> Cadena con la primera letra en may\xfascula\n\n C_TEXT($0;$1)\n $0:=Uppercase(Substring($1;1;1))+Lowercase(Substring($1;2))\n")),(0,r.kt)("p",null,"La utilizaci\xf3n de comandos tales como ",(0,r.kt)("inlineCode",{parentName:"p"},"New process")," con m\xe9todos proceso que aceptan par\xe1metros tambi\xe9n requiere que los par\xe1metros se declaren expl\xedcitamente en el m\xe9todo llamado. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'C_TEXT($string)\nC_LONGINT($idProc;$int)\nC_OBJECT($obj)\n\n$idProc:=New process("foo_method";0;"foo_process";$string;$int;$obj)\n')),(0,r.kt)("p",null,'Este c\xf3digo puede ser ejecutado en modo compilado s\xf3lo si "foo_method" declara sus par\xe1metros:'),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"//foo_method\nC_TEXT($1)\nC_LONGINT($2)\nC_OBJECT($3)\n...\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},'En modo compilado, puede agrupar todos los par\xe1metros de las variables locales de los m\xe9todos proyecto en un m\xe9todo espec\xedfico con un nombre que empiece por "Compiler". Dentro de este m\xe9todo, se pueden predeclarar los par\xe1metros de cada m\xe9todo, por ejemplo:'),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," // Compiler_method\n C_REAL(OneMethodAmongOthers;$1) \n")),(0,r.kt)("p",{parentName:"blockquote"},"Ver la p\xe1gina ",(0,r.kt)("a",n({parentName:"p"},{href:"interpreted.md"}),"Modos interpretado y compilado")," para m\xe1s informaci\xf3n.")),(0,r.kt)("p",null,'La declaraci\xf3n de par\xe1metros tambi\xe9n es obligatoria en los siguientes contextos (estos contextos no soportan la declaraci\xf3n en un m\xe9todo "Compiler"):'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"M\xe9todos base - Por ejemplo, el ",(0,r.kt)("inlineCode",{parentName:"li"},"m\xe9todo base On Web Connection")," recibe seis par\xe1metros, de $1 a $6, de tipo Texto. Al principio del m\xe9todo base, debe escribir (incluso si no se utilizan todos los par\xe1metros):")),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// On Web Connection\nC_TEXT($1;$2;$3;$4;$5;$6)\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tambi\xe9n puede utilizar ",(0,r.kt)("a",n({parentName:"p"},{href:"#named-parameters"}),"par\xe1metros nombrados")," con la palabra clave ",(0,r.kt)("inlineCode",{parentName:"p"},"#DECLARE"),".")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Triggers - El par\xe1metro $0 (Entero largo), que es el resultado de un trigger, ser\xe1 digitado por el compilador si el par\xe1metro no ha sido declarado expl\xedcitamente. Sin embargo, si quiere declararlo, debe hacerlo en el propio trigger.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Objetos formulario que aceptan el evento formulario ",(0,r.kt)("inlineCode",{parentName:"p"},"On Drag Over")," - El par\xe1metro $0 (Entero largo), que es el resultado del evento formulario ",(0,r.kt)("inlineCode",{parentName:"p"},"On Drag Over"),", ser\xe1 digitado por el compilador si el par\xe1metro no ha sido declarado expl\xedcitamente. Sin embargo, si quiere declararlo, debe hacerlo en el propio m\xe9todo proyecto. ",(0,r.kt)("strong",{parentName:"p"},"Nota:")," el compilador no inicializa el par\xe1metro $0. Por lo tanto, tan pronto como utilice el evento formulario ",(0,r.kt)("inlineCode",{parentName:"p"},"On Drag Over"),", debe inicializar $0. Por ejemplo:"))),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"})," C_LONGINT($0)\n If(Form event=On Drag Over)\n    $0:=0\n    ...\n    If($DataType=Is picture)\n       $0:=-1\n    End if\n    ...\n End if\n")),(0,r.kt)("h2",n({},{id:"tipo-de-par\xe1metro-equivocado"}),"Tipo de par\xe1metro equivocado"),(0,r.kt)("p",null,"Llamar a un par\xe1metro con un tipo incorrecto es un ",(0,r.kt)("a",n({parentName:"p"},{href:"error-handling.md"}),"error")," que impide la correcta ejecuci\xf3n. Por ejemplo, si escribe los siguientes m\xe9todos:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// method1\n#DECLARE($value : Text)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// method2\nmethod1(42) //tipo incorrecto, texto esperado\n")),(0,r.kt)("p",null,"Este caso es tratado por 4D en funci\xf3n del contexto:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"en ",(0,r.kt)("a",n({parentName:"li"},{href:"interpreted.md"}),"proyectos compilados"),", se genera un error en el paso de compilaci\xf3n siempre que sea posible. En caso contrario, se genera un error cuando se llama al m\xe9todo."),(0,r.kt)("li",{parentName:"ul"},"en los proyectos interpretados:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"si el par\xe1metro se declar\xf3 utilizando la ",(0,r.kt)("a",n({parentName:"li"},{href:"#named-parameters"}),"sintaxis nombrada")," (",(0,r.kt)("inlineCode",{parentName:"li"},"#DECLARE")," o ",(0,r.kt)("inlineCode",{parentName:"li"},"Function"),"), se genera un error cuando se llama al m\xe9todo."),(0,r.kt)("li",{parentName:"ul"},"si el par\xe1metro fue declarado utilizando ",(0,r.kt)("a",n({parentName:"li"},{href:"#sequential-parameters"}),"la sintaxis secuencial "),"(",(0,r.kt)("inlineCode",{parentName:"li"},"C_XXX"),"), no se genera ning\xfan error, el m\xe9todo llamado recibe un valor vac\xedo del tipo esperado.")))),(0,r.kt)("h2",n({},{id:"variables-de-entradasalida"}),"Variables de entrada/salida"),(0,r.kt)("p",null,"Dentro de la subrutina, puede utilizar los par\xe1metros $1, $2... de la misma manera que utilizar\xeda cualquier otra variable local. Sin embargo, en el caso de que utilice comandos que modifiquen el valor de la variable pasada como par\xe1metro (por ejemplo ",(0,r.kt)("inlineCode",{parentName:"p"},"Find in field"),"), los par\xe1metros $1, $2, etc. no pueden utilizarse directamente. Primero debe copiarlos en las variables locales est\xe1ndar (por ejemplo: ",(0,r.kt)("inlineCode",{parentName:"p"},"$myvar:=$1"),")."),(0,r.kt)("h2",n({},{id:"utilizaci\xf3n-de-las-propiedades-de-objeto-como-par\xe1metros-con-nombre"}),"Utilizaci\xf3n de las propiedades de objeto como par\xe1metros con nombre"),(0,r.kt)("p",null,"La utilizaci\xf3n de objetos como par\xe1metros permite manejar ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metros con nombre"),". Este estilo de programaci\xf3n es simple, flexible y f\xe1cil de leer."),(0,r.kt)("p",null,"Por ejemplo, utilizando el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"CreatePerson"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //CreatePerson\n var $person : Object\n $person:=New object("Name";"Smith";"Age";40)\n ChangeAge($person)\n ALERT(String($person.Age))  \n')),(0,r.kt)("p",null,"En el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"ChangeAge")," puede escribir:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //ChangeAge\n var $1; $para : Object\n $para:=$1  \n $para.Age:=$para.Age+10\n ALERT($para.Name+" is "+String($para.Age)+" years old.")\n')),(0,r.kt)("p",null,"Esto ofrece una poderosa manera de definir ",(0,r.kt)("a",n({parentName:"p"},{href:"#optional-parameters"}),"par\xe1metros opcionales")," (ver tambi\xe9n abajo). Para manejar los par\xe1metros que faltan, puede:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"verificar si se suministran todos los par\xe1metros esperados compar\xe1ndolos con el valor ",(0,r.kt)("inlineCode",{parentName:"li"},"Null"),", o"),(0,r.kt)("li",{parentName:"ul"},"predefinir los valores de los par\xe1metros, o"),(0,r.kt)("li",{parentName:"ul"},"utilizarlos como valores vac\xedos.")),(0,r.kt)("p",null,"En el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"ChangeAge")," anterior, las propiedades Age y Name son obligatorias y producir\xedan errores si faltaran. Para evitar este caso, puede escribir simplemente:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //ChangeAge\n var $1; $para : Object\n $para:=$1  \n $para.Age:=Num($para.Age)+10\n ALERT(String($para.Name)+" is "+String($para.Age)+" years old.")\n')),(0,r.kt)("p",null,'Entonces ambos par\xe1metros son opcionales; si no se llenan, el resultado ser\xe1 " is 10 years old", pero no se generar\xe1 ning\xfan error.'),(0,r.kt)("p",null,"Por \xfaltimo, con los par\xe1metros con nombre, el mantenimiento o la reproducci\xf3n de las aplicaciones es muy sencillo y seguro. Imagine que m\xe1s adelante se da cuenta de que a\xf1adir 10 a\xf1os no siempre es apropiado. Necesita otro par\xe1metro para definir cu\xe1ntos a\xf1os hay que a\xf1adir. Escriba:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'$person:=New object("Name";"Smith";"Age";40;"toAdd";10)\nChangeAge($person)\n\n//ChangeAge\nvar $1;$para : Object\n$para:=$1  \nIf ($para.toAdd=Null)\n    $para.toAdd:=10\nEnd if\n$para.Age:=Num($para.Age)+$para.toAdd\nALERT(String($para.Name)+" is "+String($para.Age)+" years old.")\n')),(0,r.kt)("p",null,"El poder aqu\xed es que no tendr\xe1 que cambiar su c\xf3digo existente. Siempre funcionar\xe1 como en la versi\xf3n anterior, pero si es necesario, puede utilizar otro valor que no sea 10 a\xf1os."),(0,r.kt)("p",null,"Con las variables con nombre, cualquier par\xe1metro puede ser opcional. En el ejemplo anterior, todos los par\xe1metros son opcionales y se puede dar cualquiera, en cualquier orden."),(0,r.kt)("h2",n({},{id:"par\xe1metros-opcionales"}),"Par\xe1metros opcionales"),(0,r.kt)("p",null,"En el manual ",(0,r.kt)("em",{parentName:"p"},"Lenguaje de 4D"),", los caracteres { } (llaves) indican par\xe1metros opcionales. Por ejemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"ALERT (message{; okButtonTitle})")," significa que el par\xe1metro ",(0,r.kt)("em",{parentName:"p"},"okButtonTitle")," puede omitirse al llamar al comando. Se puede llamar de las siguientes maneras:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'ALERT("Are you sure?";"Yes I am") //2 par\xe1metros\nALERT("Time is over") //1 par\xe1metro\n')),(0,r.kt)("p",null,"Los m\xe9todos y las funciones 4D tambi\xe9n aceptan estos par\xe1metros opcionales. Tenga en cuenta que aunque haya declarado 0, 1 o m\xe1s par\xe1metros en el m\xe9todo, siempre puede pasar el n\xfamero de par\xe1metros que desee. Si llama a un m\xe9todo o funci\xf3n con menos par\xe1metros que los declarados, los par\xe1metros que faltan se procesan como valores por defecto en el c\xf3digo llamado, ",(0,r.kt)("a",n({parentName:"p"},{href:"data-types.md#default-values"}),"seg\xfan su tipo"),". Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'// funci\xf3n "concate" de myClass\nFunction concate ($param1 : Text ; $param2 : Text)->$result : Text\n$result:=$param1+" "+$param2\n')),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  // M\xe9todo llamante\n $class:=cs.myClass.new()\n $class.concate("Hello") // "Hello "\n $class.concate() // Displays " "\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tambi\xe9n puede llamar a un m\xe9todo o funci\xf3n con m\xe1s par\xe1metros de los declarados. Estar\xe1n disponibles en el c\xf3digo llamado a trav\xe9s de la sintaxis ",(0,r.kt)("a",n({parentName:"p"},{href:"#parameter-indirection-n"}),"${N}"),".")),(0,r.kt)("p",null,"Utilizando el comando ",(0,r.kt)("inlineCode",{parentName:"p"},"Count parameters")," desde dentro del m\xe9todo llamado, puede detectar el n\xfamero real de par\xe1metros y realizar diferentes operaciones dependiendo de lo que haya recibido."),(0,r.kt)("p",null,"El siguiente ejemplo muestra un mensaje de texto y puede insertar el texto en un documento en el disco o en un \xe1rea de 4D Write Pro:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"// APPEND TEXT Project Method\n// APPEND TEXT ( Text { ; Text { ; Object } } )\n// APPEND TEXT ( Message { ; Path { ; 4DWPArea } } )\n\n Method($message : Text; $path : Text; $wpArea : Object)\n\n ALERT($message)\n If(Count parameters>=3)\n    WP SET TEXT($wpArea;$1;wk append)\n Else\n    If(Count parameters>=2)\n       TEXT TO DOCUMENT($path;$message)\n    End if\n End if\n")),(0,r.kt)("p",null,"Despu\xe9s de a\xf1adir este m\xe9todo proyecto a su aplicaci\xf3n, puede escribir:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'APPEND TEXT(vtSomeText) //S\xf3lo mostrar\xe1 el mensaje\nAPPEND TEXT(vtSomeText;$path) //Muestra el mensaje y el anexo al documento en $path\nAPPEND TEXT(vtSomeText;"";$wpArea) //Muestra el mensaje y lo escribe en $wpArea\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Cuando los par\xe1metros opcionales son necesarios en sus m\xe9todos, tambi\xe9n puede considerar el uso de ",(0,r.kt)("a",n({parentName:"p"},{href:"#using-objects-properties-as-named-parameters"}),"propiedades de objeto como par\xe1metros con nombre")," que ofrecen una forma flexible de manejar un n\xfamero variable de par\xe1metros.")),(0,r.kt)("h2",n({},{id:"valores-o-referencias"}),"Valores o referencias"),(0,r.kt)("p",null,"Cuando pasa un par\xe1metro, 4D siempre eval\xfaa la expresi\xf3n del par\xe1metro en el contexto del m\xe9todo que llama y define el ",(0,r.kt)("strong",{parentName:"p"},"valor resultante")," en las variables locales en la funci\xf3n de clase o la subrutina. Las variables/par\xe1metros locales no son los campos, variables o expresiones reales pasados por el m\xe9todo que llama; s\xf3lo contienen los valores que se han pasado. Las variables/par\xe1metros locales no son los campos, variables o expresiones reales pasados por el m\xe9todo que llama; s\xf3lo contienen los valores que se han pasado. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'    //Esta es una parte del c\xf3digo del m\xe9todo MY_METHOD\nDO_SOMETHING([People]Name) //Let\'s say [People]Name value is "williams"\nALERT([People]Name)\n\n    //Este es el c\xf3digo del m\xe9todo DO_SOMETHING\n $1:=Uppercase($1)\n ALERT($1)\n')),(0,r.kt)("p",null,"La caja de alerta mostrada por ",(0,r.kt)("inlineCode",{parentName:"p"},"DO_SOMETHING"),' dir\xe1 "WILLIAMS" y la caja de alerta mostrada por ',(0,r.kt)("inlineCode",{parentName:"p"},"MY_METHOD"),' dir\xe1 "williams". El m\xe9todo cambi\xf3 localmente el valor del par\xe1metro $1, pero esto no afecta al valor del campo ',(0,r.kt)("inlineCode",{parentName:"p"},"[People]Name")," pasado como par\xe1metro por el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"MY_METHOD"),"."),(0,r.kt)("p",null,"Hay dos formas de hacer que el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"DO_SOMETHING")," cambie el valor del campo:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"En lugar de pasar el campo al m\xe9todo, se pasa un puntero al mismo, por lo que se escribir\xeda:")),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //Esta es una parte del c\xf3digo del m\xe9todo MY_METHOD\n DO_SOMETHING(->[People]Name) //Let\'s say [People]Name value is "williams"\n ALERT([People]Last Name)\n\n  //Este es el c\xf3digo del m\xe9todo DO_SOMETHING\n $1->:=Uppercase($1->)\n ALERT($1->)\n')),(0,r.kt)("p",null,"Aqu\xed el par\xe1metro no es el campo, sino un puntero al mismo. Por lo tanto, dentro del m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"DO SOMETHING"),", $1 ya no es el valor del campo sino un puntero al campo. El objeto ",(0,r.kt)("strong",{parentName:"p"},"referenciado"),' por $1 ($1-> en el c\xf3digo anterior) es el campo real. Por lo tanto, cambiar el objeto referenciado va m\xe1s all\xe1 del alcance de la subrutina, y el campo real se ve afectado. En este ejemplo, las dos cajas de alerta dir\xe1n "WILLIAMS".'),(0,r.kt)("ol",n({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"En lugar de que el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"li"},"DO_SOMETHING"),' "haga algo", puede reescribir el m\xe9todo para que devuelva un valor. Por lo tanto, escribir\xeda:')),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'    //Esta es una parte del c\xf3digo del m\xe9todo MY_METHO\n [People]Name:=DO_SOMETHING([People]Name) //Let\'s say [People]Name value is "williams"\n ALERT([People]Name)\n\n    //Este es el c\xf3digo del m\xe9todo DO_SOMETHING\n $0:=Uppercase($1)\n ALERT($0)\n')),(0,r.kt)("p",null,'Esta segunda t\xe9cnica de retornar un valor por una subrutina se llama " utilizar una funci\xf3n" Se describe en el p\xe1rrafo ',(0,r.kt)("a",n({parentName:"p"},{href:"#functions"}),"Funciones"),". Se describe en el p\xe1rrafo ",(0,r.kt)("a",n({parentName:"p"},{href:"#returning-values"}),"Valores devueltos"),"."),(0,r.kt)("h3",n({},{id:"casos-particulares-objetos-y-colecciones"}),"Casos particulares: objetos y colecciones"),(0,r.kt)("p",null,"Debe prestar atenci\xf3n al hecho de que los tipos de datos Objeto y Colecci\xf3n s\xf3lo pueden manejarse a trav\xe9s de una referencia (es decir, un ",(0,r.kt)("em",{parentName:"p"},"puntero")," interno)."),(0,r.kt)("p",null,"Por consiguiente, cuando se utilizan estos tipos de datos como par\xe1metros, ",(0,r.kt)("inlineCode",{parentName:"p"},"$1, $2...")," no contienen ",(0,r.kt)("em",{parentName:"p"},"valores")," sino ",(0,r.kt)("em",{parentName:"p"},"referencias"),". La modificaci\xf3n del valor de los par\xe1metros ",(0,r.kt)("inlineCode",{parentName:"p"},"$1, $2...")," dentro de la subrutina se propagar\xe1 a cualquier lugar donde se utilice el objeto o colecci\xf3n fuente. Este es el mismo principio que para ",(0,r.kt)("a",n({parentName:"p"},{href:"dt_pointer.md#pointers-as-parameters-to-methods"}),"los punteros"),", excepto que los par\xe1metros ",(0,r.kt)("inlineCode",{parentName:"p"},"$1, $2...")," no necesitan ser desreferenciados en la subrutina."),(0,r.kt)("p",null,"Por ejemplo, considere el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"CreatePerson")," que crea un objeto y lo env\xeda como par\xe1metro:"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),'  //CreatePerson\n var $person : Object\n $person:=New object("Name";"Smith";"Age";40)\n ChangeAge($person)\n ALERT(String($person.Age))  \n')),(0,r.kt)("p",null,"El m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"ChangeAge")," a\xf1ade 10 al atributo Age del objeto recibido"),(0,r.kt)("pre",null,(0,r.kt)("code",n({parentName:"pre"},{className:"language-4d"}),"  //ChangeAge\n #DECLARE ($person : Object)\n $person.Age:=$person.Age+10\n ALERT(String($person.Age))\n")),(0,r.kt)("p",null,"Cuando se ejecuta el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"CreatePerson"),', las dos cajas de alerta dir\xe1n "50" ya que la misma referencia de objeto es manejada por ambos m\xe9todos.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"4D Server:"),' cuando se pasan par\xe1metros entre m\xe9todos que no se ejecutan en la misma m\xe1quina (utilizando por ejemplo la opci\xf3n "Ejecutar en el servidor"), las referencias no son utilizables. En estos casos, se env\xedan copias de los par\xe1metros de objetos y colecciones en lugar de referencias.'))}u.isMDXComponent=!0}}]);