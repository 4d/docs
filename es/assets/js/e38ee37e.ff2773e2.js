"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[28335],{603905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(667294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,d=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=s(a),u=l,k=c["".concat(d,".").concat(u)]||c[u]||m[u]||r;return a?n.createElement(k,o(o({ref:t},p),{},{components:a})):n.createElement(k,o({ref:t},p))}));function u(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,o=new Array(r);o[0]=c;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:l,o[1]=i;for(var s=2;s<r;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},855226:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>d,toc:()=>p});a(667294);var n=a(603905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const o={id:"DataStoreClass",title:"DataStore"},i=void 0,d={unversionedId:"API/DataStoreClass",id:"version-20-R4/API/DataStoreClass",title:"DataStore",description:"Un Datastore es el objeto de interfaz suministrado por ORDA para referenciar y acceder a una base de datos. Los objetos Datastore son devueltos por los siguientes comandos:",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R4/API/DataStoreClass.md",sourceDirName:"API",slug:"/API/DataStoreClass",permalink:"/docs/es/20-R4/API/DataStoreClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataStoreClass.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"DataStoreClass",title:"DataStore"},sidebar:"docs",previous:{title:"DataClass",permalink:"/docs/es/20-R4/API/DataClassClass"},next:{title:"Email",permalink:"/docs/es/20-R4/API/EmailObjectClass"}},s={},p=[{value:"Resumen",id:"resumen",level:3},{value:"ds",id:"ds",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo 1",id:"ejemplo-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:"Open datastore",id:"open-datastore",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo 1",id:"ejemplo-1-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2-1",level:4},{value:"Ejemplo 3",id:"ejemplo-3",level:4},{value:"Gesti\xf3n de errores",id:"gesti\xf3n-de-errores",level:4},{value:"<em>.dataclassName</em>",id:"dataclassname",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".cancelTransaction()",id:"canceltransaction",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".clearAllRemoteContexts()",id:"clearallremotecontexts",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:".encryptionStatus()",id:"encryptionstatus",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".flushAndLock()",id:"flushandlock",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-1",level:4},{value:".getAllRemoteContexts()",id:"getallremotecontexts",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:"Ejemplo",id:"ejemplo-7",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-2",level:4},{value:".getGlobalStamp()",id:"getglobalstamp",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-8",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-3",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:"Ejemplo 1",id:"ejemplo-1-2",level:4},{value:"Ejemplo 2",id:"ejemplo-2-2",level:4},{value:".getRemoteContextInfo()",id:"getremotecontextinfo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:"Objeto devuelto",id:"objeto-devuelto",level:4},{value:"Ejemplo",id:"ejemplo-9",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-4",level:4},{value:".getRequestLog()",id:"getrequestlog",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4},{value:"Ejemplo",id:"ejemplo-10",level:4},{value:".isAdminProtected()",id:"isadminprotected",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-12",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-5",level:4},{value:".locked()",id:"locked",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-13",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-6",level:4},{value:".makeSelectionsAlterable()",id:"makeselectionsalterable",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-14",level:4},{value:".provideDataKey()",id:"providedatakey",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-15",level:4},{value:"Ejemplo",id:"ejemplo-11",level:4},{value:".setAdminProtection()",id:"setadminprotection",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-16",level:4},{value:"Ejemplo",id:"ejemplo-12",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-7",level:4},{value:".setGlobalStamp()",id:"setglobalstamp",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-17",level:4},{value:"Ejemplo",id:"ejemplo-13",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-8",level:4},{value:".setRemoteContextInfo()",id:"setremotecontextinfo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-18",level:4},{value:"Ejemplo 1",id:"ejemplo-1-3",level:4},{value:"Ejemplo 2",id:"ejemplo-2-3",level:4},{value:"Ejemplo 3 - Listbox",id:"ejemplo-3---listbox",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-9",level:4},{value:".startRequestLog()",id:"startrequestlog",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-19",level:4},{value:"Del lado del cliente",id:"del-lado-del-cliente",level:4},{value:"Del lado del servidor",id:"del-lado-del-servidor",level:4},{value:"Ejemplo 1",id:"ejemplo-1-4",level:4},{value:"Ejemplo 2",id:"ejemplo-2-4",level:4},{value:"Ejemplo 3",id:"ejemplo-3-1",level:4},{value:".startTransaction()",id:"starttransaction",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-20",level:4},{value:"Ejemplo",id:"ejemplo-14",level:4},{value:".stopRequestLog()",id:"stoprequestlog",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-21",level:4},{value:"Ejemplo",id:"ejemplo-15",level:4},{value:".unlock()",id:"unlock",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-22",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-10",level:4},{value:".validateTransaction()",id:"validatetransaction",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-23",level:4},{value:"Ejemplo",id:"ejemplo-16",level:4}],m={toc:p};function c(e){var{components:t}=e,a=r(e,["components"]);return(0,n.kt)("wrapper",l({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Un ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/dsmapping#datastore"}),"Datastore")," es el objeto de interfaz suministrado por ORDA para referenciar y acceder a una base de datos. Los objetos ",(0,n.kt)("inlineCode",{parentName:"p"},"Datastore")," son devueltos por los siguientes comandos:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"#ds"}),"ds"),": un acceso directo al almac\xe9n de datos principal"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"#open-datastore"}),"Open datastore"),": para abrir todo almac\xe9n de datos remoto")),(0,n.kt)("h3",l({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#canceltransaction"}),(0,n.kt)("strong",{parentName:"a"},".cancelTransaction()")),"\xa0","\xa0","\xa0","\xa0","cancela la transacci\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#clearallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".clearAllRemoteContexts()")),"\xa0","\xa0","\xa0","\xa0","borra todos los atributos de todos los contextos activos en el almac\xe9n de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#dataclassname"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),"\xa0","\xa0","\xa0","\xa0","contiene una descripci\xf3n de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#encryptionstatus"}),(0,n.kt)("strong",{parentName:"a"},".encryptionStatus()"),": Object"),"\xa0","\xa0","\xa0","\xa0","devuelve un objeto que indica el estado de encriptaci\xf3n del archivo de datos actual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#flushAndLock"}),(0,n.kt)("strong",{parentName:"a"},".flushAndLock()")),"\xa0","\xa0","\xa0","\xa0","vac\xeda la cach\xe9 del datastore local e impide que los otros procesos realicen operaciones de escritura en la base de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".getAllRemoteContexts()")," : Collection"),"\xa0","\xa0","\xa0","\xa0","devuelve una colecci\xf3n de objetos que contienen informaci\xf3n sobre todos los contextos de optimizaci\xf3n de activos en el almac\xe9n de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".getGlobalStamp"),"() : Real"),"\xa0","\xa0","\xa0","\xa0","devuelve el valor actual del marcador de modificaci\xf3n global del datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()"),": Object"),"\xa0","\xa0","\xa0","\xa0","The ",(0,n.kt)("inlineCode",{parentName:"td"},".getInfo()")," function")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text): Object "),"\xa0","\xa0","\xa0","\xa0"," devuelve un objeto que contiene informaci\xf3n sobre el contexto de optimizaci\xf3n ",(0,n.kt)("em",{parentName:"td"},"contextName")," en el datastore.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".getRequestLog()")," : Collection"),"\xa0","\xa0","\xa0","\xa0","devuelve las peticiones ORDA registradas en memoria del lado del cliente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#locked"}),(0,n.kt)("strong",{parentName:"a"},".locked()"),": Boolean"),"\xa0","\xa0","\xa0","\xa0","devuelve True si el datastore local est\xe1 bloqueado en ese momento")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#makeselectionsalterable"}),(0,n.kt)("strong",{parentName:"a"},".makeSelectionsAlterable()")),"\xa0","\xa0","\xa0","\xa0","define todas las selecciones de entidades como alterables por defecto en los almacenes de datos de la aplicaci\xf3n actual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#providedatakey"}),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curDataKey")," : Object ) : Object "),"\xa0","\xa0","\xa0","\xa0","permite proveer una llave de encriptaci\xf3n de datos para el archivo de datos actual del datastore y detecta si la llave coincide con los datos encriptados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#setadminprotection"}),(0,n.kt)("strong",{parentName:"a"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"a"},"status")," : Boolean )"),"\xa0","\xa0","\xa0","\xa0","permite desactivar todo acceso a los datos en el ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/20-R4/Admin/webAdmin#http-port"}),"puerto de administraci\xf3n web"),", incluso para el ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/20-R4/Admin/dataExplorer"}),"Explorador de datos")," en las sesiones ",(0,n.kt)("inlineCode",{parentName:"td"},"WebAdmin"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#setglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"a"},"newStamp")," : Real)"),"\xa0","\xa0","\xa0","\xa0","define ",(0,n.kt)("em",{parentName:"td"},"newStamp")," como nuevo valor del marcador de modificaci\xf3n global actual para el datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#setremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )"),"\xa0","\xa0","\xa0","\xa0","vincula los atributos de dataclass especificados con el contexto de optimizaci\xf3n ",(0,n.kt)("em",{parentName:"td"},"contextName"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#startrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"reqNum")," : Integer )"),"\xa0","\xa0","\xa0","\xa0","inicia el registro de peticiones ORDA del lado del cliente o del lado del servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#starttransaction"}),(0,n.kt)("strong",{parentName:"a"},".startTransaction()")),"\xa0","\xa0","\xa0","\xa0","inicia una transacci\xf3n en el proceso actual en la base de datos que coincide con el almac\xe9n de datos al que se aplica")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#stoprequestlog"}),(0,n.kt)("strong",{parentName:"a"},".stopRequestLog()"),"  "),"\xa0","\xa0","\xa0","\xa0","detiene todo registro de peticiones ORDA en la m\xe1quina a la que se llama (cliente o servidor)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#unlock"}),(0,n.kt)("strong",{parentName:"a"},".unlock()")),"\xa0","\xa0","\xa0","\xa0","elimina el bloqueo actual de las operaciones de escritura en el datastore, si se ha definido en el mismo proceso")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#validatetransaction"}),(0,n.kt)("strong",{parentName:"a"},".validateTransaction()"),"  "),"\xa0","\xa0","\xa0","\xa0","acepta la transacci\xf3n")))),(0,n.kt)("h2",l({},{id:"ds"}),"ds"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte del par\xe1metro localID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ds")," { ( ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) } : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID local del almac\xe9n de datos remoto a devolver")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Referencia al almac\xe9n de datos")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"El comando ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," devuelve una referencia al almac\xe9n de datos que coincide con la base de datos 4D actual o con la base de datos designada por ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"Si se omite el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"localID"),' (o se pasa una cadena vac\xeda ""), el comando devuelve una referencia al almac\xe9n de datos que coincide con la base de datos local de 4D (o la base de datos de 4D Server en caso de abrir una base de datos remota en 4D Server). El almac\xe9n de datos se abre autom\xe1ticamente y est\xe1 disponible directamente a trav\xe9s de ',(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"."),(0,n.kt)("p",null,"Tambi\xe9n puede obtener una referencia en un datastore remoto abierto pasando su id local en el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"localID"),". El almac\xe9n de datos debe haber sido abierto previamente con el comando ",(0,n.kt)("a",l({parentName:"p"},{href:"#open-datastore"}),(0,n.kt)("inlineCode",{parentName:"a"},"Open datastore"))," por la base de datos actual (local o componente). La identificaci\xf3n local se define cuando se utiliza este comando."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El alcance del id local es la base de datos en la que se ha abierto el almac\xe9n de datos.")),(0,n.kt)("p",null,"Si no se encuentra ning\xfan almac\xe9n de datos ",(0,n.kt)("em",{parentName:"p"},"localID"),", el comando devuelve ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"Objetos disponibles en ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," se mapean desde la base de datos de destino con respecto a las ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/dsmapping#general-rules"}),"reglas generales ORDA"),"."),(0,n.kt)("h4",l({},{id:"ejemplo-1"}),"Ejemplo 1"),(0,n.kt)("p",null,"Utilizando el almac\xe9n de datos principal de la base 4D:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $result:=ds.Employee.query("firstName = :1";"S@")\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2"}),"Ejemplo 2"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $connectTo; $firstFrench; $firstForeign : Object\n\n var $frenchStudents; $foreignStudents : cs.DataStore\n\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n  //...\n  //...\n $firstFrench:=getFirst("french";"Students")\n $firstForeign:=getFirst("foreign";"Students")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //getFirst method\n  //getFirst(localID;dataclass) -> entity\n #DECLARE( $localId : Text; $dataClassName : Text ) -> $entity : 4D.Entity\n\n $0:=ds($localId)[$dataClassName].all().first()\n")),(0,n.kt)("h2",l({},{id:"open-datastore"}),"Open datastore"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R4"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"New ",(0,n.kt)("em",{parentName:"td"},"passwordAlgorithm")," property")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Open datastore"),"( ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," : Object ; ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"connectionInfo"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Propiedades de conexi\xf3n utilizadas para alcanzar el almac\xe9n de datos remoto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Id para asignar al almac\xe9n de datos abierto en la aplicaci\xf3n local (obligatorio)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto del almac\xe9n de datos")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"El comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," conecta la aplicaci\xf3n a la base de datos 4D identificada por el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," y devuelve un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.DataStore")," coincidente asociado al alias local ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"La base de datos ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," 4D debe estar disponible como almac\xe9n de datos remoto, es decir:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"su servidor web debe ser lanzado con http y/o https activado,"),(0,n.kt)("li",{parentName:"ul"},"su opci\xf3n ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/20-R4/REST/configuration#starting-the-rest-server"}),(0,n.kt)("strong",{parentName:"a"},"Exponer como servidor REST"))," debe estar marcada,"),(0,n.kt)("li",{parentName:"ul"},"se dispone de al menos una licencia cliente.")),(0,n.kt)("p",null,"Si no se encuentra ninguna base de datos coincidente, ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," devuelve ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"localID")," es un alias local para la sesi\xf3n abierta en el almac\xe9n de datos remoto. Si ",(0,n.kt)("em",{parentName:"p"},"localID")," ya existe en la aplicaci\xf3n, se utiliza. En caso contrario, se crea una nueva sesi\xf3n ",(0,n.kt)("em",{parentName:"p"},"localID")," cuando se utiliza el objeto datastore."),(0,n.kt)("p",null,"Objetos disponibles en ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," se mapean desde la base de datos de destino con respecto a las ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/dsmapping#general-rules"}),"reglas generales ORDA"),"."),(0,n.kt)("p",null,"Una vez abierta la sesi\xf3n, las siguientes sentencias son equivalentes y devuelven una referencia sobre el mismo objeto datastore:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $myds:=Open datastore(connectionInfo;"myLocalId")\n $myds2:=ds("myLocalId")\n  //$myds y $myds2 son equivalentes\n')),(0,n.kt)("p",null,"Pase en ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," un objeto que describa el almac\xe9n de datos remoto al que desea conectarse. Puede contener las siguientes propiedades (todas las propiedades son opcionales excepto ",(0,n.kt)("em",{parentName:"p"},"hostname"),"):"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"hostname"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Nombre o direcci\xf3n IP de la base de datos remota + ":" + n\xfamero de puerto (el n\xfamero de puerto es obligatorio)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"user"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de usuario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"contrase\xf1a"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Contrase\xf1a del usuario. By default, the password is sent in clear form, therefore it is ",(0,n.kt)("strong",{parentName:"td"},"strongly recommended")," to use encrypted communications by passing ",(0,n.kt)("inlineCode",{parentName:"td"},"true")," in the ",(0,n.kt)("inlineCode",{parentName:"td"},"tls")," property.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"idleTimeout"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tiempo de espera de la sesi\xf3n de inactividad (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D. Si se omite, el valor por defecto es 60 (1h). El valor no puede ser < 60 (si se pasa un valor inferior, el tiempo de espera se establece en 60). Para m\xe1s informaci\xf3n, consulte ",(0,n.kt)("strong",{parentName:"td"},"Cierre de sesiones"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"tls"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Utilice una conexi\xf3n segura(*). Si se omite, es false por defecto. Se recomienda utilizar una conexi\xf3n segura siempre que sea posible.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"passwordAlgorithm"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Pass "4d-rest-digest" if the server validates the password using the ',(0,n.kt)("a",l({parentName:"td"},{href:"https://doc.4d.com/4dv20/help/command/en/page638.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Validate password"))," command with the ",(0,n.kt)("em",{parentName:"td"},"digest")," parameter set to ",(0,n.kt)("inlineCode",{parentName:"td"},"true"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Debe ser "4D Server"')))),(0,n.kt)("p",null,"(*) Si tls es true, se utiliza el protocolo HTTPS si:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"HTTPS est\xe1 activado en el almac\xe9n de datos remoto"),(0,n.kt)("li",{parentName:"ul"},"el n\xfamero de puerto especificado coincide con el puerto HTTPS configurado en los ajustes de la base de datos"),(0,n.kt)("li",{parentName:"ul"},'un certificado v\xe1lido y una llave privada de encriptaci\xf3n est\xe1n instalados en la base de datos. En caso contrario, se produce el error "1610 - Una solicitud remota al host xxx ha fallado"')),(0,n.kt)("h4",l({},{id:"ejemplo-1-1"}),"Ejemplo 1"),(0,n.kt)("p",null,"Conexi\xf3n a un almac\xe9n de datos remoto sin usuario/contrase\xf1a:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-1"}),"Ejemplo 2"),(0,n.kt)("p",null,"Conexi\xf3n a un almac\xe9n de datos remoto con usuario/contrase\xf1a/ timeout / tls:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs.DataStore\n $connectTo:=New object("type";"4D Server";"hostname";\\"192.168.18.11:4443";\\  \n  "user";"marie";"password";$pwd;"idleTimeout";70;"tls";True)\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS.Students.all().length)+" students")\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3"}),"Ejemplo 3"),(0,n.kt)("p",null,"Trabajar con varios almacenes de datos remotos:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $frenchStudents; $foreignStudents : cs.DataStore\n $connectTo:=New object("hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n ALERT("They are "+String($frenchStudents.Students.all().length)+" French students")\n ALERT("They are "+String($foreignStudents.Students.all().length)+" foreign students")\n')),(0,n.kt)("h4",l({},{id:"gesti\xf3n-de-errores"}),"Gesti\xf3n de errores"),(0,n.kt)("p",null,"En caso de error, el comando devuelve ",(0,n.kt)("strong",{parentName:"p"},"Null"),'. Si no se puede acceder al almac\xe9n de datos remoto (direcci\xf3n incorrecta, servidor web no iniciado, http y https no habilitados...), se produce el error 1610 "Ha fallado una petici\xf3n remota al host XXX". Puede interceptar este error con un m\xe9todo instalado por ',(0,n.kt)("inlineCode",{parentName:"p"},"ON ERR CALL"),"."),(0,n.kt)("h2",l({},{id:"dataclassname"}),(0,n.kt)("em",{parentName:"h2"},".dataclassName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Cada clase de datos de un almac\xe9n de datos est\xe1 disponible como una propiedad del objeto ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/dsmapping#datastore"}),"DataStore"),"data. El objeto devuelto contiene una descripci\xf3n de la dataclass."),(0,n.kt)("h4",l({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $emp : cs.Employee\n var $sel : cs.EmployeeSelection\n $emp:=ds.Employee //$emp contiene la dataclass Employee \n $sel:=$emp.all() //obtiene una selecci\xf3n de entidades de todos los empleados\n\n  //tambi\xe9n puede escribir directamente:\n $sel:=ds.Employee.all()\n")),(0,n.kt)("h2",l({},{id:"canceltransaction"}),".cancelTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".cancelTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:"center"})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," cancela la transacci\xf3n abierto por la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," en el nivel correspondiente del proceso actual para el almac\xe9n de datos especificado."),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," cancela cualquier cambio realizado en los datos durante la transacci\xf3n."),(0,n.kt)("p",null,"Puede anidar varias transacciones (subtransacciones). Si se cancela la transacci\xf3n principal, tambi\xe9n se cancelan todas sus subtransacciones, aunque se hayan validado individualmente mediante la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#validatetransactions"}),(0,n.kt)("inlineCode",{parentName:"a"},".validateTransaction()")),"."),(0,n.kt)("h4",l({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("p",null,"Ver el ejemplo de la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."),(0,n.kt)("h2",l({},{id:"clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearAllRemoteContexts()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:"center"})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," borra todos los atributos de todos los contextos activos en el almac\xe9n de datos."),(0,n.kt)("p",null,"Esta funci\xf3n se utiliza principalmente en el contexto de la depuraci\xf3n. Una cosa a tener en cuenta es que cuando se abre el depurador, \xe9ste env\xeda peticiones al servidor y consulta todos los atributos de la clase de datos para mostrarlos. Esto puede sobrecargar sus contextos con datos innecesarios."),(0,n.kt)("p",null,"En estos casos, puede utilizar ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," para reinicializar sus contextos."),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,n.kt)("h2",l({},{id:"encryptionstatus"}),".encryptionStatus()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".encryptionStatus()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Informaci\xf3n sobre el cifrado del almac\xe9n de datos actual y de cada tabla")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".encryptionStatus()")," devuelve un objeto que indica el estado de encriptaci\xf3n del archivo de datos actual (es decir, el archivo de datos del almac\xe9n de datos ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"). Tambi\xe9n se proporciona el estado de cada tabla."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Utilice el comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Data file encryption status")," para determinar el estado de encriptaci\xf3n de cualquier otro archivo de datos.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valor devuelto")),(0,n.kt)("p",null,"El objeto devuelto contiene las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si el archivo de datos est\xe1 encriptado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"keyProvided"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si se proporciona la llave de encriptaci\xf3n que coincide con el archivo de datos encriptados(*).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"tablas"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto que contiene tantas propiedades como tablas encriptadas o codificadas.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"tableName")),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tabla encriptada o cifrada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la tabla")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"num"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de tabla")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"isEncryptable"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Verdadero si la tabla est\xe1 declarada como encriptada en el archivo de estructura")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si los registros de la tabla est\xe1n encriptados en el archivo de datos")))),(0,n.kt)("p",null,"(*) Se puede suministrar la llave de encriptaci\xf3n:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"con el comando ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()"),","),(0,n.kt)("li",{parentName:"ul"},"en la ra\xedz de un dispositivo conectado antes de abrir el almac\xe9n de datos,"),(0,n.kt)("li",{parentName:"ul"},"con el comando ",(0,n.kt)("inlineCode",{parentName:"li"},"Discover data key"),".")),(0,n.kt)("h4",l({},{id:"ejemplo-5"}),"Ejemplo"),(0,n.kt)("p",null,"Quiere saber el n\xfamero de tablas encriptadas en el archivo de datos actual:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n\n $status:=ds.encryptionStatus()\n\n If($status.isEncrypted) //the database is encrypted\n    C_LONGINT($vcount)\n    C_TEXT($tabName)\n    For each($tabName;$status.tables)\n       If($status.tables[$tabName].isEncrypted)\n          $vcount:=$vcount+1\n       End if\n    End for each\n    ALERT(String($vcount)+" encrypted table(s) in this datastore.")\n Else\n    ALERT("This database is not encrypted.")\n End if\n Else\n    ALERT("This database is not encrypted.")\n End if\n')),(0,n.kt)("h2",l({},{id:"flushandlock"}),".flushAndLock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".flushAndLock()")),(0,n.kt)("p",null,"| Par\xe1metros | Tipo |  | Descripci\xf3n                                             |\n| ---------- | ---- |  | ------------------------------------------------------- |\n|            |      |  | No requiere ning\xfan par\xe1metro|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," vac\xeda la cach\xe9 del datastore local e impide que los otros procesos realicen operaciones de escritura en la base de datos. El datastore se pone en un estado consistente y congelado. Es necesario llamar a esta funci\xf3n antes de ejecutar una instant\xe1nea de la aplicaci\xf3n, por ejemplo."),(0,n.kt)("admonition",l({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n s\xf3lo puede llamarse:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"en el datastore (",(0,n.kt)("a",l({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"en entorno cliente/servidor, en la m\xe1quina servidor."))),(0,n.kt)("p",null,"Una vez ejecutada esta funci\xf3n, las operaciones de escritura como ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," u otras llamadas a ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," se congelan en todos los dem\xe1s procesos hasta que se desbloquee el datastore."),(0,n.kt)("p",null,"Cuando se han realizado varias llamadas a ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," en el mismo proceso, se debe ejecutar el mismo n\xfamero de llamadas a ",(0,n.kt)("a",l({parentName:"p"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," para desbloquear realmente el datastore."),(0,n.kt)("p",null,"El datastore se desbloquea cuando:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"se llama a la funci\xf3n ",(0,n.kt)("a",l({parentName:"li"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," en el mismo proceso, o"),(0,n.kt)("li",{parentName:"ul"},"el proceso que llam\xf3 a la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"li"},".flushAndLock()")," es eliminado.")),(0,n.kt)("p",null,"Si el datastore ya est\xe1 bloqueado desde otro proceso, la llamada a ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," se congela y se ejecutar\xe1 cuando se desbloquee el datastore."),(0,n.kt)("p",null,"Se produce un error si la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," no puede ejecutarse (por ejemplo, se ejecuta en un 4D remoto), ."),(0,n.kt)("admonition",l({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"Otras funcionalidades y servicios de 4D, como ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/Backup/"}),"backup"),", ",(0,n.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4Dv20/4D/20/Using-Volume-Shadow-Copy-Service-on-Windows.300-6330532.en.html"}),"vss")," y ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/MSC/overview"}),"MSC")," tambi\xe9n pueden bloquear el datastore. Antes de llamar a ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", aseg\xfarese de que no se est\xe1 utilizando ninguna otra acci\xf3n de bloqueo, para evitar cualquier interacci\xf3n inesperada.")),(0,n.kt)("h4",l({},{id:"ejemplo-6"}),"Ejemplo"),(0,n.kt)("p",null,"Desea crear una copia de la carpeta de datos junto con su archivo de historial actual:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$destination:=Folder(fk documents folder).folder("Archive") \n$destination.create()\n\nds.flushAndLock() //Bloquear operaciones de escritura de otros procesos\n\n$dataFolder:=Folder(fk data folder) \n$dataFolder.copyTo($destination) //Copiar la carpeta de datos\n\n$oldJournalPath:=New log file //Cerrar el historial y crear uno nuevo\n$oldJournal:=File($oldJournalPath; fk platform path) \n$oldJournal.moveTo($destination) //Guardar el antiguo historial con datos\n\nds.unlock() //Nuestra copia ha terminado, ahora podemos desbloquear el datastore\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-1"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#locked"}),".locked()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",l({},{id:"getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de objetos contextos de optimizaci\xf3n")))),(0,n.kt)("p",null,"|"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avanzado:")," esta funci\xf3n est\xe1 pensada para los desarrolladores que necesitan personalizar las funcionalidades por defecto de ORDA para configuraciones espec\xedficas. En la mayor\xeda de los casos, no ser\xe1 necesario utilizarla.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()")," devuelve una colecci\xf3n de objetos que contienen informaci\xf3n sobre todos los contextos de optimizaci\xf3n de activos en el almac\xe9n de datos."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para m\xe1s informaci\xf3n sobre c\xf3mo se pueden crear contextos, ver ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/datastores#clientserver-optimization"}),"client/server optimization"),".")),(0,n.kt)("p",null,"Cada objeto de la colecci\xf3n devuelta contiene las propiedades listadas en la secci\xf3n.",(0,n.kt)("a",l({parentName:"p"},{href:"#properties-of-the-returned-object"}),(0,n.kt)("inlineCode",{parentName:"a"},".getRemoteContextInfo()")),"."),(0,n.kt)("h4",l({},{id:"ejemplo-7"}),"Ejemplo"),(0,n.kt)("p",null,"El siguiente c\xf3digo define dos contextos y los recupera utilizando ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $addresses : cs.AddressSelection\nvar $p : cs.PersonsEntity\nvar $a : cs.AddressEntity\nvar $contextA; $contextB : Object\nvar $info : Collection\nvar $text : Text\n\n// Open remote datastore\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// Set context A\n$contextA:=New object("context"; "contextA")\n$persons:=$ds.Persons.all($contextA)\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n// Set context B\n$contextB:=New object("context"; "contextB")\n$addresses:=$ds.Address.all($contextB)\n$text:=""\nFor each ($a; $addresses)\n    $text:=$a.zipCode\nEnd for each\n\n// Get all remote contexts (in this case, contextA and contextB)\n$info:=$ds.getAllRemoteContexts()\n//$info = [{name:"contextB"; dataclass: "Address"; main:"zipCode"},\n{name:"contextA";dataclass:"Persons";main:"firstname,address.city"}]\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Este ejemplo sirve como demostraci\xf3n, no est\xe1 pensado para una implementaci\xf3n real.")),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-2"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",l({},{id:"getglobalstamp"}),".getGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getGlobalStamp"),"() : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor actual del marcador de modificaci\xf3n global")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".getGlobalStamp()")," devuelve el valor actual del marcador de modificaci\xf3n global del datastore."),(0,n.kt)("admonition",l({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n s\xf3lo puede llamarse:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"en el datastore (",(0,n.kt)("a",l({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"en entorno cliente/servidor, en la m\xe1quina servidor."))),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n sobre el marcador global y el seguimiento de las modificaciones de datos, consulte la p\xe1gina ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Uso del marcador global")),"."),(0,n.kt)("h4",l({},{id:"ejemplo-8"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $currentStamp : Real\nvar $hasModifications : Boolean\n\n$currentStamp:=ds.getGlobalStamp()\nmethodWhichCouldModifyEmployees //ejecutar c\xf3digo \n$hasModifications:=($currentStamp # ds.getGlobalStamp())\n")),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-3"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#setglobalstamp"}),".setGlobalStamp()")),(0,n.kt)("h2",l({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Propiedades del almac\xe9n de datos")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," The ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," function. Esta funci\xf3n es \xfatil para configurar el c\xf3digo gen\xe9rico."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Objeto devuelto")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"string"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("li",null,'"4D": almac\xe9n de datos principal, disponible a trav\xe9s de ds '),(0,n.kt)("li",null,'"4D Server": almac\xe9n de datos remoto, abierto con Open datastore'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"networked"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"True: el almac\xe9n de datos se alcanza a trav\xe9s de una conexi\xf3n de red."),(0,n.kt)("li",null,"False: no se llega al almac\xe9n de datos a trav\xe9s de una conexi\xf3n de red (base de datos local)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID del almac\xe9n de datos en la m\xe1quina. Corresponde a la cadena localId dada con el comando ",(0,n.kt)("inlineCode",{parentName:"td"},"Open datastore"),'. Cadena vac\xeda ("") para el almac\xe9n de datos principal.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"connection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto que describe la conexi\xf3n del almac\xe9n de datos remoto (no se devuelve para el almac\xe9n de datos principal). Propiedades disponibles:",(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Propiedad"),(0,n.kt)("th",null,"Tipo"),(0,n.kt)("th",null,"Descripci\xf3n")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"hostname"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,'Direcci\xf3n IP o nombre del datastore remoto + ":" + n\xfamero de puerto')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"tls"),(0,n.kt)("td",null,"boolean"),(0,n.kt)("td",null,"True si se utiliza una conexi\xf3n segura con el almac\xe9n de datos remoto")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"idleTimeout"),(0,n.kt)("td",null,"number"),(0,n.kt)("td",null,"Tiempo de inactividad de la sesi\xf3n (en minutos)")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"user"),(0,n.kt)("td",null,"text"),(0,n.kt)("td",null,"Usuario autentificado en el almac\xe9n de datos remoto"))))))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Si la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," se ejecuta en un 4D Server o 4D monopuesto, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," es False."),(0,n.kt)("li",{parentName:"ul"},"Si la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," se ejecuta en un 4D remoto, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," es True")),(0,n.kt)("h4",l({},{id:"ejemplo-1-2"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $info : Object\n\n $info:=ds.getInfo() //Ejecutado en 4D Server o 4D\n  //{"type":"4D","networked":false,"localID":""}\n\n $info:=ds.getInfo() // Ejecutado en 4D remoto\n  //{"type":"4D","networked":true,"localID":""}\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-2"}),"Ejemplo 2"),(0,n.kt)("p",null,"En un almac\xe9n de datos remoto:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'  var $remoteDS : cs.DataStore\n  var $info; $connectTo : Object\n\n $connectTo:=New object("hostname";"111.222.33.44:8044";"user";"marie";"password";"aaaa")\n $remoteDS:=Open datastore($connectTo;"students")\n $info:=$remoteDS.getInfo()\n\n  //{"type":"4D Server",\n  //"localID":"students",\n  //"networked":true,\n  //"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}\n')),(0,n.kt)("h2",l({},{id:"getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text): Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del contexto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Descripci\xf3n del contexto de optimizaci\xf3n")))),(0,n.kt)("p",null,"|"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avanzado:")," esta funci\xf3n est\xe1 pensada para los desarrolladores que necesitan personalizar las funcionalidades por defecto de ORDA para configuraciones espec\xedficas. En la mayor\xeda de los casos, no ser\xe1 necesario utilizarla.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteContextInfo()"),"  devuelve un objeto que contiene informaci\xf3n sobre el contexto de optimizaci\xf3n ",(0,n.kt)("em",{parentName:"p"},"contextName")," en el datastore.."),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n sobre c\xf3mo se pueden crear contextos de optimizaci\xf3n, ver ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/datastores#clientserver-optimization"}),"Optimizaci\xf3n cliente/servidor"),"."),(0,n.kt)("h4",l({},{id:"objeto-devuelto"}),"Objeto devuelto"),(0,n.kt)("p",null,"El objeto devuelto tiene las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del contexto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"main"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Atributo(s) asociado(s) al contexto (los nombres de atributos est\xe1n separados por comas)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"dataclass"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la clase de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"currentItem (opcional)"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Los atributos del ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/20-R4/ORDA/datastores#entity-selection-based-list-box"}),"modo p\xe1gina")," si el contexto est\xe1 vinculado a un list box. Se devuelve como ",(0,n.kt)("inlineCode",{parentName:"td"},"Null")," o elemento de texto vac\xedo si el nombre del contexto no se utiliza para un list box, o si no hay contexto para el elemento actual (currentItem)")))),(0,n.kt)("p",null,"Como los contextos se comportan como filtros de atributos, si ",(0,n.kt)("em",{parentName:"p"},"main")," se devuelve vac\xedo, significa que no se aplica ning\xfan filtro, y que el servidor devuelve todos los atributos de la dataclass."),(0,n.kt)("h4",l({},{id:"ejemplo-9"}),"Ejemplo"),(0,n.kt)("p",null,"Ver el ejemplo de la secci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#example-1-3"}),".setRemoteContextInfo()"),"."),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-4"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",l({},{id:"getrequestlog"}),".getRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRequestLog()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de objetos, donde cada objeto describe una petici\xf3n")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-11"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".getRequestLog()")," devuelve las peticiones ORDA registradas en memoria del lado del cliente. ."),(0,n.kt)("p",null,"Esta funci\xf3n debe ser llamada en un 4D remoto, de lo contrario devuelve una colecci\xf3n vac\xeda. Est\xe1 dise\xf1ado para fines de depuraci\xf3n en configuraciones cliente/servidor."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valor devuelto")),(0,n.kt)("p",null,"Colecci\xf3n de objetos de petici\xf3n apilados. La solicitud m\xe1s reciente tiene el \xedndice 0."),(0,n.kt)("p",null,"Para una descripci\xf3n del formato del registro de peticiones de ORDA, consulte la secci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"}),(0,n.kt)("strong",{parentName:"a"},"Preguntas cliente ORDA")),"."),(0,n.kt)("h4",l({},{id:"ejemplo-10"}),"Ejemplo"),(0,n.kt)("p",null,"Ver el ejemplo 2 de ",(0,n.kt)("a",l({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",l({},{id:"isadminprotected"}),".isAdminProtected()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isAdminProtected()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si el acceso al Explorador de Datos est\xe1 desactivado, False si est\xe1 activado (por defecto)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-12"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".isAdminProtected()")," devuelve ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," si el acceso al ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/Admin/dataExplorer"}),"Explorador de Datos")," se ha deshabilitado para la sesi\xf3n de trabajo."),(0,n.kt)("p",null,"Por defecto, el acceso al Explorador de Datos se concede para las sesiones ",(0,n.kt)("inlineCode",{parentName:"p"},"webAdmin"),", pero se puede desactivar para evitar cualquier acceso a los datos por parte de los administradores (ver la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()")),")."),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-5"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))),(0,n.kt)("h2",l({},{id:"locked"}),".locked()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".locked()"),": Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si bloqueado")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-13"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".locked()")," devuelve True si el datastore local est\xe1 bloqueado en ese momento."),(0,n.kt)("p",null,"Puede bloquear el datastore utilizando la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()")," antes de ejecutar una instant\xe1nea del archivo de datos, por ejemplo."),(0,n.kt)("admonition",l({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"La funci\xf3n tambi\xe9n devolver\xe1 ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," si el datastore fue bloqueado por otra funci\xf3n de administraci\xf3n como backup o vss (ver ",(0,n.kt)("a",l({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),").")),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-6"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",l({},{id:"makeselectionsalterable"}),".makeSelectionsAlterable()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".makeSelectionsAlterable()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:"center"})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-14"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," define todas las selecciones de entidades como alterables por defecto en los almacenes de datos de la aplicaci\xf3n actual (incluyendo ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/datastores"}),"datastores remotas"),"). Est\xe1 pensado para ser utilizado una vez, por ejemplo en el m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Startup"),"."),(0,n.kt)("p",null,'Cuando no se llama a esta funci\xf3n, las nuevas selecciones de entidades pueden ser compartibles, dependiendo de la naturaleza de su "padre", o de ',(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/entities#shareable-or-non-shareable-entity-selections"}),"c\xf3mo se crean"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta funci\xf3n no modifica las selecciones de entidades creadas por ",(0,n.kt)("a",l({parentName:"p"},{href:"#copy"}),(0,n.kt)("inlineCode",{parentName:"a"},".copy()"))," o ",(0,n.kt)("inlineCode",{parentName:"p"},"OB Copy")," cuando se utiliza la opci\xf3n expl\xedcita ",(0,n.kt)("inlineCode",{parentName:"p"},"ck shared"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Compatibilidad"),": esta funci\xf3n s\xf3lo debe utilizarse en proyectos convertidos desde versiones de 4D anteriores a 4D v18 R5 y que contengan llamadas ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/API/EntitySelectionClass#add"}),".add()"),". En este contexto, el uso de ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," puede ahorrar tiempo al restaurar instant\xe1neamente el comportamiento anterior de 4D en los proyectos existentes. Por otro lado, utilizar este m\xe9todo en proyectos nuevos creados en 4D v18 R5 y superiores ",(0,n.kt)("strong",{parentName:"p"},"no es recomendable"),", ya que impide compartir las selecciones de entidades, lo que ofrece mayor rendimiento y escalabilidad.")),(0,n.kt)("h2",l({},{id:"providedatakey"}),".provideDataKey()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," : Object ) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"curPassPhrase"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Frase de cifrado actual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"curDataKey"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Llave de encriptaci\xf3n de datos actual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Resultado de la coincidencia de la llave de encriptaci\xf3n")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-15"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," permite proveer una llave de encriptaci\xf3n de datos para el archivo de datos actual del datastore y detecta si la llave coincide con los datos encriptados. Esta funci\xf3n se puede utilizar al abrir una base encriptada, o al ejecutar cualquier operaci\xf3n de encriptaci\xf3n que requiera la llave de encriptaci\xf3n, como por ejemplo volver a encriptar el archivo de datos."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," debe ser llamada en una base de datos encriptada. Si se llama en una base no cifrada, se devuelve el error 2003 (la llave de cifrado no coincide con los datos.). Utilice el comando ",(0,n.kt)("inlineCode",{parentName:"li"},"Estado de cifrado del archivo de datos")," para determinar si la base de datos est\xe1 cifrada."),(0,n.kt)("li",{parentName:"ul"},"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," no puede ser llamada desde un 4D remoto o un datastore remoto encriptado."))),(0,n.kt)("p",null,"Si utiliza el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase"),", pase la cadena utilizada para generar la llave de cifrado de datos. Cuando se utiliza este par\xe1metro, se genera una llave de encriptaci\xf3n."),(0,n.kt)("p",null,"Si utiliza el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"curDataKey"),", pase un objeto (con la propiedad ",(0,n.kt)("em",{parentName:"p"},"encodedKey"),") que contenga la llave de cifrado de los datos. Esta llave puede haber sido generada con el comando ",(0,n.kt)("inlineCode",{parentName:"p"},"New data key"),"."),(0,n.kt)("p",null,"Si se aporta una llave de cifrado de datos v\xe1lida, se a\xf1ade a la ",(0,n.kt)("em",{parentName:"p"},"keyChain")," de la memoria y se activa el modo de cifrado:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"todas las modificaciones de datos en las tablas encriptadas se cifran en el disco (.4DD, .journal. 4Dindx)"),(0,n.kt)("li",{parentName:"ul"},"todos los datos cargados desde tablas encriptadas se descifran en memoria")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Result")),(0,n.kt)("p",null,"El resultado de la orden se describe en el objeto devuelto:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la llave de encriptaci\xf3n proporcionada coincide con los datos encriptados, False en caso contrario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Las siguientes propiedades se devuelven s\xf3lo si success es ",(0,n.kt)("em",{parentName:"td"},"FALSE"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"C\xf3digo de error (4 si la llave de encriptaci\xf3n suministrada es err\xf3nea)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mensaje de error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Pila de errores. El primer error tiene el \xedndice m\xe1s alto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"["," ].componentSignature"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del componente interno")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"["," ].errCode"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"["," ].message"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mensaje de error")))),(0,n.kt)("p",null,"Si no se da ",(0,n.kt)("em",{parentName:"p"},"curPassphrase")," o ",(0,n.kt)("em",{parentName:"p"},"curDataKey"),", ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," devuelve ",(0,n.kt)("strong",{parentName:"p"},"null")," (no se genera ning\xfan error)."),(0,n.kt)("h4",l({},{id:"ejemplo-11"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $keyStatus : Object\n var $passphrase : Text\n\n $passphrase:=Request("Enter the passphrase")\n If(OK=1)\n    $keyStatus:=ds.provideDataKey($passphrase)\n    If($keyStatus.success)\n       ALERT("You have provided a valid encryption key")\n    Else\n       ALERT("You have provided an invalid encryption key, you will not be able to work with encrypted data")\n    End if\n End if\n')),(0,n.kt)("h2",l({},{id:"setadminprotection"}),".setAdminProtection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"p"},"status")," : Boolean )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True para desactivar el acceso Data Explorer a los datos del puerto ",(0,n.kt)("inlineCode",{parentName:"td"},"webAdmin"),", False (por defecto) para otorgar el acceso")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-16"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".setAdminProtection()")," permite desactivar todo acceso a los datos en el ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/Admin/webAdmin#http-port"}),"puerto de administraci\xf3n web"),", incluso para el ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/Admin/dataExplorer"}),"Explorador de datos")," en las sesiones ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin"),"."),(0,n.kt)("p",null,"Por defecto, cuando no se llama a la funci\xf3n, el acceso a los datos se concede siempre en el puerto de administraci\xf3n web para una sesi\xf3n con privilegio ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," utilizando el Explorador de Datos. En algunas configuraciones, por ejemplo, cuando el servidor de aplicaciones est\xe1 alojado en una m\xe1quina de terceros, es posible que no desee que el administrador pueda ver sus datos, aunque puede editar la configuraci\xf3n del servidor, incluyendo la configuraci\xf3n de la ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/Admin/webAdmin#access-key"}),"access key"),"."),(0,n.kt)("p",null,"En este caso, puede llamar a esta funci\xf3n para deshabilitar el acceso a los datos del Explorador de Datos en el puerto de administraci\xf3n web de la m\xe1quina, incluso si la sesi\xf3n de usuario tiene el privilegio ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin"),". Cuando se ejecuta esta funci\xf3n, el archivo de datos se protege inmediatamente y el estado se almacena en el disco: el archivo de datos estar\xe1 protegido incluso si se reinicia la aplicaci\xf3n."),(0,n.kt)("h4",l({},{id:"ejemplo-12"}),"Ejemplo"),(0,n.kt)("p",null,"Se crea un m\xe9todo proyecto ",(0,n.kt)("em",{parentName:"p"},"protectDataFile")," para llamar antes de los despliegues, por ejemplo:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," ds.setAdminProtection(True) //Desactiva el acceso a los datos del Explorador de datos\n")),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-7"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#isadminprotected"}),(0,n.kt)("inlineCode",{parentName:"a"},".isAdminProtected()"))),(0,n.kt)("h2",l({},{id:"setglobalstamp"}),".setGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"p"},"newStamp")," : Real)"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"newStamp"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nuevo valor del marcador de modificaci\xf3n global")))),(0,n.kt)("p",null,"|"),(0,n.kt)("admonition",l({},{title:"Modo avanzado",type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n est\xe1 destinada a los desarrolladores que necesiten modificar el valor actual del marcador global. Debe utilizarse con cuidado.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-17"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".setGlobalStamp()")," define ",(0,n.kt)("em",{parentName:"p"},"newStamp")," como nuevo valor del marcador de modificaci\xf3n global actual para el datastore."),(0,n.kt)("admonition",l({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n s\xf3lo puede llamarse:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"en el datastore (",(0,n.kt)("a",l({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"en entorno cliente/servidor, en la m\xe1quina servidor."))),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n sobre el marcador global y el seguimiento de las modificaciones de datos, consulte la p\xe1gina ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Uso del marcador global")),"."),(0,n.kt)("h4",l({},{id:"ejemplo-13"}),"Ejemplo"),(0,n.kt)("p",null,"El siguiente c\xf3digo define el marcador de modificaci\xf3n global:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $newValue: Real\n$newValue:=ReadValueFrom //obtener un nuevo valor para asignar\nds.setGlobalStamp($newValue)\n")),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-8"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#getglobalstamp"}),".getGlobalStamp()")),(0,n.kt)("h2",l({},{id:"setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del contexto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"dataClassName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"dataClassObject"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.DataClass"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"dataclass object (e.g datastore. Employee)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"attributes"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Lista de atributos separados por comas")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"attributesColl"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de nombres de atributos (text)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"contextType"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Si se suministra, el valor debe ser "main" o "currentItem"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"pageLength"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Longitud de la p\xe1gina de la selecci\xf3n de entidades asociada al contexto (por defecto es 80)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avanzado:")," esta funci\xf3n est\xe1 pensada para los desarrolladores que necesitan personalizar las funcionalidades por defecto de ORDA para configuraciones espec\xedficas. En la mayor\xeda de los casos, no ser\xe1 necesario utilizarla.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-18"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".setRemoteContextInfo()")," vincula los atributos de dataclass especificados con el contexto de optimizaci\xf3n ",(0,n.kt)("em",{parentName:"p"},"contextName"),". Si ya existe un contexto de optimizaci\xf3n para los atributos especificados, este comando lo reemplaza."),(0,n.kt)("p",null,"Cuando se pasa un contexto a las funciones de clase ORDA, la optimizaci\xf3n de las peticiones REST se activa inmediatamente:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"la primera entidad no est\xe1 totalmente cargada como se hace en el modo autom\xe1tico"),(0,n.kt)("li",{parentName:"ul"},"las p\xe1ginas de 80 entidades (o de ",(0,n.kt)("inlineCode",{parentName:"li"},"pageLength")," entidades) se piden inmediatamente al servidor con s\xf3lo los atributos del contexto")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para m\xe1s informaci\xf3n sobre la creaci\xf3n de los contextos de optimizaci\xf3n, consulte el ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/ORDA/datastores#clientserver-optimization"}),"p\xe1rrafo de optimizaci\xf3n cliente/servidor"))),(0,n.kt)("p",null,"En ",(0,n.kt)("em",{parentName:"p"},"contextName"),", pase el nombre del contexto de optimizaci\xf3n para vincularlo a los atributos de la dataclass."),(0,n.kt)("p",null,"Para designar la dataclass que recibir\xe1 el contexto, puede pasar un ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," o un ",(0,n.kt)("em",{parentName:"p"},"dataClassObject"),"."),(0,n.kt)("p",null,"Para designar los atributos a vincular al contexto, pase una lista de atributos separados por una coma en ",(0,n.kt)("em",{parentName:"p"},"attributes")," (Text), o una colecci\xf3n de nombres de atributos en ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," (colecci\xf3n de textos)."),(0,n.kt)("p",null,"Si ",(0,n.kt)("em",{parentName:"p"},"attributes")," es un texto vac\xedo, o si ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," es una colecci\xf3n vac\xeda, todos los atributos escalares de la dataclass se integran al contexto de optimizaci\xf3n. Si se pasa un atributo que no existe en la dataclass, la funci\xf3n lo ignora y se genera un error."),(0,n.kt)("p",null,"Puede pasar un ",(0,n.kt)("em",{parentName:"p"},"contextType")," para especificar si el contexto es un contexto est\xe1ndar o el contexto del elemento actual de la selecci\xf3n de entidades mostrada en un list box:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Si el valor es "main" (por defecto), ',(0,n.kt)("em",{parentName:"li"},"contextName")," designa un contexto est\xe1ndar."),(0,n.kt)("li",{parentName:"ul"},'Si su valor es "currentItem", los atributos pasados se ponen en el contexto del elemento actual.  Ver ',(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/20-R4/ORDA/datastores#entity-selection-based-list-box"}),"List box basado en una selecci\xf3n de entidades"),".")),(0,n.kt)("p",null,"En ",(0,n.kt)("em",{parentName:"p"},"pageLength"),", especifique el n\xfamero de entidades de dataclass a solicitar al servidor."),(0,n.kt)("p",null,"Puede pasar un ",(0,n.kt)("em",{parentName:"p"},"pageLength")," para un atributo relacional que es una selecci\xf3n de entidades (de una a muchas). La sintaxis es ",(0,n.kt)("inlineCode",{parentName:"p"},"relationAttributeName:pageLength")," (por ejemplo, employees:20)."),(0,n.kt)("h4",l({},{id:"ejemplo-1-3"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $contextA : Object\nvar $info : Object\nvar $text : Text\n\n// Abrir datastore remoto \n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// Definir el contexto\n$contextA:=New object("context"; "contextA")\n$ds.setRemoteContextInfo("contextA"; $ds.Persons; "firstname, lastname")\n\n// Env\xeda las peticiones al servidor utilizando un bucle\n$persons:=$ds.Persons.all($contextA)\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname + " " + $p.lastname\nEnd for each\n\n// Verificar el contenido del contexto\n$info:=$ds.getRemoteContextInfo("contextA")\n// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"}\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Este ejemplo sirve como demostraci\xf3n, no est\xe1 pensado para una implementaci\xf3n real.")),(0,n.kt)("h4",l({},{id:"ejemplo-2-3"}),"Ejemplo 2"),(0,n.kt)("p",null,"El siguiente fragmento de c\xf3digo solicita al servidor p\xe1ginas de 30 entidades de la dataclass ",(0,n.kt)("inlineCode",{parentName:"p"},"Address"),". Las entidades devueltas s\xf3lo contienen el atributo ",(0,n.kt)("inlineCode",{parentName:"p"},"zipCode"),"."),(0,n.kt)("p",null,"Para cada entidad ",(0,n.kt)("inlineCode",{parentName:"p"},"Address"),", se devuelven 20 entidades Persons, que s\xf3lo contienen los atributos ",(0,n.kt)("inlineCode",{parentName:"p"},"lastname")," y ",(0,n.kt)("inlineCode",{parentName:"p"},"firstname"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds.setRemoteContextInfo("contextA"; $ds.Address; "zipCode, persons:20,\\\npersons.lastname, persons.firstname"; "main"; 30)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3---listbox"}),"Ejemplo 3 - Listbox"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'// When the form loads\nCase of\n    : (Form event code=On Load)\n\n        Form.ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n       // Set the attributes of the page context\n        Form.ds.setRemoteContextInfo("LB"; Form.ds.Persons; "age, gender,\\\n        children"; "currentItem")\n\n        Form.settings:=New object("context"; "LB")\n        Form.persons:=Form.ds.Persons.all(Form.settings)\n        // Form.persons is displayed in a list box\nEnd case\n\n// When you get the attributes in the context of the current item: Form.currentItemLearntAttributes:=Form.selectedPerson.getRemoteContextAttributes()\n// Form.currentItemLearntAttributes = "age, gender, children"\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-9"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",l({},{id:"startrequestlog"}),".startRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte del lado del servidor, nuevo par\xe1metro ",(0,n.kt)("inlineCode",{parentName:"td"},"options"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"reqNum")," : Integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"file"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.File"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto File")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Opci\xf3n de registro de respuesta (servidor \xfanicamente)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"reqNum"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de peticiones a mantener en memoria (cliente \xfanicamente)")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-19"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," inicia el registro de peticiones ORDA del lado del cliente o del lado del servidor. Est\xe1 dise\xf1ado para fines de depuraci\xf3n en configuraciones cliente/servidor."),(0,n.kt)("admonition",l({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Para una descripci\xf3n del formato del registro de peticiones ORDA, consulte la secci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/20-R4/Debugging/debugLogFiles#orda-requests"}),(0,n.kt)("strong",{parentName:"a"},"Peticiones ORDA")),".")),(0,n.kt)("h4",l({},{id:"del-lado-del-cliente"}),"Del lado del cliente"),(0,n.kt)("p",null,"Para crear un registro de peticiones ORDA del lado del cliente, llame a esta funci\xf3n en una m\xe1quina remota. El registro puede enviarse a un archivo o a la memoria, seg\xfan el tipo de par\xe1metro:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si se pasa un objeto ",(0,n.kt)("em",{parentName:"p"},"file")," creado con el comando ",(0,n.kt)("inlineCode",{parentName:"p"},"File"),", los datos de registro se escriben en este archivo como una colecci\xf3n de objetos (formato JSON). Cada objeto representa una petici\xf3n.",(0,n.kt)("br",null),"Si el archivo no existe ya, se crea. En caso contrario, si el archivo ya existe, los nuevos datos de registro se a\xf1aden a \xe9l. Si se llama a ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," con un archivo mientras se inici\xf3 previamente un registro en memoria, el registro en memoria se detiene y se vac\xeda."),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"Debe a\xf1adirse manualmente un car\xe1cter \\N al final del archivo para realizar una validaci\xf3n JSON"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si se pasa un entero ",(0,n.kt)("em",{parentName:"p"},"reqNum"),", se vac\xeda el registro en memoria (si lo hay) y se inicializa un nuevo registro. Mantendr\xe1 ",(0,n.kt)("em",{parentName:"p"},"reqNum")," peticiones en memoria hasta que se alcance el n\xfamero, en cuyo caso se vac\xedan las entradas m\xe1s antiguas (pila FIFO).",(0,n.kt)("br",null),"Si se llama a ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," con un ",(0,n.kt)("em",{parentName:"p"},"reqNum")," mientras se ha iniciado previamente un registro en un archivo, se detiene el registro del archivo.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Si no ha pasado ning\xfan par\xe1metro, el registro se inicia en la memoria. Si se llam\xf3 previamente a ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," con un ",(0,n.kt)("em",{parentName:"p"},"reqNum")," (antes de un ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"), los datos del registro se apilan en memoria hasta la pr\xf3xima vez que se vac\xede el registro o se llame a ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"."))),(0,n.kt)("h4",l({},{id:"del-lado-del-servidor"}),"Del lado del servidor"),(0,n.kt)("p",null,"Para crear un registro de peticiones ORDA del lado del servidor, llame a esta funci\xf3n en la m\xe1quina servidor. Los datos del registro se escriben en un archivo en formato ",(0,n.kt)("inlineCode",{parentName:"p"},".jsonl"),". Cada objeto representa una petici\xf3n. Si el archivo no existe, se crea. En caso contrario, si el archivo ya existe, los nuevos datos de registro se a\xf1aden a \xe9l."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Si ha pasado el par\xe1metro ",(0,n.kt)("em",{parentName:"li"},"file"),", los datos de registro se escriben en este archivo, en la ubicaci\xf3n solicitada. - Si omite el par\xe1metro ",(0,n.kt)("em",{parentName:"li"},"file")," o si es nulo, los datos de registro se escriben en un archivo llamado ",(0,n.kt)("em",{parentName:"li"},"ordaRequests.jsonl"),' y se almacenan en la carpeta "/LOGS".'),(0,n.kt)("li",{parentName:"ul"},"El par\xe1metro ",(0,n.kt)("em",{parentName:"li"},"options")," puede utilizarse para especificar si la respuesta del servidor debe registrarse y si debe incluir el cuerpo. Por defecto, cuando se omite el par\xe1metro, se registra la respuesta completa. En este par\xe1metro se pueden utilizar las siguientes constantes:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Constante"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"srl log all"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Registrar la respuesta por completo (valor por defecto)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"srl log no response"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Desactivar el registro de la respuesta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"srl log response without body"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Registrar la respuesta sin el cuerpo")))),(0,n.kt)("h4",l({},{id:"ejemplo-1-4"}),"Ejemplo 1"),(0,n.kt)("p",null,"Desea registrar las solicitudes de los clientes ORDA en un archivo y utilizar el n\xfamero de secuencia del registro:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $file : 4D.File\n var $e : cs.PersonsEntity\n\n $file:=File("/LOGS/ORDARequests.txt") //logs folder\n\n SET DATABASE PARAMETER(Client Log Recording;1) //to trigger the global log sequence number\n ds.startRequestLog($file)\n $e:=ds.Persons.get(30001) //send a request\n ds.stopRequestLog()\n SET DATABASE PARAMETER(Client Log Recording;0)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-4"}),"Ejemplo 2"),(0,n.kt)("p",null,"Quiere registrar las peticiones de los clientes ORDA en la memoria:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es : cs.PersonsSelection\n var $log : Collection\n\n ds.startRequestLog(3) //keep 3 requests in memory\n\n $es:=ds.Persons.query("name=:1";"Marie")\n $es:=ds.Persons.query("name IN :1";New collection("Marie"))\n $es:=ds.Persons.query("name=:1";"So@")\n\n $log:=ds.getRequestLog()\n ALERT("The longest request lasted: "+String($log.max("duration"))+" ms")\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3-1"}),"Ejemplo 3"),(0,n.kt)("p",null,"Desea registrar las peticiones del servidor ORDA en un archivo espec\xedfico y habilitar el n\xfamero de secuencia de registro y la duraci\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'SET DATABASE PARAMETER(4D Server Log Recording;1)\n\n$file:=Folder(fk logs folder).file("myOrdaLog.jsonl")\nds.startRequestLog($file)\n...\nds.stopRequestLog()\nSET DATABASE PARAMETER(4D Server Log Recording;0)\n\n\n')),(0,n.kt)("h2",l({},{id:"starttransaction"}),".startTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:"center"})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-20"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".startTransaction()")," inicia una transacci\xf3n en el proceso actual en la base de datos que coincide con el almac\xe9n de datos al que se aplica. Todos los cambios realizados en las entidades del almac\xe9n de datos en el proceso de la transacci\xf3n se almacenan temporalmente hasta que la transacci\xf3n se valida o se cancela."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Si se llama a este m\xe9todo en el almac\xe9n de datos principal (es decir, el almac\xe9n de datos devuelto por el comando ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"), la transacci\xf3n se aplica a todas las operaciones realizadas en el almac\xe9n de datos principal y en la base de datos subyacente, incluyendo por tanto ORDA y los lenguajes cl\xe1sicos.")),(0,n.kt)("p",null,"Puede anidar varias transacciones (subtransacciones). Cada transacci\xf3n o sub-transacci\xf3n debe ser eventualmente cancelada o validada. Note que si se cancela la transacci\xf3n principal, tambi\xe9n se cancelan todas sus subtransacciones, aunque se hayan validado individualmente mediante la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()"),"."),(0,n.kt)("h4",l({},{id:"ejemplo-14"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $connect; $status : Object\n var $person : cs.PersonsEntity\n var $ds : cs.DataStore\n var $choice : Text\n var $error : Boolean\n\n Case of\n    :($choice="local")\n       $ds:=ds\n    :($choice="remote")\n       $connect:=New object("hostname";"111.222.3.4:8044")\n       $ds:=Open datastore($connect;"myRemoteDS")\n End case\n\n $ds.startTransaction()\n $person:=$ds.Persons.query("lastname=:1";"Peters").first()\n\n If($person#Null)\n    $person.lastname:="Smith"\n    $status:=$person.save()\n End if\n ...\n ...\n If($error)\n    $ds.cancelTransaction()\n Else\n    $ds.validateTransaction()\n End if\n')),(0,n.kt)("h2",l({},{id:"stoprequestlog"}),".stopRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte del lado del servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".stopRequestLog()"),"  "),(0,n.kt)("p",null,"| Par\xe1metros | Tipo |  | Descripci\xf3n                                             |\n| ---------- | ---- |  | ------------------------------------------------------- |\n|            |      |  | No requiere ning\xfan par\xe1metro|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-21"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," detiene todo registro de peticiones ORDA en la m\xe1quina a la que se llama (cliente o servidor)."),(0,n.kt)("p",null,"En realidad, cierra el documento abierto en el disco. Del lado del cliente, si el registro se inici\xf3 en memoria, se detiene."),(0,n.kt)("p",null,"Esta funci\xf3n no hace nada si el registro de peticiones ORDA no se inici\xf3 en la m\xe1quina."),(0,n.kt)("h4",l({},{id:"ejemplo-15"}),"Ejemplo"),(0,n.kt)("p",null,"Ver ejemplos de ",(0,n.kt)("a",l({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",l({},{id:"unlock"}),".unlock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".unlock()")),(0,n.kt)("p",null,"| Par\xe1metros | Tipo |  | Descripci\xf3n                                             |\n| ---------- | ---- |  | ------------------------------------------------------- |\n|            |      |  | No requiere ning\xfan par\xe1metro|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-22"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," elimina el bloqueo actual de las operaciones de escritura en el datastore, si se ha definido en el mismo proceso. Las operaciones de escritura pueden bloquearse en el almac\xe9n de datos local utilizando la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"#flushandlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".flushAndLock()")),"."),(0,n.kt)("p",null,"Si el bloqueo actual era el \xfanico bloqueo en el datastore, las operaciones de escritura se activan inmediatamente. Si la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," fue llamada varias veces en el proceso, el mismo n\xfamero de ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," debe ser llamado para realmente desbloquear el datastore."),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," debe ser llamada desde el proceso que llam\xf3 a la correspondiente ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", de lo contrario la funci\xf3n no hace nada y el bloqueo no se elimina."),(0,n.kt)("p",null,"Si se llama a la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," en un datastore desbloqueado, no hace nada."),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-10"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#locked"}),".locked()")),(0,n.kt)("h2",l({},{id:"validatetransaction"}),".validateTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".validateTransaction()"),"  "),(0,n.kt)("p",null,"| Par\xe1metros | Tipo |  | Descripci\xf3n                                             |\n| ---------- | ---- |  | ------------------------------------------------------- |\n|            |      |  | No requiere ning\xfan par\xe1metro|"),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-23"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," acepta la transacci\xf3n que se inici\xf3 con ",(0,n.kt)("a",l({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," en el nivel correspondiente en el almac\xe9n de datos especificado."),(0,n.kt)("p",null,"La funci\xf3n guarda los cambios en los datos del almac\xe9n de datos que se produjeron durante la transacci\xf3n."),(0,n.kt)("p",null,"Puede anidar varias transacciones (subtransacciones). Si se cancela la transacci\xf3n principal, tambi\xe9n se cancelan todas sus subtransacciones, aunque se hayan validado individualmente utilizando esta funci\xf3n."),(0,n.kt)("h4",l({},{id:"ejemplo-16"}),"Ejemplo"),(0,n.kt)("p",null,"Ver el ejemplo de ",(0,n.kt)("a",l({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."))}c.isMDXComponent=!0}}]);