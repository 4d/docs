"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["12267"],{11653:function(e,n,s){s.r(n),s.d(n,{default:()=>h,frontMatter:()=>d,metadata:()=>i,assets:()=>t,toc:()=>c,contentTitle:()=>o});var i=JSON.parse('{"id":"commands-legacy/on-web-connection-database-method","title":"On Web Connection database method","description":"$1, $2, $3, $4, $5, $6 -> M\xe9todo base On Web Connection","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/on-web-connection-database-method.md","sourceDirName":"commands-legacy","slug":"/commands/on-web-connection-database-method","permalink":"/docs/es/20-R7/commands/on-web-connection-database-method","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fon-web-connection-database-method.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"on-web-connection-database-method","title":"On Web Connection database method","slug":"/commands/on-web-connection-database-method","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"On Web Authentication database method","permalink":"/docs/es/20-R7/commands/on-web-authentication-database-method"},"next":{"title":"On Web Legacy Close Session database method","permalink":"/docs/es/20-R7/commands/on-web-legacy-close-session-database-method"}}'),a=s("785893"),r=s("250065");let d={id:"on-web-connection-database-method",title:"On Web Connection database method",slug:"/commands/on-web-connection-database-method",displayed_sidebar:"docs"},o=void 0,t={},c=[{value:"Llamadas al M\xe9todo base On Web Connection",id:"llamadas-al-m\xe9todo-base-on-web-connection",level:4}];function l(e){let n={a:"a",action:"action",archivo:"archivo",br:"br",code:"code",em:"em",file:"file",h4:"h4",li:"li",p:"p",pre:"pre",ruta:"ruta",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"$1, $2, $3, $4, $5, $6 -> M\xe9todo base On Web Connection"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Par\xe1metro"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$1"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"URL"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$2"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Encabezado HTTP + Cuerpo HTTP"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$3"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Direcci\xf3n IP del navegador"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$4"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Direcci\xf3n IP del servidor"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$5"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Nombre de usuario"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$6"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"\u2190"}),(0,a.jsx)(n.td,{children:"Contrase\xf1a"})]})]})]}),"\n",(0,a.jsx)(n.h4,{id:""}),"\n",(0,a.jsx)(n.p,{children:"El M\xe9todo base On Web Connection puede llamarse en los siguientes casos:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["el servidor web recibe una petici\xf3n que comienza por el URL ",(0,a.jsx)(n.em,{children:"4DCGI"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"el servidor web recibe una petici\xf3n inv\xe1lida."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Para mayor informaci\xf3n, consulte el p\xe1rrafo \u201C\u201D abajo."}),"\n",(0,a.jsxs)(n.p,{children:["La petici\xf3n debe haber sido aceptada previamente por el ",(0,a.jsx)(n.a,{href:"metodo-base-on-web-authentication.md",children:"M\xe9todo base On Web Authentication"})," (si existe) y el servidor web debe lanzarse."]}),"\n",(0,a.jsx)(n.p,{children:"El M\xe9todo base On Web Connection recibe seis par\xe1metros de tipo texto, pasados por 4D ($1, $2, $3, $4, $5 y $6). Los contenidos de estos par\xe1metros son los siguientes:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Par\xe1metros"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Tipo"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$1"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"URL"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$2"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"Encabezado HTTP + cuerpo HTTP (hasta 32 kb de l\xedmite)"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$3"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"Direcci\xf3n IP del navegador"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$4"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"Direcci\xf3n IP llamada del servidor"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$5"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"Nombre de usuario"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"$6"}),(0,a.jsx)(n.td,{children:"Texto"}),(0,a.jsx)(n.td,{children:"Contrase\xf1a"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"Debe declarar estos seis par\xe1metros de esta manera:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:"\xa0\xa0// M\xe9todo de base On Web Connection\n\xa0\n\xa0var $1;$2;$3;$4;$5;$6 : Text\n\xa0\n\xa0\xa0// C\xf3digo para el m\xe9todo\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Datos extra del URL"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["El primer par\xe1metro (",(0,a.jsx)(n.em,{children:"$1"}),") es el URL introducido por el usuario en el \xe1rea de ubicaci\xf3n de su navegador web, menos la direcci\xf3n local.",(0,a.jsx)(n.br,{}),"\nTomemos el ejemplo de una conexi\xf3n de Intranet. Supongamos que la direcci\xf3n IP de su equipo servidor web 4D es ",(0,a.jsx)(n.em,{children:"123.45.67.89"}),". La tabla siguiente muestra los valores de ",(0,a.jsx)(n.em,{children:"$1"})," dependiendo del URL introducido en el navegador web:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"URL introducido en el navegador"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Valor del par\xe1metro $1"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"123.45.67.89"}),(0,a.jsx)(n.td,{children:"/"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.a,{href:"http://123.45.67.89",children:"http://123.45.67.89"})}),(0,a.jsx)(n.td,{children:"/"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"123.45.67.89/Clientes"}),(0,a.jsx)(n.td,{children:"/Clientes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.a,{href:"http://123.45.67.89/Clientes",children:"http://123.45.67.89/Clientes"})}),(0,a.jsx)(n.td,{children:"/Clientes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.a,{href:"http://123.45.67.89/Clientes/A%C3%B1adir",children:"http://123.45.67.89/Clientes/A\xf1adir"})}),(0,a.jsx)(n.td,{children:"/Clientes/A\xf1adir"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"123.45.67.89/Hacer_esto/Si_OK/Hacer_eso"}),(0,a.jsx)(n.td,{children:"/Hacer_esto/Si_OK/Hacer_eso"})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["Note que usted es libre de utilizar este par\xe1metro a su conveniencia. 4D simplemente ignora los valores pasados m\xe1s all\xe1 de la parte local del URL. Por ejemplo, puede establecer una convenci\xf3n donde el valor ",(0,a.jsx)(n.em,{children:'"/Clientes/A\xf1adir"'})," signifique \u201Cir directamente a a\xf1adir un nuevo registro en la tabla ",(0,a.jsx)(n.em,{children:"[Clientes]"}),".\u201D Suministrando a los usuarios web de su base una lista de posibles valores y/o marcadores por defecto, puede ofrecer atajos a las diferentes partes de su aplicaci\xf3n. De esta forma, los usuarios web pueden acceder r\xe1pidamente a los recursos de su sitio web sin tener que navegar cada vez que se conecten a su base."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Advertencia:"})," para evitar que un usuario acceda directamente a una base con un marcador creado durante una sesi\xf3n anterior, 4D intercepta todo URL que corresponda a uno de los URLs est\xe1ndar de 4D."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Encabezado y cuerpo de la petici\xf3n HTTP"}),(0,a.jsx)(n.br,{}),"\nEl segundo par\xe1metro ($2) es el encabezado y el cuerpo de la petici\xf3n HTTP enviada por el navegador web. Note que esta informaci\xf3n se pasa a su M\xe9todo base On Web Connection tal como est\xe1. El contenido var\xeda en funci\xf3n del tipo de navegador web que est\xe9 intentando la conexi\xf3n",(0,a.jsx)(n.br,{}),"\nCon Safari corriendo en Mac OS, puede recibir un encabezado similar a este:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-RAW",children:"GET /favicon.ico HTTP/1.1Referer: http://123.45.67.89/4dcgi/testUser-Agent:  Mozilla/5.0 (Macintosh; U; Intel Mac OS X; fr-fr) AppleWebKit/523.10.3  (KHTML, like Gecko) Version/3.0.4 Safari/523.10Cache-Control: max-age=0Accept: */*Accept-Language: fr-frAccept-Encoding: gzip, deflateConnection: keep-aliveHost: 123.45.67.89  \n"})}),"\n",(0,a.jsx)(n.p,{children:"Con Microsoft Internet Edge en Windows, puede recibir un encabezado similar a este:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-RAW",children:"GET / HTTP/1.1Accept: image/jpeg, application/x-ms-application,  image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap,  application/vnd.ms-powerpoint, application/vnd.ms-excel,  application/msword, */*Accept-Language: fr-FRUser-Agent:  Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2;  .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center  PC 6.0; .NET4.0C)Accept-Encoding: gzip, deflateHost: 123.45.67.89Connection: Keep-Alive  \n"})}),"\n",(0,a.jsxs)(n.p,{children:["Si su aplicaci\xf3n manipula esta informaci\xf3n, es su decisi\xf3n analizar el encabezado y el cuerpo. ",(0,a.jsx)(n.strong,{children:"Nota:"})," por razones de rendimiento, el tama\xf1o de estos datos no puede ser mayor a 32 KB. Si el tama\xf1o es mayor, los datos son truncados por el servidor 4D HTTP."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Direcci\xf3n IP del cliente web"}),(0,a.jsx)(n.br,{}),"\nEl tercer par\xe1metro ",(0,a.jsx)(n.em,{children:"$3"})," recibe la direcci\xf3n IP del equipo navegador. Esta informaci\xf3n puede permitirle distinguir entre las conexiones de Intranet e Internet.",(0,a.jsx)(n.br,{}),"\nNota**:** 4D devuelve direcciones IPv4 en un formato h\xedbrido IPv6 escrito con un prefijo de 96 bits, por ejemplo ::ffff:192.168.2.34 para la direcci\xf3n IPv4 192.168.2.34. Para mayor informaci\xf3n, consulte la secci\xf3n ",(0,a.jsx)(n.em,{children:"Soporte de IP v6"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Direcci\xf3n IP del servidor"}),(0,a.jsx)(n.br,{}),"\nEl cuarto par\xe1metro ",(0,a.jsx)(n.em,{children:"$4"})," recibe la direcci\xf3n IP solicitada del servidor web 4D. 4D autoriza el multi-homing, el cual le permite explotar equipos que tengan m\xe1s de una direcci\xf3n IP. Para mayor informaci\xf3n, consulte la secci\xf3n ",(0,a.jsx)(n.em,{children:"Par\xe1metros del servidor web"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Nombre de usuario y contrase\xf1a"}),(0,a.jsx)(n.br,{}),"\nLos par\xe1metros ",(0,a.jsx)(n.em,{children:"$5"})," y ",(0,a.jsx)(n.em,{children:"$6"})," reciben el nombre de usuario y la contrase\xf1a introducidos por el usuario en la caja de di\xe1logo est\xe1ndar de identificaci\xf3n mostrada por el navegador. Esta caja de di\xe1logo aparece para cada conexi\xf3n, si la opci\xf3n ",(0,a.jsx)(n.strong,{children:"Utilizar contrase\xf1as"})," ha sido seleccionada en las Preferencias (ver secci\xf3n ",(0,a.jsx)(n.em,{children:"Seguridad de las conexiones"}),")."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"})," si el nombre de usuario enviado por el navegador existe en 4D, el par\xe1metro ",(0,a.jsx)(n.em,{children:"$6"})," (la contrase\xf1a del usuario) no se devuelve por razones de seguridad."]}),"\n",(0,a.jsx)(n.h4,{id:"llamadas-al-m\xe9todo-base-on-web-connection",children:"Llamadas al M\xe9todo base On Web Connection"}),"\n",(0,a.jsxs)(n.p,{children:["El M\xe9todo base On Web Connection puede utilizarse como punto de entrada para el servidor web 4D, bien sea utilizando la URL especial ",(0,a.jsx)(n.em,{children:"4DCGI"}),", o utilizando las URLs de comando personalizadas."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Advertencia:"})," la llamada de un comando 4D que muestra un elemento de interfaz (",(0,a.jsx)(n.a,{href:"../commands/dialog.md",children:"DIALOG"}),", ",(0,a.jsx)(n.a,{href:"/docs/es/20-R7/commands/alert",children:"ALERT"}),"...) termina el procesamiento del m\xe9todo."]}),"\n",(0,a.jsx)(n.p,{children:"El M\xe9todo base On Web Connection se llama en los siguientes casos:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Cuando 4D recibe el URL ",(0,a.jsx)(n.em,{children:"/4DCGI"}),". El m\xe9todo base se llama con el URL ",(0,a.jsxs)(n.em,{children:["/4DCGI/",(0,a.jsx)(n.action,{})]})," en ",(0,a.jsx)(n.em,{children:"$1"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Cuando una p\xe1gina web llamada con un URL de tipo ",(0,a.jsx)(n.em,{children:(0,a.jsxs)(n.ruta,{children:["/",(0,a.jsx)(n.archivo,{})]})})," no se encuentra. El m\xe9todo base se llama con la URL."]}),"\n",(0,a.jsxs)(n.li,{children:["Cuando una p\xe1gina web se llama con un URL del tipo ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.file,{children:"/"})})," y ninguna p\xe1gina ha sido definida por defecto. El m\xe9todo base se llama con la URL."]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return o},a:function(){return d}});var i=s(667294);let a={},r=i.createContext(a);function d(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);