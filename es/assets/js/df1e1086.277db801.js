"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["15954"],{459654:function(e,n,r){r.r(n),r.d(n,{metadata:()=>s,contentTitle:()=>o,default:()=>h,assets:()=>t,toc:()=>l,frontMatter:()=>a});var s=JSON.parse('{"id":"commands-legacy/web-get-http-header","title":"WEB GET HTTP HEADER","description":"WEB GET HTTP HEADER ( encab|arrayCamp {; arrayValores} )","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R7/commands-legacy/web-get-http-header.md","sourceDirName":"commands-legacy","slug":"/commands/web-get-http-header","permalink":"/docs/es/commands/web-get-http-header","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fweb-get-http-header.md%20(20-R7)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R7","frontMatter":{"id":"web-get-http-header","title":"WEB GET HTTP HEADER","slug":"/commands/web-get-http-header","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"WEB GET HTTP BODY","permalink":"/docs/es/commands/web-get-http-body"},"next":{"title":"WEB GET OPTION","permalink":"/docs/es/commands/web-get-option"}}'),i=r("785893"),d=r("250065");let a={id:"web-get-http-header",title:"WEB GET HTTP HEADER",slug:"/commands/web-get-http-header",displayed_sidebar:"docs"},o=void 0,t={},l=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," ( encab|arrayCamp {; ",(0,i.jsx)(n.em,{children:"arrayValores"}),"} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metro"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"encab|arrayCamp"}),(0,i.jsx)(n.td,{children:"Texto, Array texto"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Encabezado HTTP de la petici\xf3n o Campos del encabezado HTTP"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"arrayValores"}),(0,i.jsx)(n.td,{children:"Text array"}),(0,i.jsx)(n.td,{children:"\u2190"}),(0,i.jsx)(n.td,{children:"Contenido de los campos del encabezado HTTP"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["El comando ",(0,i.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," devuelve, en una cadena o dos arrays, el encabezado HTTP de la petici\xf3n en proceso."]}),"\n",(0,i.jsxs)(n.p,{children:["Este comando puede llamarse desde cualquier m\xe9todo (",(0,i.jsx)(n.em,{children:"M\xe9todo de base On Web Authentication"}),", ",(0,i.jsx)(n.a,{href:"/docs/es/commands/qr-set-destination",children:"QR SET DESTINATION"}),', m\xe9todo llamado por "',(0,i.jsx)(n.em,{children:'/4DACTION"'}),"...) ejecutado en un proceso web."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Primera sintaxis:"})," ",(0,i.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," ",(0,i.jsx)(n.strong,{children:"(encabezado)"}),"\nCuando se utiliza esta sintaxis, el resultado devuelto en la variable ",(0,i.jsx)(n.em,{children:"encabezado"})," es el siguiente:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0"GET /page.html HTTP\\1.0"+Char(13)+Char(10)+"User-Agent: browser"+Char(13)+Char(10)+"Cookie: C=HELLO"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Cada campo de encabezado est\xe1 separado por una secuencia CR+LF (Retorno de carro+Retorno de l\xednea) bajo Windows y Mac OS."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Segunda sintaxis:"})," ",(0,i.jsx)(n.strong,{children:"WEB GET HTTP HEADER"})," ",(0,i.jsx)(n.strong,{children:"(arrayCamp; arrayValores)"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Cuando utiliza esta sintaxis, los resultados devueltos en los arrays ",(0,i.jsx)(n.em,{children:"arrayCamp"})," y ",(0,i.jsx)(n.em,{children:"arrayValores"})," son del siguiente tipo:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.em,{children:'fieldArray{1} = "X-METHOD"'})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.em,{children:'valueArray{1} = "GET" *'})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'fieldArray{2} = "X-URL"'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'valueArray{2} = "/page.html" *'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'fieldArray{3} = "X-VERSION"'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'valueArray{3} = "HTTP/1.0" *'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'fieldArray{4} = "User-Agent"'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'valueArray{4} = "browser"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'fieldArray{5} = "Cookie"'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:'valueArray{5} = "C=HELLO"'})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"* Estos tres primeros elementos no corresponden a los campos HTTP. Forman parte de la primera l\xednea de la petici\xf3n."}),"\n",(0,i.jsx)(n.p,{children:"Conforme al est\xe1ndar HTTP, los nombres de los campos siempre se escriben en ingl\xe9s."}),"\n",(0,i.jsx)(n.p,{children:"Esta es una lista de algunos campos HTTP que pueden utilizarse en una petici\xf3n:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Accept"}),": contenido permitido por el navegador."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Accept-Language"}),": idioma(s) aceptado(s) por el navegador (para informaci\xf3n). Permite seleccionar una p\xe1gina web utilizando el idioma definido en el navegador."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cookie"}),": lista de cookies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"From"}),": direcci\xf3n de correo electr\xf3nico del usuario del navegador."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Host"}),": nombre o direcci\xf3n del servidor (por ejemplo utilizando un URL, ",(0,i.jsx)(n.a,{href:"http://miservidorweb/mipagina.html",children:"http://miservidorweb/mipagina.html"}),", Host toma el valor \xabmiservidorweb\xbb). Permites administrar varios nombres que apuntan a la misma direcci\xf3n IP (virtual hosting)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Referer"}),": origen de la petici\xf3n (por ejemplo ",(0,i.jsx)(n.a,{href:"http://miservidorweb/mipagina1.html",children:"http://miservidorweb/mipagina1.html"}),"), es decir la p\xe1gina que el usuario muestra cuando se hace clic en el bot\xf3n Anterior."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"User-Agent"}),": nombre y versi\xf3n del navegador o del proxy."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,i.jsx)(n.p,{children:"El siguiente m\xe9todo permite recuperar el contenido de todo campo de encabezado de petici\xf3n HTTP:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// M\xe9todo de proyecto GetHTTPField\n\xa0\xa0// GetHTTPField (Text) -> Text\n\xa0\xa0// GetHTTPField (Nombre encabezado HTTP) -> Contenido encabezado HTTP\n\xa0\n\xa0var $0;$1 : Text\n\xa0var $vlElem : Integer\n\xa0ARRAY TEXT($nombres;0)\n\xa0ARRAY TEXT($valores;0)\n\xa0$0:=""\n\xa0WEB GET HTTP HEADER($nombres;$valores)\n\xa0$vlElem:=Find in array($nombres;$1)\n\xa0If($vlElem>0)\n\xa0\xa0\xa0\xa0$0:=$valores{$vlElem}\n\xa0End if\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Una vez escrito este m\xe9todo de proyecto, puede llamarse de esta forma:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// Contenido del encabezado Cookie\n\xa0$cookie:=GetHTTPField("Cookie")\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Puede enviar diferentes p\xe1ginas en funci\xf3n del idioma del navegador (por ejemplo en el M\xe9todo",(0,i.jsx)(n.br,{}),"\nOn Web Connection):"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0$idioma:=GetHTTPField("Accept-Language")\n\xa0Case of\n\xa0\xa0\xa0\xa0:($idioma="@fr@")\xa0//Franc\xe9s (ver lista ISO 639)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("index_fr.html")\n\xa0\xa0\xa0\xa0:($idioma="@sp@")\xa0//Espa\xf1ol (ver lista ISO 639)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("index_es.html")\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("index.html")\n\xa0End case\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Nota:"}),' los navegadores web permiten definir varios idiomas por defecto. Est\xe1n listados en el campo "Accept-Language", separados por un ";". Su propiedad est\xe1 definida de acuerdo a su posici\xf3n dentro de la cadena; por lo tanto es una buena idea probar la posici\xf3n de los idiomas en la cadena.']}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Este es un ejemplo de hosts virtuales (por ejemplo en el ",(0,i.jsx)(n.a,{href:"/docs/es/commands/qr-set-destination",children:"QR SET DESTINATION"}),'). Los siguiente nombres "home_site.com", "home_site1.com" y "home_site2.com" apuntan a la misma direcci\xf3n IP, por ejemplo 192.1.2.3.']}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'\xa0$host:=GetHTTPField("Host")\n\xa0Case of\n\xa0\xa0\xa0\xa0:($host="www.site1.com")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("home_site1.com")\n\xa0\xa0\xa0\xa0:($host="www.site2.com")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0WEB SEND FILE("home_site2.com")\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0SEND HTML FILE("home_site.com")\n\xa0End case\n'})}),"\n",(0,i.jsx)(n.h4,{id:"ver-tambi\xe9n",children:"Ver tambi\xe9n"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs/es/commands/web-get-http-body",children:"WEB GET HTTP BODY"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"/docs/es/commands/web-set-http-header",children:"WEB SET HTTP HEADER"})]})]})}function h(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return o},a:function(){return a}});var s=r(667294);let i={},d=s.createContext(i);function a(e){let n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);