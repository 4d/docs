"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58894],{603905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(667294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=d(a),c=l,k=u["".concat(s,".").concat(c)]||u[c]||m[c]||r;return a?n.createElement(k,o(o({ref:t},p),{},{components:a})):n.createElement(k,o({ref:t},p))}));function c(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,o=new Array(r);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:l,o[1]=i;for(var d=2;d<r;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},660215:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});a(667294);var n=a(603905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function r(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const o={id:"DataClassClass",title:"DataClass"},i=void 0,s={unversionedId:"API/DataClassClass",id:"version-20-R5/API/DataClassClass",title:"DataClass",description:"Una DataClass ofrece un objeto de interfaz a una tabla de la base de datos. Todas las dataclasses de una aplicaci\xf3n 4D est\xe1n disponibles como propiedad del datastore ds.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R5/API/DataClassClass.md",sourceDirName:"API",slug:"/API/DataClassClass",permalink:"/docs/es/API/DataClassClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataClassClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"DataClassClass",title:"DataClass"},sidebar:"docs",previous:{title:"CryptoKey",permalink:"/docs/es/API/CryptoKeyClass"},next:{title:"DataStore",permalink:"/docs/es/API/DataStoreClass"}},d={},p=[{value:"Resumen",id:"resumen",level:3},{value:".<em>attributeName</em>",id:"attributename",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Objeto devuelto",id:"objeto-devuelto",level:4},{value:"Ejemplo 1",id:"ejemplo-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2",level:4},{value:"Ejemplo 3",id:"ejemplo-3",level:4},{value:".all()",id:"all",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".clearRemoteCache()",id:"clearremotecache",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".fromCollection()",id:"fromcollection",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo 1",id:"ejemplo-1-1",level:4},{value:"Ejemplo 2",id:"ejemplo-2-1",level:4},{value:"Ejemplo 3",id:"ejemplo-3-1",level:4},{value:"Ejemplo 4",id:"ejemplo-4-1",level:4},{value:"Ejemplo 5",id:"ejemplo-5",level:4},{value:"Ejemplo 6",id:"ejemplo-6",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:".get()",id:"get",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:"Ejemplo 1",id:"ejemplo-1-2",level:4},{value:"Ejemplo 2",id:"ejemplo-2-2",level:4},{value:".getCount()",id:"getcount",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:"Ejemplo",id:"ejemplo-7",level:4},{value:".getDataStore()",id:"getdatastore",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:"Ejemplo",id:"ejemplo-8",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:"Ejemplo 1",id:"ejemplo-1-3",level:4},{value:"Ejemplo 2",id:"ejemplo-2-3",level:4},{value:"Ejemplo 3",id:"ejemplo-3-2",level:4},{value:".getRemoteCache()",id:"getremotecache",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-9",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-1",level:4},{value:".new()",id:"new",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:"Ejemplo",id:"ejemplo-10",level:4},{value:".newSelection()",id:"newselection",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:"Ejemplo",id:"ejemplo-11",level:4},{value:".query()",id:"query",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4},{value:"par\xe1metro queryString",id:"par\xe1metro-querystring",level:4},{value:"Utilizar comillas",id:"utilizar-comillas",level:4},{value:"Uso del par\xe9ntesis",id:"uso-del-par\xe9ntesis",level:4},{value:"Uso de marcadores de posici\xf3n",id:"uso-de-marcadores-de-posici\xf3n",level:4},{value:"B\xfasqueda de valores null",id:"b\xfasqueda-de-valores-null",level:4},{value:"No igual a en colecciones",id:"no-igual-a-en-colecciones",level:4},{value:"Vinculaci\xf3n de los argumentos de b\xfasqueda y los atributos de colecci\xf3n",id:"vinculaci\xf3n-de-los-argumentos-de-b\xfasqueda-y-los-atributos-de-colecci\xf3n",level:4},{value:"B\xfasquedas en las relaciones Muchos a Muchos",id:"b\xfasquedas-en-las-relaciones-muchos-a-muchos",level:4},{value:"par\xe1metro formula",id:"par\xe1metro-formula",level:4},{value:"Pasar par\xe1metros a f\xf3rmulas",id:"pasar-par\xe1metros-a-f\xf3rmulas",level:4},{value:"Par\xe1metro querySettings",id:"par\xe1metro-querysettings",level:4},{value:"Sobre queryPlan y queryPath",id:"sobre-queryplan-y-querypath",level:4},{value:"Ejemplo 1",id:"ejemplo-1-4",level:4},{value:"Ejemplo 2",id:"ejemplo-2-4",level:4},{value:"Ejemplo 3",id:"ejemplo-3-3",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-2",level:4},{value:".setRemoteCacheSettings()",id:"setremotecachesettings",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-12",level:4},{value:"Ejemplo",id:"ejemplo-12",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-3",level:4}],m={toc:p};function u(e){var{components:t}=e,o=r(e,["components"]);return(0,n.kt)("wrapper",l({},m,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Una ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#dataclass"}),"DataClass")," ofrece un objeto de interfaz a una tabla de la base de datos. Todas las dataclasses de una aplicaci\xf3n 4D est\xe1n disponibles como propiedad del ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#datastore"}),"datastore")," ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"."),(0,n.kt)("h3",l({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#attributename"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : object"),(0,n.kt)("br",null))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#all"}),(0,n.kt)("strong",{parentName:"a"},".all")," ( { ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("br",null),"queries the datastore to find all the entities related to the dataclass and returns them as an entity selection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#clearremotecache"}),(0,n.kt)("strong",{parentName:"a"},".clearRemoteCache()")),(0,n.kt)("br",null),"vac\xeda la cach\xe9 ORDA de una dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#fromcollection"}),(0,n.kt)("strong",{parentName:"a"},".fromCollection"),"( ",(0,n.kt)("em",{parentName:"a"},"objectCol")," : Collection { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("br",null),"actualiza o crea entidades en la clase de datos seg\xfan la colecci\xf3n de objetos ",(0,n.kt)("em",{parentName:"td"},"objectCol"),", y devuelve la selecci\xf3n de entidades correspondiente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#get"}),(0,n.kt)("strong",{parentName:"a"},".get"),"( ",(0,n.kt)("em",{parentName:"a"},"primaryKey")," : Integer { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.Entity",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".get"),"( ",(0,n.kt)("em",{parentName:"a"},"primaryKey")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object } ) : 4D.Entity"),(0,n.kt)("br",null),"consulta la clase de datos para recuperar la entidad que coincide con el par\xe1metro ",(0,n.kt)("em",{parentName:"td"},"primaryKey"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getcount"}),(0,n.kt)("strong",{parentName:"a"},".getCount()")," : Integer "),(0,n.kt)("br",null)," returns the number of entities in a dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getdatastore"}),(0,n.kt)("strong",{parentName:"a"},".getDataStore()")," : cs.DataStore"),(0,n.kt)("br",null),"returns the datastore for the specified dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()")," : Object "),(0,n.kt)("br",null),"returns an object providing information about the dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#getremotecache"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteCache"),"() : Object "),(0,n.kt)("br",null),"returns an object that holds the contents of the ORDA cache for a dataclass.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#new"}),(0,n.kt)("strong",{parentName:"a"},".new()")," : 4D.Entity "),(0,n.kt)("br",null),"creates in memory and returns a new blank entity related to the Dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#newselection"}),(0,n.kt)("strong",{parentName:"a"},".newSelection"),"( { ",(0,n.kt)("em",{parentName:"a"},"keepOrder")," : Integer } ) : 4D.EntitySelection "),(0,n.kt)("br",null),"creates a new, blank, non-shareable entity selection, related to the dataclass, in memory")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#query"}),(0,n.kt)("strong",{parentName:"a"},".query"),"( ",(0,n.kt)("em",{parentName:"a"},"queryString")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"...value")," : any } { ; ",(0,n.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".query"),"( ",(0,n.kt)("em",{parentName:"a"},"formula")," : Object { ; ",(0,n.kt)("em",{parentName:"a"},"querySettings")," : Object } ) : 4D.EntitySelection "),(0,n.kt)("br",null),"searches for entities that meet the search criteria specified in ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula")," and (optionally) ",(0,n.kt)("em",{parentName:"td"},"value"),"(s)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#setremotecachesettings"}),(0,n.kt)("strong",{parentName:"a"},".setRemoteCacheSettings"),"(",(0,n.kt)("em",{parentName:"a"},"settings")," : Object) "),(0,n.kt)("br",null),"sets the timeout and maximum size of the ORDA cache for a dataclass.")))),(0,n.kt)("h2",l({},{id:"attributename"}),".",(0,n.kt)("em",{parentName:"h2"},"attributeName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adido el atributo .exposed")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".attributeName"))," : object"),(0,n.kt)("h4",l({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"Los atributos de las clases de datos sonobjetos que est\xe1n disponibles directamente como propiedades de estas clases."),(0,n.kt)("p",null,"Los objetos devueltos tienen propiedades que puede leer para obtener informaci\xf3n sobre los atributos de su clase de datos."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Los objetos del atributo Dataclass pueden ser modificados, pero la estructura subyacente de la base de datos no ser\xe1 alterada.")),(0,n.kt)("h4",l({},{id:"objeto-devuelto"}),"Objeto devuelto"),(0,n.kt)("p",null,"Los objetos de atributo devueltos contienen las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"autoFilled"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'True si el valor del atributo es rellenado autom\xe1ticamente por 4D. Corresponde a las siguientes propiedades de campo 4D: "Autoincremento" para campos de tipo num\xe9rico y "Auto UUID" para campos UUID (alfa). No se devuelve si ',(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"exposed"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si el atributo est\xe1 expuesto en REST")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"fieldNumber"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de campo 4D interno del atributo. No se devuelve si ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"fieldType"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tipo de campo de base de datos 4D del atributo. Depende del atributo ",(0,n.kt)("inlineCode",{parentName:"td"},"kind"),". Possible values: ",(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "storage": corresponding 4D field type, see ',(0,n.kt)("a",l({parentName:"td"},{href:"https://doc.4d.com/4dv20/help/command/en/page1509.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Value type"))),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity": 38 (',(0,n.kt)("inlineCode",{parentName:"td"},"is object"),")"),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntities": 42 (',(0,n.kt)("inlineCode",{parentName:"td"},"is collection"),")"),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "calculated" or "alias" = same as above, depending on the resulting value (field type, relatedEntity or relatedEntities)'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"indexed"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si hay un \xedndice B-tree o Cluster B-tree en el atributo. No se devuelve si ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"inverseName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del atributo que se encuentra al otro lado de la relaci\xf3n. S\xf3lo se devuelve cuando ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"keywordIndexed"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si existe un \xedndice de palabras clave en el atributo. No se devuelve si ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"kind"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Categor\xeda del atributo. Possible values:",(0,n.kt)("li",null,'"storage": storage (or scalar) attribute, i.e. attribute storing a value, not a reference to another attribute'),(0,n.kt)("li",null,'"calculated": computed attribute, i.e. defined through a ',(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/ordaClasses#function-get-attributename"}),(0,n.kt)("inlineCode",{parentName:"a"},"get")," function")),(0,n.kt)("li",null,'"alias": attribute built upon ',(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/ordaClasses#alias-attributes-1"}),"another attribute")),(0,n.kt)("li",null,'"relatedEntity": N -> 1 relation attribute (reference to an entity)'),(0,n.kt)("li",null,'"relatedEntities": 1 -> N relation attribute (reference to an entity selection)'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"mandatory"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si se rechaza la entrada de valores null para el atributo. No se devuelve si ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities". Nota: esta propiedad corresponde a la propiedad de campo "Rechazar entrada de valor NULL" a nivel de base de datos 4D. No tiene relaci\xf3n con la propiedad "Obligatorio" existente, que es una opci\xf3n de control de entrada de datos para una tabla.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del atributo como cadena")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"path"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Ruta de ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/ordaClasses#alias-attributes-1"}),"un atributo alias")," basada en una relaci\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"readOnly"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si el atributo es de s\xf3lo lectura. For example, computed attributes without ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/ordaClasses#function-set-attributename"}),(0,n.kt)("inlineCode",{parentName:"a"},"set")," function")," are read-only.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"relatedDataClass"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del dataclass relacionado con el atributo. S\xf3lo se devuelve cuando ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tipo de valor conceptual del atributo, \xfatil para la programaci\xf3n gen\xe9rica. Depende del atributo ",(0,n.kt)("inlineCode",{parentName:"td"},"kind"),". Possible values: ",(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "storage": "blob", "bool", "date", "image", "number", "object", or "string". "number" is returned for any numeric types including duration; "string" is returned for uuid, alpha and text attribute types; "blob" attributes are ',(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/Concepts/blob#blob-type"}),"blob objects"),"."),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity": related dataClass name'),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntities": related dataClass name + "Selection" suffix'),(0,n.kt)("li",null,"if ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "calculated" or "alias": same as above, depending on the result'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"unique"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si el valor del atributo debe ser \xfanico. No se devuelve si ",(0,n.kt)("inlineCode",{parentName:"td"},".kind"),' = "relatedEntity" o "relatedEntities".')))),(0,n.kt)("admonition",l({},{type:"tip"}),(0,n.kt)("p",{parentName:"admonition"},"For generic programming, use ",(0,n.kt)("inlineCode",{parentName:"p"},"Bool(attributeName.property)"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"Num(attributeName.property)")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"String(attributeName.property)")," (depending on the property type) to get a valid value even if the property is not returned.")),(0,n.kt)("h4",l({},{id:"ejemplo-1"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$salary:=ds.Employee.salary //devuelve el atributo salary en la clase de datos Employee\n$compCity:=ds.Company["city"] //devuelve el atributo city en la clase de datos Company\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2"}),"Ejemplo 2"),(0,n.kt)("p",null,"Considerando la siguiente estructura de la base:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(29025).Z,width:"454",height:"634"})),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $firstnameAtt;$employerAtt;$employeesAtt : Object\n\n $firstnameAtt:=ds.Employee.firstname\n  //{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,\n  //keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}\n\n $employerAtt:=ds.Employee.employer\n  //{name:employer,kind:relatedEntity,relatedDataClass:Company,\n  //fieldType:38,type:Company,inverseName:employees}\n  //38=Is object\n\n $employeesAtt:=ds.Company.employees\n  //{name:employees,kind:relatedEntities,relatedDataClass:Employee,\n  //fieldType:42,type:EmployeeSelection,inverseName:employer}\n  //42=Is collection\n")),(0,n.kt)("h4",l({},{id:"ejemplo-3"}),"Ejemplo 3"),(0,n.kt)("p",null,"Considerando las propiedades de tabla siguientes:"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(546142).Z,width:"405",height:"383"})),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $sequenceNumberAtt : Object\n $sequenceNumberAtt=ds.Employee.sequenceNumber\n  //{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,\n  //indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}\n")),(0,n.kt)("h2",l({},{id:"all"}),".all()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte del par\xe1metro ",(0,n.kt)("em",{parentName:"td"},"settings"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".all")," ( { ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Opciones de construcci\xf3n: context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Referencias sobre todas las entidades relacionadas con la clase de datos")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".all()")," function queries the datastore to find all the entities related to the dataclass and returns them as an entity selection."),(0,n.kt)("p",null,"Las entidades se devuelven en el orden por defecto, que es inicialmente el orden en que fueron creadas. Tenga en cuenta, sin embargo, que si se han eliminado entidades y se han a\xf1adido otras nuevas, el orden por defecto ya no refleja el orden de creaci\xf3n."),(0,n.kt)("p",null,"Si no se encuentra la entidad correspondiente, se devuelve una selecci\xf3n de entidades vac\xeda."),(0,n.kt)("p",null,"Se aplica carga diferida."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"settings")),(0,n.kt)("p",null,"En el par\xe1metro opcional ",(0,n.kt)("em",{parentName:"p"},"settings")," se puede pasar un objeto que contenga opciones adicionales. Se soporta la siguiente propiedad:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Etiqueta para el contexto de optimizaci\xf3n aplicado a la selecci\xf3n de entidades. Este contexto ser\xe1 utilizado por el c\xf3digo que maneja la selecci\xf3n de entidades para que pueda beneficiarse de la optimizaci\xf3n. Esta funcionalidad est\xe1 ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/entities#client-server-optimization"}),"dise\xf1ada para el procesamiento cliente/servidor ORDA"),".")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"To know the total number of entities in a dataclass, it is recommended to use the ",(0,n.kt)("a",l({parentName:"p"},{href:"#getcount"}),(0,n.kt)("inlineCode",{parentName:"a"},"getCount()"))," function which is more optimized than the ",(0,n.kt)("inlineCode",{parentName:"p"},"ds.myClass.all().length")," expression.")),(0,n.kt)("h4",l({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $allEmp : cs.EmployeeSelection\n $allEmp:=ds.Employee.all()\n")),(0,n.kt)("h2",l({},{id:"clearremotecache"}),".clearRemoteCache()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearRemoteCache()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:"center"})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".clearRemoteCache()")," vac\xeda la cach\xe9 ORDA de una dataclass."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta funci\xf3n no reinicializa los valores ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," y ",(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries"),".")),(0,n.kt)("h4",l({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $cache : Object\nvar $info : Collection\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds.Persons.all()\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n$cache:=$ds.Persons.getRemoteCache()\n\n$ds.Persons.clearRemoteCache()\n// Cach\xe9 de la dataclass Persons  = {timeout:30;maxEntries:30000;stamp:255;entries:[]}\n')),(0,n.kt)("h2",l({},{id:"fromcollection"}),".fromCollection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte del par\xe1metro ",(0,n.kt)("em",{parentName:"td"},"settings"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".fromCollection"),"( ",(0,n.kt)("em",{parentName:"p"},"objectCol")," : Collection { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.EntitySelection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"objectCol"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de objetos a mapear con entidades")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Opciones de construcci\xf3n: context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Selecci\xf3n de entidades llenadas de la colecci\xf3n")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".fromCollection()")," actualiza o crea entidades en la clase de datos seg\xfan la colecci\xf3n de objetos ",(0,n.kt)("em",{parentName:"p"},"objectCol"),", y devuelve la selecci\xf3n de entidades correspondiente."),(0,n.kt)("p",null,"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"objectCol"),", pasa una colecci\xf3n de objetos para crear nuevas entidades o actualizar las existentes de la dataclass. Los nombres de las propiedades deben ser los mismos que los de los atributos de la clase de datos. Si un nombre de propiedad no existe en la clase de datos, se ignora. Si un valor de atributo no est\xe1 definido en la colecci\xf3n, su valor es null."),(0,n.kt)("p",null,"El mapeo entre los objetos de la colecci\xf3n y las entidades se realiza sobre los ",(0,n.kt)("strong",{parentName:"p"},"nombres de atributos")," y sus ",(0,n.kt)("strong",{parentName:"p"},"tipos de datos"),". Si la propiedad de un objeto tiene el mismo nombre que el atributo de una entidad pero sus tipos no coinciden, el atributo de la entidad no se llena."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Crear o actualizar modo")),(0,n.kt)("p",null,"Para cada objeto de ",(0,n.kt)("em",{parentName:"p"},"objectCol"),":"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Si el objeto contiene una propiedad booleana "',"_",'_NEW" establecida en false (o no contiene una propiedad booleana "',"_",'_NEW"), la entidad se actualiza o se crea con los valores correspondientes de las propiedades del objeto. No se realiza ninguna comprobaci\xf3n con respecto a la llave primaria:',(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},'Si la llave primaria se da y existe, la entidad se actualiza. En este caso, la llave primaria puede darse tal cual o con una propiedad "',"_","_",'KEY" (llenada con el valor de la llave primaria).'),(0,n.kt)("li",{parentName:"ul"},"If the primary key is given (as is) and does not exist, the entity is created"),(0,n.kt)("li",{parentName:"ul"},"Si no se da la llave primaria, se crea la entidad y se asigna el valor de la llave primaria con respecto a las reglas est\xe1ndar de la base de datos."))),(0,n.kt)("li",{parentName:"ul"},'If the object contains a boolean property "',"_","_",'NEW" set to ',(0,n.kt)("strong",{parentName:"li"},"true"),", the entity is created with the corresponding values of the attributes from the object. Se realiza una verificaci\xf3n con respecto a la llave primaria:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Si se da la llave primaria (tal cual) y existe, se env\xeda un error"),(0,n.kt)("li",{parentName:"ul"},"If the primary key is given (as is) and does not exist, the entity is created"),(0,n.kt)("li",{parentName:"ul"},"Si no se da la primaria, se crea la entidad y se asigna el valor de la llave primaria con respecto a las reglas est\xe1ndar de la base de datos.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},'The "',"_","*",'KEY" property containing a value is taken into account only when the "',"*","*",'NEW" property is set to ',(0,n.kt)("strong",{parentName:"p"},"false")," (or is omitted) and a corresponding entity exists. The use of a ","*","_","KEY property allows independence from the primary key attribute name.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Entidades relacionadas")),(0,n.kt)("p",null,"Los objetos de ",(0,n.kt)("em",{parentName:"p"},"objectCol")," pueden contener uno o m\xe1s objetos anidados que presentan una o m\xe1s entidades relacionadas, lo que puede ser \xfatil para crear o actualizar enlaces entre entidades."),(0,n.kt)("p",null,'Los objetos anidados que presentan entidades relacionadas deben contener una propiedad "',"_","*",'KEY" (llenada con el valor de la llave primaria de la entidad relacionada) o el atributo de llave primaria de la propia entidad relacionada. El uso de una propiedad ',"*","_","KEY permite la independencia del nombre del atributo de la llave primaria."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El contenido de las entidades relacionadas no puede ser creado / actualizado a trav\xe9s de este mecanismo.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Stamp")),(0,n.kt)("p",null,"Si se da un atributo ","_","_",'STAMP, se realiza una comprobaci\xf3n con el sello en el almac\xe9n de datos y se puede devolver un error ("El sello dado no coincide con el actual para el registro# XX de la tabla XXXX"). Para obtener m\xe1s informaci\xf3n, consulte ',(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#bloqueo-de-entidades"}),"Bloqueo de entidades"),"."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"settings")),(0,n.kt)("p",null,"En el par\xe1metro opcional ",(0,n.kt)("em",{parentName:"p"},"settings")," se puede pasar un objeto que contenga opciones adicionales. Se soporta la siguiente propiedad:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Etiqueta para el contexto de optimizaci\xf3n aplicado a la selecci\xf3n de entidades. Este contexto ser\xe1 utilizado por el c\xf3digo que maneja la selecci\xf3n de entidades para que pueda beneficiarse de la optimizaci\xf3n. Esta funcionalidad est\xe1 ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/entities#client-server-optimization"}),"dise\xf1ada para el procesamiento cliente/servidor ORDA"),".")))),(0,n.kt)("h4",l({},{id:"ejemplo-1-1"}),"Ejemplo 1"),(0,n.kt)("p",null,"Queremos actualizar una entidad existente. La propiedad ","_","_","NEW no se da, la llave primaria del empleado se da y existe:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=668 //Existing PK in Employee table\n $emp.firstName:="Arthur"\n $emp.lastName:="Martin"\n $emp.employer:=New object("ID";121) //PK existente en la dataClass relacionada Company\n  // Para este empleado, podemos cambiar la Empresa utilizando otro PK existente en la clase de datos relacionada Company\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-1"}),"Ejemplo 2"),(0,n.kt)("p",null,"Queremos actualizar una entidad existente. La propiedad ","_","*","NEW no se da, la llave primaria del empleado est\xe1 con el atributo ","*","_","KEY y existe:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.__KEY:=1720 //PK existente en la tabla Employee\n $emp.firstName:="John"\n $emp.lastName:="Boorman"\n $emp.employer:=New object("ID";121) // PK existente en la dataClass relacionada Company\n  // Para este empleado, podemos cambiar la Empresa utilizando otro PK existente en la dataClass relacionada Company\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3-1"}),"Ejemplo 3"),(0,n.kt)("p",null,"Queremos crear simplemente una nueva entidad a partir de una colecci\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.firstName:="Victor"\n $emp.lastName:="Hugo"\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-4-1"}),"Ejemplo 4"),(0,n.kt)("p",null,"Queremos crear una entidad. La propiedad ","_","_","NEW es True, la llave primaria del empleado no se da:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.firstName:="Mary"\n $emp.lastName:="Smith"\n $emp.employer:=New object("__KEY";121) //PK existente en la dataClass Company\n $emp.__NEW:=True\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n\n\n\n\n\n\n')),(0,n.kt)("h4",l({},{id:"ejemplo-5"}),"Ejemplo 5"),(0,n.kt)("p",null,"Queremos crear una entidad. La propiedad ","_","_","NEW se omite, la llave primaria del empleado se da y no existe:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=10000 //Llave primaria inexistente\n $emp.firstName:="Fran\xe7oise"\n $emp.lastName:="Sagan"\n $empsCollection.push($emp)\n $employees:=ds.Employee.fromCollection($empsCollection)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-6"}),"Ejemplo 6"),(0,n.kt)("p",null,"En este ejemplo, la primera entidad se crear\xe1 y guardar\xe1 pero la segunda fallar\xe1 ya que ambas utilizan la misma llave primaria:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $empsCollection : Collection\n var $emp; $emp2 : Object\n var $employees : cs.EmployeeSelection\n\n $empsCollection:=New collection\n $emp:=New object\n $emp.ID:=10001 // Llave primaria inexistente\n $emp.firstName:="Simone"\n $emp.lastName:="Martin"\n $emp.__NEW:=True\n $empsCollection.push($emp)\n\n $emp2:=New object\n $emp2.ID:=10001 // La misma llave primaria, ya existente\n $emp2.firstName:="Marc"\n $emp2.lastName:="Smith"\n $emp2.__NEW:=True\n $empsCollection.push($emp2)\n $employees:=ds.Employee.fromCollection($empsCollection)\n  //se crea la primera entidad\n  //error de llave duplicada para la segunda entidad\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/EntitySelectionClass#tocollection"}),(0,n.kt)("strong",{parentName:"a"},".toCollection()"))),(0,n.kt)("h2",l({},{id:"get"}),".get()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".get"),"( ",(0,n.kt)("em",{parentName:"p"},"primaryKey")," : Integer { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.Entity",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".get"),"( ",(0,n.kt)("em",{parentName:"p"},"primaryKey")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object } ) : 4D.Entity"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"primaryKey"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer OR Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor de la llave primaria de la entidad a recuperar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Opciones de construcci\xf3n: context")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Entidad que coincide con la llave primaria designada")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".get()")," consulta la clase de datos para recuperar la entidad que coincide con el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"primaryKey"),"."),(0,n.kt)("p",null,"En ",(0,n.kt)("em",{parentName:"p"},"primaryKey"),", pase el valor de la llave primaria de la entidad a recuperar. El tipo de valor debe coincidir con el tipo de la llave primaria definida en el almac\xe9n de datos (Entero o Texto). Tambi\xe9n puedes asegurarse de que el valor de la llave primaria siempre se devuelva como Texto utilizando la funci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/EntityClass#getkey"}),(0,n.kt)("inlineCode",{parentName:"a"},".getKey()"))," con el par\xe1metro ",(0,n.kt)("inlineCode",{parentName:"p"},"dk key as string"),"."),(0,n.kt)("p",null,"If no entity is found with ",(0,n.kt)("em",{parentName:"p"},"primaryKey"),", a ",(0,n.kt)("strong",{parentName:"p"},"Null")," entity is returned."),(0,n.kt)("p",null,"Se aplica la carga diferida, lo que significa que los datos relacionados se cargan desde el disco s\xf3lo cuando son necesarios."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"settings")),(0,n.kt)("p",null,"En el par\xe1metro opcional ",(0,n.kt)("em",{parentName:"p"},"settings")," se puede pasar un objeto que contenga opciones adicionales. Se soporta la siguiente propiedad:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Etiqueta para el contexto de optimizaci\xf3n autom\xe1tica aplicado a la entidad. Este contexto ser\xe1 utilizado por el c\xf3digo siguiente que carga la entidad para que pueda beneficiarse de la optimizaci\xf3n. Esta funcionalidad est\xe1 ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/entities#client-server-optimization"}),"dise\xf1ada para el procesamiento cliente/servidor ORDA"),".")))),(0,n.kt)("h4",l({},{id:"ejemplo-1-2"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entity : cs.EmployeeEntity  \n var $entity2 : cs.InvoiceEntity\n $entity:=ds.Employee.get(167) // return the entity whose primary key value is 167\n $entity2:=ds.Invoice.get("DGGX20030") // return the entity whose primary key value is "DGGX20030"\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-2"}),"Ejemplo 2"),(0,n.kt)("p",null,"This example illustrates the use of the ",(0,n.kt)("em",{parentName:"p"},"context")," property:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $e1; $e2; $e3; $e4 : cs.EmployeeEntity\n var $settings; $settings2 : Object\n\n $settings:=New object("context";"detail")\n $settings2:=New object("context";"summary")\n\n $e1:=ds.Employee.get(1;$settings)\n completeAllData($e1) // In completeAllData method, an optimization is triggered and associated to context "detail"\n\n $e2:=ds.Employee.get(2;$settings)\n completeAllData($e2) // In completeAllData method, the optimization associated to context "detail" is applied\n\n $e3:=ds.Employee.get(3;$settings2)\n completeSummary($e3) //In completeSummary method, an optimization is triggered and associated to context "summary"\n\n $e4:=ds.Employee.get(4;$settings2)\n completeSummary($e4) //In completeSummary method, the optimization associated to context "summary" is applied\n')),(0,n.kt)("h2",l({},{id:"getcount"}),".getCount()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getCount()")," : Integer "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de entidades en la dataclass")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getCount()")," function  returns the number of entities in a dataclass."),(0,n.kt)("p",null,"Si se utiliza esta funci\xf3n dentro de una transacci\xf3n, se tendr\xe1n en cuenta las entidades creadas durante la misma."),(0,n.kt)("h4",l({},{id:"ejemplo-7"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $number : Integer\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$number:=$ds.Persons.getCount()\n')),(0,n.kt)("h2",l({},{id:"getdatastore"}),".getDataStore()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getDataStore()")," : cs.DataStore"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"cs.DataStore"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Datastore de la dataclass")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getDataStore()")," function returns the datastore for the specified dataclass."),(0,n.kt)("p",null,"El almac\xe9n de datos puede ser:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the main datastore, as returned by the ",(0,n.kt)("inlineCode",{parentName:"li"},"ds")," command."),(0,n.kt)("li",{parentName:"ul"},"a remote datastore, opened using the ",(0,n.kt)("inlineCode",{parentName:"li"},"Open datastore")," command.")),(0,n.kt)("h4",l({},{id:"ejemplo-8"}),"Ejemplo"),(0,n.kt)("p",null,"The ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},"SearchDuplicate"))," project method searches for duplicated values in any dataclass."),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $pet : cs.CatsEntity\n\n $pet:=ds.Cats.all().first() //get an entity\n SearchDuplicate($pet;"Dogs")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'  // SearchDuplicate method\n  // SearchDuplicate(entity_to_search;dataclass_name)\n\n #DECLARE ($pet : Object ; $dataClassName : Text)\n var $dataStore; $duplicates : Object  \n\n $dataStore:=$pet.getDataClass().getDataStore()\n $duplicates:=$dataStore[$dataClassName].query("name=:1";$pet.name)\n')),(0,n.kt)("h2",l({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R3"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Se ha a\xf1adido la propiedad exposed")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()")," : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Informaci\xf3n sobre la clase de datos")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," function returns an object providing information about the dataclass. Esta funci\xf3n es \xfatil para configurar el c\xf3digo gen\xe9rico."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Objeto devuelto")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"exposed"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la dataclass est\xe1 expuesta en REST")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"primaryKey"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de la llave primaria de la clase de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"tableNumber"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero de la tabla 4D interna")))),(0,n.kt)("h4",l({},{id:"ejemplo-1-3"}),"Ejemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' #DECLARE ($entity : Object)  \n var $status : Object\n\n computeEmployeeNumber($entity) //do some actions on entity\n\n $status:=$entity.save()\n if($status.success)\n    ALERT("Record updated in table "+$entity.getDataClass().getInfo().name)\n End if\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-3"}),"Ejemplo 2"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $settings : Object\n var $es : cs.ClientsSelection\n\n $settings:=New object\n $settings.parameters:=New object("receivedIds";getIds())\n $settings.attributes:=New object("pk";ds.Clients.getInfo().primaryKey)\n $es:=ds.Clients.query(":pk in :receivedIds";$settings)\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3-2"}),"Ejemplo 3"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $pk : Text\n var $dataClassAttribute : Object\n\n $pk:=ds.Employee.getInfo().primaryKey\n $dataClassAttribute:=ds.Employee[$pk] // If needed the attribute matching the primary key is accessible\n")),(0,n.kt)("h2",l({},{id:"getremotecache"}),".getRemoteCache()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteCache"),"() : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto que describe el contenido de la cach\xe9 ORDA para la clase de datos.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. En la mayor\xeda de los casos, no ser\xe1 necesario utilizarla.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteCache()")," function returns an object that holds the contents of the ORDA cache for a dataclass.."),(0,n.kt)("p",null,"Calling this function from a 4D single-user application returns ",(0,n.kt)("inlineCode",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"El objeto devuelto tiene las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"maxEntries"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'N\xfamero m\xe1ximo de colecciones "entries".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"stamp"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Marcador de la cach\xe9.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tiempo restante antes de que las nuevas entradas de la cach\xe9 se marquen como vencidas.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"entries"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Contiene un objeto de entrada para cada entidad en la cach\xe9.")))),(0,n.kt)("p",null,"Each entry object in the ",(0,n.kt)("inlineCode",{parentName:"p"},"entries")," collection has the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"data"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto que contiene los datos de la entrada.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"expired"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la entrada ha expirado.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"key"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Llave primaria de la entidad.")))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"data")," object in each entry contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__KEY"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Llave primaria de la entidad")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__STAMP"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Stamp de la entidad en la base de datos")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"__TIMESTAMP"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"String"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Timestamp de la entidad en la base de datos (el formato es YYYY-MM-DDTHH:MM:SS:ms:Z)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"dataClassAttributeName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Variant"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Si hay datos en la cach\xe9 para un atributo de dataclass, se devuelven en una propiedad con el mismo tipo que en la base de datos.")))),(0,n.kt)("p",null,"Los datos relativos a las entidades relacionadas se almacenan en la cach\xe9 del objeto de datos."),(0,n.kt)("h4",l({},{id:"ejemplo-9"}),"Ejemplo"),(0,n.kt)("p",null,"In the following example, ",(0,n.kt)("inlineCode",{parentName:"p"},"$ds.Persons.all()")," loads the first entity with all its attributes. Then, the request optimization is triggered, so only ",(0,n.kt)("inlineCode",{parentName:"p"},"firstname")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"address.city")," are loaded."),(0,n.kt)("p",null,"Note that ",(0,n.kt)("inlineCode",{parentName:"p"},"address.city")," is loaded in the cache of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Persons")," dataclass."),(0,n.kt)("p",null,"Only the first entity of the ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," dataclass is stored in the cache. Se carga durante la primera iteraci\xf3n del bucle."),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\nvar $persons : cs.PersonsSelection\nvar $p : cs.PersonsEntity\nvar $cachePersons; $cacheAddress : Object\nvar $text : Text\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$persons:=$ds.Persons.all()\n\n$text:=""\nFor each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / "\nEnd for each\n\n$cachePersons:=$ds.Persons.getRemoteCache()\n$cacheAddress:=$ds.Adress.getRemoteCache()\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-1"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#setremotecachesettings"}),".setRemoteCacheSettings()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#clearremotecache"}),".clearRemoteCache()")),(0,n.kt)("h2",l({},{id:"new"}),".new()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".new()")," : 4D.Entity "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Entity"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nueva entidad que coincide con la clase de datos")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".new()")," function creates in memory and returns a new blank entity related to the Dataclass."),(0,n.kt)("p",null,"The entity object is created in memory and is not saved in the database until the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/EntityClass#save"}),(0,n.kt)("inlineCode",{parentName:"a"},".save( )"))," function is called. Si la entidad se borra antes de ser guardada, no se puede recuperar."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D Server"),": In client-server, if the primary key of the corresponding table is auto-incremented, it will be calculated when the entity is saved on the server."),(0,n.kt)("p",null,"All attributes of the entity are initialized with the ",(0,n.kt)("strong",{parentName:"p"},"null")," value."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Attributes can be initialized with default values if the ",(0,n.kt)("strong",{parentName:"p"},"Map NULL values to blank values")," option is selected at the 4D database structure level.")),(0,n.kt)("h4",l({},{id:"ejemplo-10"}),"Ejemplo"),(0,n.kt)("p",null,'Este ejemplo crea una nueva entidad en la clase de datos "Log" y registra la informaci\xf3n en el atributo "info":'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $entity : cs.LogEntity\n $entity:=ds.Log.new() //create a reference\n $entity.info:="New entry" //store some information\n $entity.save() //save the entity\n')),(0,n.kt)("h2",l({},{id:"newselection"}),".newSelection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".newSelection"),"( { ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," : Integer } ) : 4D.EntitySelection "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"keepOrder"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"dk keep ordered"),": creates an ordered entity selection,",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"dk non ordered"),": creates an unordered entity selection (default if omitted)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nueva selecci\xf3n de entidades en blanco relacionadas con la clase de datos")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".newSelection()")," function creates a new, blank, non-shareable entity selection, related to the dataclass, in memory."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For information on non-shareable entity selections, please refer to ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/entities#shareable-or-non-shareable-entity-selections"}),"this section"),".")),(0,n.kt)("p",null,"If you want to create an ordered entity selection, pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk keep ordered")," selector in the ",(0,n.kt)("em",{parentName:"p"},"keepOrder")," parameter. By default if you omit this parameter, or if you pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"dk non ordered")," selector, the method creates an unordered entity selection. Las selecciones de entidades desordenadas son m\xe1s r\xe1pidas pero no se puede confiar en las posiciones de las entidades. For more information, please see ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered vs Unordered entity selections"),"."),(0,n.kt)("p",null,"When created, the entity selection does not contain any entities (",(0,n.kt)("inlineCode",{parentName:"p"},"mySelection.length")," returns 0). This method lets you build entity selections gradually by making subsequent calls to the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/EntitySelectionClass#add"}),(0,n.kt)("inlineCode",{parentName:"a"},"add()"))," function."),(0,n.kt)("h4",l({},{id:"ejemplo-11"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $USelection; $OSelection : cs.EmployeeSelection\n $USelection:=ds.Employee.newSelection() //create an unordered empty entity selection\n $OSelection:=ds.Employee.newSelection(dk keep ordered) //create an ordered empty entity selection\n")),(0,n.kt)("h2",l({},{id:"query"}),".query()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte de los par\xe1metros Formula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Soporte de los marcadores para los valores")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".query"),"( ",(0,n.kt)("em",{parentName:"p"},"queryString")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"...value")," : any } { ; ",(0,n.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".query"),"( ",(0,n.kt)("em",{parentName:"p"},"formula")," : Object { ; ",(0,n.kt)("em",{parentName:"p"},"querySettings")," : Object } ) : 4D.EntitySelection "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"queryString"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Criterios de b\xfasqueda como cadena")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"formula"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Criterios de b\xfasqueda como objeto f\xf3rmula")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"value"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"any"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Valor(es) a utilizar para los marcadores de posici\xf3n indexados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"querySettings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Opciones de b\xfasqueda: parameters, attributes, args, allowFormulas, context, queryPath, queryPlan")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.EntitySelection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"New entity selection made up of entities from dataclass meeting the search criteria specified in ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"))))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-11"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".query()")," function searches for entities that meet the search criteria specified in ",(0,n.kt)("em",{parentName:"p"},"queryString")," or ",(0,n.kt)("em",{parentName:"p"},"formula")," and (optionally) ",(0,n.kt)("em",{parentName:"p"},"value"),"(s), for all the entities in the dataclass, and returns a new object of type ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," containing all the entities that are found. Se aplica carga diferida."),(0,n.kt)("p",null,"If no matching entities are found, an empty ",(0,n.kt)("inlineCode",{parentName:"p"},"EntitySelection")," is returned."),(0,n.kt)("h4",l({},{id:"par\xe1metro-querystring"}),"par\xe1metro queryString"),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter uses the following syntax:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"attributePath|formula comparator value   \n {logicalOperator attributePath|formula comparator value}   \n {order by attributePath {desc | asc}}\n")),(0,n.kt)("p",null,"donde:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"attributePath"),': path of attribute on which you want to execute the query. Este par\xe1metro puede ser un nombre simple (por ejemplo, "pa\xeds") o cualquier ruta de atributo v\xe1lida (por ejemplo, "pa\xeds.nombre".) En el caso de una ruta de atributos de tipo ',(0,n.kt)("code",null,"Collection"),", se utiliza la notaci\xf3n ","[",' ] para manejar todas las ocurrencias (por ejemplo "ni\xf1os',"[ ]",'.edad"). In case of an attribute path whose type is ',(0,n.kt)("inlineCode",{parentName:"li"},"Collection"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"[]")," notation is used to handle all the occurences (for example ",(0,n.kt)("inlineCode",{parentName:"li"},"children[].age"),").")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("em",{parentName:"p"},'You cannot use directly attributes whose name contains special characters such as ".", "',"[",' ]", or "=", ">", "#"..., because they will be incorrectly evaluated in the query string. If you need to query on such attributes, you must consider using placeholders, which allow an extended range of characters in attribute paths (see')," ",(0,n.kt)("strong",{parentName:"p"},"Using placeholders")," ",(0,n.kt)("em",{parentName:"p"},"below)."))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"formula"),": a valid formula passed as ",(0,n.kt)("inlineCode",{parentName:"p"},"Text")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Object"),". La f\xf3rmula se evaluar\xe1 para cada entidad procesada y debe devolver un valor booleano. Within the formula, the entity is available through the ",(0,n.kt)("inlineCode",{parentName:"p"},"This")," object."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Text"),": the formula string must be preceeded by the ",(0,n.kt)("inlineCode",{parentName:"li"},"eval()")," statement, so that the query parser evaluates the expression correctly. For example: ",(0,n.kt)("em",{parentName:"li"},'"eval(length(This.lastname) >=30)"')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Object"),": the ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/API/FunctionClass"}),"formula object")," is passed as a ",(0,n.kt)("strong",{parentName:"li"},"placeholder")," (see below). The formula must have been created using the ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/API/FunctionClass#formula"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula"))," or ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/API/FunctionClass#formula-from-string"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula from string"))," command.")))),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"Keep in mind that 4D formulas only support ",(0,n.kt)("inlineCode",{parentName:"li"},"&")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"|")," symbols as logical operators."),(0,n.kt)("li",{parentName:"ul"},"Si la f\xf3rmula no es el \xfanico criterio de b\xfasqueda, el optimizador del motor de b\xfasquedas podr\xeda procesar previamente otros criterios (por ejemplo, los atributos indexados) y, por tanto, la f\xf3rmula podr\xeda evaluarse s\xf3lo para un subconjunto de entidades."))),(0,n.kt)("p",null,"Las f\xf3rmulas en las consultas pueden recibir par\xe1metros a trav\xe9s de $1. This point is detailed in the ",(0,n.kt)("strong",{parentName:"p"},"formula parameter")," paragraph below."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"You can also pass directy a ",(0,n.kt)("inlineCode",{parentName:"li"},"formula")," parameter object instead of the ",(0,n.kt)("inlineCode",{parentName:"li"},"queryString")," parameter (recommended when formulas are more complex). Vea el p\xe1rrafo ",(0,n.kt)("strong",{parentName:"li"},"Par\xe1metros f\xf3rmula")," abajo."),(0,n.kt)("li",{parentName:"ul"},"For security reasons, formula calls within ",(0,n.kt)("inlineCode",{parentName:"li"},"query()")," functions can be disallowed. Ver la descripci\xf3n del par\xe1metro ",(0,n.kt)("inlineCode",{parentName:"li"},"querySettings"),"."))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"comparator"),": symbol that compares ",(0,n.kt)("em",{parentName:"li"},"attributePath")," and ",(0,n.kt)("em",{parentName:"li"},"value"),". Se soportan los siguientes s\xedmbolos:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Comparaci\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"S\xedmbolo(s)"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Comentario"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Igual a"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"=, =="),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Obtiene los datos coincidentes, admite el comod\xedn (@), no distingue entre may\xfasculas de min\xfasculas ni diacr\xedticas.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"===, IS"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Obtiene los datos coincidentes, considera @ como car\xe1cter est\xe1ndar, no distingue entre may\xfasculas de min\xfasculas ni diacr\xedticas")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Diferente de"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"#, !="),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Soporta el comod\xedn (@). Equivalent to "Not condition applied on a statement" (',(0,n.kt)("a",l({parentName:"td"},{href:"#not-equal-to-in-collections"}),"see below"),").")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null})),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"!==, IS NOT"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Considera la @ como un caracter est\xe1ndar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Condici\xf3n No aplicada a una sentencia"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"NOT"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Los par\xe9ntesis son obligatorios cuando se utiliza NOT antes de una instrucci\xf3n que contiene varios operadores. Equivalent to "Not equal to" (',(0,n.kt)("a",l({parentName:"td"},{href:"#not-equal-to-in-collections"}),"see below"),").")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Menor que"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mayor que"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),">"),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Menor o igual que"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"<="),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Mayor o igual que"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"> ="),(0,n.kt)("td",l({parentName:"tr"},{align:null}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Inclu\xeddo en"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"IN"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Devuelve los datos iguales a al menos uno de los valores de una colecci\xf3n o de un conjunto de valores, admite el comod\xedn (@)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Contiene palabra clave"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"%"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Las palabras claves pueden utilizarse en atributos de tipo texto o imagen")))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"value"),": the value to compare to the current value of the property of each entity in the entity selection. It can be a ",(0,n.kt)("strong",{parentName:"li"},"placeholder")," (see ",(0,n.kt)("strong",{parentName:"li"},"Using placeholders")," below) or any expression matching the data type property.\nAl utilizar un valor constante, deben respetarse las siguientes reglas:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"text")," type constant can be passed with or without simple quotes (see ",(0,n.kt)("strong",{parentName:"li"},"Using quotes"),' below). Para consultar una cadena dentro de otra cadena (una consulta de tipo "contiene"), utilice el s\xedmbolo de comod\xedn (@) en el valor para aislar la cadena a buscar como se muestra en este ejemplo: "@Smith@". Las siguientes palabras claves est\xe1n prohibidas para las constantes de texto: true, false.'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"boolean")," type constants: ",(0,n.kt)("strong",{parentName:"li"},"true")," or ",(0,n.kt)("strong",{parentName:"li"},"false")," (case sensitive)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"numeric")," type constants: decimals are separated by a '.' (period)."),(0,n.kt)("li",{parentName:"ul"},"Constantes de tipo ",(0,n.kt)("strong",{parentName:"li"},"date"),': formato "YYYY-MM-DD"'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"null"),' constant: using the "null" keyword will find ',(0,n.kt)("strong",{parentName:"li"},"null")," and ",(0,n.kt)("strong",{parentName:"li"},"undefined")," properties."),(0,n.kt)("li",{parentName:"ul"},"in case of a query with an IN comparator, ",(0,n.kt)("em",{parentName:"li"},"value")," must be a collection, or values matching the type of the attribute path between ","["," ] separated by commas (for strings, ",(0,n.kt)("inlineCode",{parentName:"li"},'"')," characters must be escaped with ",(0,n.kt)("inlineCode",{parentName:"li"},"\\"),")."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"logicalOperator"),": used to join multiple conditions in the query (optional). Puede utilizar uno de los siguientes operadores l\xf3gicos (se puede utilizar el nombre o el s\xedmbolo):")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Conjunci\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"S\xedmbolo(s)"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"AND"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"&, &&, and")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"O"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"|",",","|","|",", or")))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"order by attributePath"),": you can include an order by ",(0,n.kt)("em",{parentName:"li"},"attributePath")," statement in the query so that the resulting data will be sorted according to that statement. You can use multiple order by statements, separated by commas (e.g., order by ",(0,n.kt)("em",{parentName:"li"},"attributePath1")," desc, ",(0,n.kt)("em",{parentName:"li"},"attributePath2")," asc). Por defecto, el orden es ascendente. Pase 'desc' para definir un orden descendente y 'asc' para definir un orden ascendente.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you use this statement, the returned entity selection is ordered (for more information, please refer to ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/ORDA/dsmapping#ordered-or-unordered-entity-selection"}),"Ordered vs Unordered entity selections"),").")),(0,n.kt)("h4",l({},{id:"utilizar-comillas"}),"Utilizar comillas"),(0,n.kt)("p",null,"Cuando utilice comillas dentro de las consultas, debe utilizar comillas simples ' ' dentro de la consulta y comillas dobles \" \" para encerrar toda la consulta, de lo contrario se devuelve un error. Por ejemplo:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"\"employee.name = 'smith' AND employee.firstname = 'john'\"\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Las comillas simples (') no se admiten en los valores buscados, ya que romper\xedan la cadena de b\xfasqueda. Por ejemplo, \"comp.name = 'John's pizza' \" generar\xe1 un error. Si necesita buscar en valores con comillas simples, puede considerar el uso de marcadores de posici\xf3n (ver m\xe1s abajo).")),(0,n.kt)("h4",l({},{id:"uso-del-par\xe9ntesis"}),"Uso del par\xe9ntesis"),(0,n.kt)("p",null,"Puede utilizar par\xe9ntesis en la b\xfasqueda para dar prioridad al c\xe1lculo. Por ejemplo, puede organizar una b\xfasqueda de la siguiente manera:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"\"(employee.age >= 30 OR employee.age <= 65) AND (employee.salary <= 10000 OR employee.status = 'Manager')\"\n")),(0,n.kt)("h4",l({},{id:"uso-de-marcadores-de-posici\xf3n"}),"Uso de marcadores de posici\xf3n"),(0,n.kt)("p",null,"4D allows you to use placeholders for ",(0,n.kt)("em",{parentName:"p"},"attributePath"),", ",(0,n.kt)("em",{parentName:"p"},"formula")," and ",(0,n.kt)("em",{parentName:"p"},"value")," arguments within the ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter. Un marcador es un par\xe1metro que se inserta en las cadenas de b\xfasqueda y que se sustituye por otro valor cuando se eval\xfaa la cadena de b\xfasqueda. El valor de los marcadores se eval\xfaa una vez al principio de la b\xfasqueda; no se eval\xfaa para cada elemento."),(0,n.kt)("p",null,"Two types of placeholders can be used: ",(0,n.kt)("strong",{parentName:"p"},"indexed placeholders")," and ",(0,n.kt)("strong",{parentName:"p"},"named placeholders"),":"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Marcadores de posici\xf3n indexados"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Nombre del marcador de posici\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Definici\xf3n"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Parameters are inserted as ",(0,n.kt)("inlineCode",{parentName:"td"},":paramIndex")," (for example :1, :2...) in ",(0,n.kt)("em",{parentName:"td"},"queryString")," and their corresponding values are provided by the sequence of ",(0,n.kt)("em",{parentName:"td"},"value")," parameter(s). Puede usar hasta 128 par\xe1metros ",(0,n.kt)("em",{parentName:"td"},"value")),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Parameters are inserted as ",(0,n.kt)("inlineCode",{parentName:"td"},":paramName")," (for example :myparam) and their values are provided in the attributes and/or parameters objects in the ",(0,n.kt)("em",{parentName:"td"},"querySettings")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Ejemplo"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'$r:=class.query(":1=:2";"city";"Chicago")')),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'$o.attributes:=New object("att";"city")'),(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},'$o.parameters:=New object("name";"Chicago")'),(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},'$r:=class.query(":att=:name";$o)'))))),(0,n.kt)("p",null,"You can mix all argument kinds in ",(0,n.kt)("em",{parentName:"p"},"queryString"),". A ",(0,n.kt)("em",{parentName:"p"},"queryString")," can contain, for ",(0,n.kt)("em",{parentName:"p"},"attributePath"),", ",(0,n.kt)("em",{parentName:"p"},"formula")," and ",(0,n.kt)("em",{parentName:"p"},"value")," parameters:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"valores directos (sin marcadores),"),(0,n.kt)("li",{parentName:"ul"},"marcadores indexados y/o con nombre.")),(0,n.kt)("p",null,"Using placeholders in queries ",(0,n.kt)("strong",{parentName:"p"},"is recommended")," for the following reasons:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Evita la inserci\xf3n de c\xf3digo malicioso: si utiliza directamente variables completadas por el usuario dentro de la cadena de b\xfasqueda, un usuario podr\xeda modificar las condiciones de b\xfasqueda introduciendo argumentos de b\xfasqueda adicionales. Por ejemplo, imagine una cadena de b\xfasqueda como:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $vquery:=\"status = 'public' & name = \"+myname //user enters their name\n $result:=$col.query($vquery)\n")),(0,n.kt)("p",null,"Esta b\xfasqueda parece segura ya que se filtran los datos no p\xfablicos. However, if the user enters in the ",(0,n.kt)("em",{parentName:"p"},"myname")," area something like ",(0,n.kt)("em",{parentName:"p"},"\"smith OR status='private'"),", the query string would be modified at the interpretation step and could return private data."),(0,n.kt)("p",null,"Cuando se utilizan marcadores de posici\xf3n, no es posible anular las condiciones de seguridad:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," $result:=$col.query(\"status='public' & name=:1\";myname)\n")),(0,n.kt)("p",null,"In this case if the user enters ",(0,n.kt)("em",{parentName:"p"},"smith OR status='private'")," in the ",(0,n.kt)("em",{parentName:"p"},"myname")," area, it will not be interpreted in the query string, but only passed as a value. La b\xfasqueda de una persona llamada \"smith OR status='private'\" simplemente fallar\xe1."),(0,n.kt)("ol",l({},{start:2}),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"It prevents having to worry about formatting or character issues, especially when handling ",(0,n.kt)("em",{parentName:"p"},"attributePath")," or ",(0,n.kt)("em",{parentName:"p"},"value"),' parameters that might contain non-alphanumeric characters such as ".", "[\'...')),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Permite el uso de variables o expresiones en los argumentos de b\xfasqueda. Ejemplos:"))),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$result:=$col.query("address.city = :1 & name =:2";$city;$myVar+"@")\n$result2:=$col.query("company.name = :1";"John\'s Pizzas")\n')),(0,n.kt)("h4",l({},{id:"b\xfasqueda-de-valores-null"}),"B\xfasqueda de valores null"),(0,n.kt)("p",null,"Cuando se buscan valores null, no se puede utilizar la sintaxis de marcador de posici\xf3n porque el motor de b\xfasqueda considera null como un valor de comparaci\xf3n invalido. Por ejemplo, si ejecuta la siguiente b\xfasqueda:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$vSingles:=ds.Person.query("spouse = :1";Null) // NO funcionar\xe1\n')),(0,n.kt)("p",null,"No obtendr\xe1 el resultado esperado porque el valor null ser\xe1 evaluado por 4D como un error resultante de la evaluaci\xf3n del par\xe1metro (por ejemplo, un atributo procedente de otra b\xfasqueda). Para este tipo de b\xfasquedas, debe utilizar la sintaxis de b\xfasqueda directa:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $vSingles:=ds.Person.query("spouse = null") //correct syntax\n')),(0,n.kt)("h4",l({},{id:"no-igual-a-en-colecciones"}),"No igual a en colecciones"),(0,n.kt)("p",null,'When searching within dataclass object attributes containing collections, the "not equal to ',(0,n.kt)("em",{parentName:"p"},"value"),'" comparator (',(0,n.kt)("inlineCode",{parentName:"p"},"#")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"!="),") will find elements where ALL properties are different from ",(0,n.kt)("em",{parentName:"p"},"value")," (and not those where AT LEAST one property is different from ",(0,n.kt)("em",{parentName:"p"},"value"),', which is how work other comparators). Basically, it is equivalent to search for "Not(find collection elements where property equals ',(0,n.kt)("em",{parentName:"p"},"value"),'"). Por ejemplo, con las siguientes entidades:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'Entity 1:\nds.Class.name: "A"\nds.Class.info:\n    { "coll" : [ {\n                "val":1,\n                "val":1\n            } ] }\n\nEntity 2:\nds.Class.name: "B"\nds.Class.info:\n    { "coll" : [ {\n                "val":1,\n                "val":0\n            } ] }\n\nEntity 3:\nds.Class.name: "C"\nds.Class.info:\n    { "coll" : [ {\n                "val":0,\n                "val":0\n            } ] }\n')),(0,n.kt)("p",null,"Considere los siguientes resultados:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'ds.Class.query("info.coll[].val = :1";0)\n// devuelve B y C\n// encuentra "entidades con 0 en al menos una propiedad val"\n\nds.Class.query("info.coll[].val != :1";0)\n// s\xf3lo devuelve A\n// encuentra "entidades en las que todas las propiedades val son distintas de 0"\n// lo que equivale a \nds.Class.query(not("info.coll[].val = :1";0))\n')),(0,n.kt)("p",null,'If you want to implement a query that finds entities where "at least one property is different from ',(0,n.kt)("em",{parentName:"p"},"value"),'", you need to use a special notation using a letter in the ',(0,n.kt)("inlineCode",{parentName:"p"},"[]"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'ds.Class.query("info.coll[a].val != :1";0)  \n// devuelve A y B\n// encuentra "entidades donde al menos una propiedad val es diferente de 0"\n')),(0,n.kt)("p",null,"You can use any letter from the alphabet as the ",(0,n.kt)("inlineCode",{parentName:"p"},"[a]")," notation."),(0,n.kt)("h4",l({},{id:"vinculaci\xf3n-de-los-argumentos-de-b\xfasqueda-y-los-atributos-de-colecci\xf3n"}),"Vinculaci\xf3n de los argumentos de b\xfasqueda y los atributos de colecci\xf3n"),(0,n.kt)("p",null,"Al buscar dentro de los atributos de objetos de clases de datos que contengan colecciones utilizando varios argumentos de consulta unidos por el operador AND, es posible que desee asegurarse de que s\xf3lo se devuelvan entidades que contengan elementos que coincidan con todos los argumentos, y no entidades en las que los argumentos puedan encontrarse en elementos diferentes. Para ello, es necesario vincular los argumentos de la b\xfasqueda a los elementos de colecci\xf3n, de modo que s\xf3lo se encuentren los elementos \xfanicos que contengan argumentos vinculados."),(0,n.kt)("p",null,"Por ejemplo, con las dos entidades siguientes:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),'Entity 1:\nds. People.name: "martin"\nds. People.places:\n    { "locations" : [ {\n                "kind":"home",\n                "city":"paris"\n            } ] }\n\nEntity 2:\nds. People.name: "smith"\nds. People.places:\n    { "locations" : [ {\n                "kind":"home",\n                "city":"lyon"\n            } , {\n                "kind":"office",\n                "city":"paris"\n            } ] }\n')),(0,n.kt)("p",null,'Quiere encontrar personas con un tipo de ubicaci\xf3n "home" en la ciudad "paris". Si escribe:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'ds.People.query("places.locations[].kind= :1 and places.locations[].city= :2";"home";"paris")\n')),(0,n.kt)("p",null,'... the query will return "martin" ',(0,n.kt)("strong",{parentName:"p"},"and"),' "smith" because "smith" has a "locations" element whose "kind" is "home" and a "locations" element whose "city" is "paris", even though they are different elements.'),(0,n.kt)("p",null,"If you want to only get entities where matching arguments are in the same collection element, you need to ",(0,n.kt)("strong",{parentName:"p"},"link arguments"),". Para enlazar los argumentos de b\xfasqueda:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A\xf1ada una letra entre los ","[","] en la primera ruta a enlazar y repita la misma letra en todos los argumentos enlazados. For example: ",(0,n.kt)("inlineCode",{parentName:"li"},"locations[a].city and locations[a].kind"),". Puede utilizar cualquier letra del alfabeto latino (no diferencia entre may\xfasculas y min\xfasculas)."),(0,n.kt)("li",{parentName:"ul"},"Para a\xf1adir diferentes criterios vinculados en la misma consulta, utilice otra letra. Puede crear hasta 26 combinaciones de criterios en una sola consulta.")),(0,n.kt)("p",null,"Con las entidades anteriores, si escribe:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'ds.People.query("places.locations[a].kind= :1 and places.locations[a].city= :2";"home";"paris")\n')),(0,n.kt)("p",null,'... the query will only return "martin" because it has a "locations" element whose "kind" is "home" and whose "city" is "paris". La b\xfasqueda no devolver\xe1 "smith" porque los valores "home" y "paris" no est\xe1n en el mismo elemento de colecci\xf3n.'),(0,n.kt)("h4",l({},{id:"b\xfasquedas-en-las-relaciones-muchos-a-muchos"}),"B\xfasquedas en las relaciones Muchos a Muchos"),(0,n.kt)("p",null,"ORDA ofrece una sintaxis especial para facilitar las consultas en las relaciones de muchos a muchos. In this context, you may need to search for different values with an ",(0,n.kt)("inlineCode",{parentName:"p"},"AND")," operator BUT in the same attribute. Por ejemplo, de una mirada a la siguiente estructura:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"alt-text",src:a(101822).Z,width:"537",height:"268"})),(0,n.kt)("p",null,"Imagine that you want to search all movies in which ",(0,n.kt)("em",{parentName:"p"},"both")," actor A and actor B have a role. If you write a simple query using an ",(0,n.kt)("inlineCode",{parentName:"p"},"AND")," operator, it will not work:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'// c\xf3digo inv\xe1lido\n$es:=ds.Movie.query("roles.actor.lastName = :1 AND roles.actor.lastName = :2";"Hanks";"Ryan")  \n// $es est\xe1 vac\xeda\n')),(0,n.kt)("p",null,'B\xe1sicamente, el problema est\xe1 relacionado con la l\xf3gica interna de la b\xfasqueda: no se puede buscar un atributo cuyo valor sea tanto "A" como "B".'),(0,n.kt)("p",null,"To make it possible to perform such queries, ORDA allows a special syntax: you just need to add a ",(0,n.kt)("em",{parentName:"p"},"class index")," between ",(0,n.kt)("strong",{parentName:"p"},"{}")," in all additional relation attributes used in the string:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'"relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]"\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"{x}")," tells ORDA to create another reference for the relation attribute. A continuaci\xf3n, realizar\xe1 todas las operaciones de mapa de bits internas necesarias. Note that ",(0,n.kt)("strong",{parentName:"p"},"x")," can be any number ",(0,n.kt)("strong",{parentName:"p"},"except 0"),": {1}, or {2}, or {1540}... ORDA s\xf3lo necesita una referencia \xfanica en la b\xfasqueda para cada clase \xedndice."),(0,n.kt)("p",null,"En nuestro ejemplo, ser\xeda:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'// c\xf3digo v\xe1lido\n$es:=ds.Movie.query("roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2";"Hanks";"Ryan")  \n// $es contient des films (You\'ve Got Mail, Sleepless in Seattle, Joe Versus the Volcano)\n')),(0,n.kt)("h4",l({},{id:"par\xe1metro-formula"}),"par\xe1metro formula"),(0,n.kt)("p",null,"As an alternative to formula insertion within the ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter (see above), you can pass directly a formula object as a boolean search criteria. Using a formula object for queries is ",(0,n.kt)("strong",{parentName:"p"},"recommended")," since you benefit from tokenization, and code is easier to search/read."),(0,n.kt)("p",null,"The formula must have been created using the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/FunctionClass#formula"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula"))," or ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/FunctionClass#formula-from-string"}),(0,n.kt)("inlineCode",{parentName:"a"},"Formula from string"))," command. En este caso:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the ",(0,n.kt)("em",{parentName:"li"},"formula")," is evaluated for each entity and must return true or false. Durante la ejecuci\xf3n de la b\xfasqueda, si el resultado de la f\xf3rmula no es un booleano, se considera como false."),(0,n.kt)("li",{parentName:"ul"},"within the ",(0,n.kt)("em",{parentName:"li"},"formula"),", the entity is available through the ",(0,n.kt)("inlineCode",{parentName:"li"},"This")," object."),(0,n.kt)("li",{parentName:"ul"},"if the ",(0,n.kt)("inlineCode",{parentName:"li"},"Formula")," object is ",(0,n.kt)("strong",{parentName:"li"},"null"),', the error 1626 ("Expecting a text or formula") is generated, that you call intercept using a method installed with ',(0,n.kt)("inlineCode",{parentName:"li"},"ON ERR CALL"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For security reasons, formula calls within ",(0,n.kt)("inlineCode",{parentName:"p"},"query()")," functions can be disallowed. Ver la descripci\xf3n del par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"querySettings"),".")),(0,n.kt)("h4",l({},{id:"pasar-par\xe1metros-a-f\xf3rmulas"}),"Pasar par\xe1metros a f\xf3rmulas"),(0,n.kt)("p",null,"Any ",(0,n.kt)("em",{parentName:"p"},"formula")," called by the ",(0,n.kt)("inlineCode",{parentName:"p"},"query()")," class function can receive parameters:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Parameters must be passed through the ",(0,n.kt)("strong",{parentName:"li"},"args")," property (object) of the ",(0,n.kt)("em",{parentName:"li"},"querySettings")," parameter."),(0,n.kt)("li",{parentName:"ul"},"The formula receives this ",(0,n.kt)("strong",{parentName:"li"},"args")," object as a ",(0,n.kt)("strong",{parentName:"li"},"$1")," parameter.")),(0,n.kt)("p",null,"Este peque\xf1o c\xf3digo muestra los principios de c\xf3mo se pasan los par\xe1metros a los m\xe9todos:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $settings:=New object("args";New object("exclude";"-")) //args object to pass parameters\n $es:=ds.Students.query("eval(checkName($1.exclude))";$settings) //args is received in $1\n')),(0,n.kt)("p",null,"En el ejemplo 3 se ofrecen m\xe1s ejemplos."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"4D Server"),": In client/server, formulas are executed on the server. In this context, only the ",(0,n.kt)("inlineCode",{parentName:"p"},"querySettings.args")," object is sent to the formulas."),(0,n.kt)("h4",l({},{id:"par\xe1metro-querysettings"}),"Par\xe1metro querySettings"),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"querySettings")," parameter, you can pass an object containing additional options. Se soportan las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"parameters"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},"Named placeholders for values")," used in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),". Values are expressed as property / value pairs, where property is the placeholder name inserted for a value in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),' (":placeholder") and value is the value to compare. Puede combinar marcadores de posici\xf3n indexados (valores pasados directamente en par\xe1metros de valor) y valores de marcadores de posici\xf3n con nombre en la misma b\xfasqueda.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"attributes"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("strong",{parentName:"td"},"Named placeholders for attribute paths")," used in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),". Attributes are expressed as property / value pairs, where property is the placeholder name inserted for an attribute path in the ",(0,n.kt)("em",{parentName:"td"},"queryString")," or ",(0,n.kt)("em",{parentName:"td"},"formula"),' (":placeholder"), and value can be a string or a collection of strings. Each value is a path that can designate either a scalar or a related attribute of the dataclass or a property in an object field of the dataclass',(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Type"),(0,n.kt)("th",null,"Description")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"String"),(0,n.kt)("td",null,'attributePath expressed using the dot notation, e.g. "name" or "user.address.zipCode"')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"Collection of strings"),(0,n.kt)("td",null,"Each string of the collection represents a level of attributePath, e.g. ","[",'"name"] or ',"[",'"user","address","zipCode"]. Using a collection allows querying on attributes with names that are not compliant with dot notation, e.g. ',"[",'"4Dv17.1","en/fr"]'))),"You can mix indexed placeholders (values directly passed in ",(0,n.kt)("em",{parentName:"td"},"value")," parameters) and named placeholder values in the same query.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"args"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Par\xe1metro(s) a pasar a las f\xf3rmulas, si las hay. The ",(0,n.kt)("strong",{parentName:"td"},"args")," object will be received in $1 within formulas and thus its values will be available through ",(0,n.kt)("em",{parentName:"td"},"$1.property")," (see example 3).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"allowFormulas"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True para permitir las llamadas de f\xf3rmulas en la b\xfasqueda (por defecto). Pase false para desautorizar la ejecuci\xf3n de f\xf3rmulas. If set to false and ",(0,n.kt)("inlineCode",{parentName:"td"},"query()")," is given a formula, an error is sent (1278 - Formula not allowed in this member method).")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"context"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Etiqueta para el contexto de optimizaci\xf3n autom\xe1tica aplicado a la entity selection. Este contexto ser\xe1 utilizado por el c\xf3digo que maneja la selecci\xf3n de entidades para que pueda beneficiarse de la optimizaci\xf3n. This feature is designed for client/server processing; for more information, please refer to the ",(0,n.kt)("a",l({parentName:"td"},{href:"/docs/es/ORDA/client-server-optimization#optimization-context"}),(0,n.kt)("strong",{parentName:"a"},"Client/server optimization"))," section.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"queryPlan"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"En la entity selection resultante, devuelve o no la descripci\xf3n detallada de la b\xfasqueda justo antes de que se ejecute, es decir, la b\xfasqueda planificada. La propiedad devuelta es un objeto que incluye cada b\xfasqueda y sub b\xfasqueda prevista (en el caso de una b\xfasqueda compleja). Esta opci\xf3n es \xfatil durante la fase de desarrollo de una aplicaci\xf3n. Suele utilizarse junto con queryPath. Por defecto si se omite: false.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"queryPath"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"En la entity selection resultante, devuelve o no la descripci\xf3n detallada de la b\xfasqueda tal cual es realizada. La propiedad devuelta es un objeto que contiene la ruta utilizada para la b\xfasqueda (normalmente id\xe9ntica a la de queryPlan, pero puede diferir si el motor consigue optimizar la b\xfasqueda), as\xed como el tiempo de procesamiento y el n\xfamero de registros encontrados. Esta opci\xf3n es \xfatil durante la fase de desarrollo de una aplicaci\xf3n. Por defecto si se omite: false.")))),(0,n.kt)("h4",l({},{id:"sobre-queryplan-y-querypath"}),"Sobre queryPlan y queryPath"),(0,n.kt)("p",null,"The information recorded in ",(0,n.kt)("inlineCode",{parentName:"p"},"queryPlan"),"/",(0,n.kt)("inlineCode",{parentName:"p"},"queryPath")," include the query type (indexed and sequential) and each necessary subquery along with conjunction operators. Las rutas de acceso de las peticiones tambi\xe9n contienen el n\xfamero de entidades encontradas y el tiempo necesario para ejecutar cada criterio de b\xfasqueda. Puede resultarle \xfatil analizar esta informaci\xf3n mientras desarrolla sus aplicaciones. Generalmente, la descripci\xf3n del plan de consulta y su ruta de acceso son id\xe9nticas, pero pueden diferir porque 4D puede implementar optimizaciones din\xe1micas cuando se ejecuta una consulta para mejorar el rendimiento. Por ejemplo, el motor 4D puede convertir din\xe1micamente una consulta indexada en una secuencial si estima que es m\xe1s r\xe1pida. Este caso concreto puede darse cuando el n\xfamero de entidades que se buscan es bajo."),(0,n.kt)("p",null,"Por ejemplo, si ejecuta la siguiente b\xfasqueda:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' $sel:=ds.Employee.query("salary < :1 and employer.name = :2 or employer.revenues > :3";\\  \n 50000;"Lima West Kilo";10000000;New object("queryPath";True;"queryPlan";True))\n')),(0,n.kt)("p",null,"queryPlan:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"{Or:[{And:[{item:[index : Employee.salary ] < 50000},  \n {item:Join on Table : Company  :  Employee.employerID = Company.ID,  \n subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  \n {item:Join on Table : Company  :  Employee.employerID = Company.ID,  \n subquery:[{item:[index : Company.revenues ] > 10000000}]}]}\n")),(0,n.kt)("p",null,"queryPath:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"{steps:[{description:OR,time:63,recordsfounds:1388132,  \n steps:[{description:AND,time:32,recordsfounds:131,  \n steps:[{description:[index : Employee.salary ] < 50000,time:16,recordsfounds:728260},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:0,recordsfounds:131,  \n steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:0,recordsfounds:1}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:31,recordsfounds:1388132,  \n steps:[{steps:[{description:[index : Company.revenues ] > 10000000,time:0,recordsfounds:933}]}]}]}]}\n")),(0,n.kt)("h4",l({},{id:"ejemplo-1-4"}),"Ejemplo 1"),(0,n.kt)("p",null,"Esta secci\xf3n ofrece varios ejemplos de b\xfasquedas."),(0,n.kt)("p",null,"B\xfasquedas en una cadena:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"$entitySelection:=ds.Customer.query(\"firstName = 'S@'\")\n")),(0,n.kt)("p",null,"B\xfasqueda con una instrucci\xf3n NOT:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("not(firstName=Kim)")\n')),(0,n.kt)("p",null,"B\xfasquedas con fechas:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("birthDate > :1";"1970-01-01")\n$entitySelection:=ds.Employee.query("birthDate <= :1";Current date-10950)\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n indexados para los valores:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Customer.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@")\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n indexados para valores en una dataclass relacionada:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("lastName = :1 and manager.lastName = :2";"M@";"S@")\n')),(0,n.kt)("p",null,"B\xfasqueda con marcador de posici\xf3n indexado que incluye una instrucci\xf3n de orden descendente:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Student.query("nationality = :1 order by campus.name desc, lastname";"French")\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n con nombre para los valores:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $querySettings : Object\nvar $managedCustomers : cs.CustomerSelection\n$querySettings:=New object\n$querySettings.parameters:=New object("userId";1234;"extraInfo";New object("name";"Smith"))\n$managedCustomers:=ds.Customer.query("salesperson.userId = :userId and name = :extraInfo.name";$querySettings)\n')),(0,n.kt)("p",null,"B\xfasqueda que utiliza marcadores de posici\xf3n con nombre e indexados para los valores:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $querySettings : Object\nvar $managedCustomers : cs.CustomerSelection\n$querySettings.parameters:=New object("userId";1234)\n$managedCustomers:=ds.Customer.query("salesperson.userId = :userId and name=:1";"Smith";$querySettings)\n')),(0,n.kt)("p",null,"B\xfasqueda con objetos queryPlan y queryPath:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)";"D@";"R@";"S@";"K@";New object("queryPlan";True;"queryPath";True))\n\n  //puede obtener estas propiedades en la selecci\xf3n de entidades resultante\nvar $queryPlan; $queryPath : Object\n$queryPlan:=$entitySelection.queryPlan\n$queryPath:=$entitySelection.queryPath\n')),(0,n.kt)("p",null,"B\xfasqueda con una ruta de atributo de tipo Colecci\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extraInfo.hobbies[].name = :1";"horsebackriding")\n')),(0,n.kt)("p",null,"B\xfasqueda con una ruta de atributos de tipo Collection y atributos vinculados:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2";"horsebackriding";2)\n')),(0,n.kt)("p",null,"B\xfasqueda con una ruta de atributos de tipo Collection y m\xfaltiples atributos vinculados:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and\n extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and\n extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)\n')),(0,n.kt)("p",null,"B\xfasqueda con una ruta de atributo de tipo Objeto:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("extra.eyeColor = :1";"blue")\n')),(0,n.kt)("p",null,"B\xfasqueda con una instrucci\xf3n IN:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("firstName in :1";New collection("Kim";"Dixie"))\n')),(0,n.kt)("p",null,"B\xfasqueda con instrucci\xf3n NOT (IN):"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'$entitySelection:=ds.Employee.query("not (firstName in :1)";New collection("John";"Jane"))\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n indexados para los atributos:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $es : cs.EmployeeSelection\n$es:=ds.Employee.query(":1 = 1234 and :2 = \'Smith\'";"salesperson.userId";"name")\n  //salesperson es una entidad relacionada\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n indexados para los atributos y marcadores de posici\xf3n con nombre para los valores:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $es : cs.EmployeeSelection\nvar $querySettings : Object\n$querySettings:=New object\n$querySettings.parameters:=New object("customerName";"Smith")\n$es:=ds.Customer.query(":1 = 1234 and :2 = :customerName";"salesperson.userId";"name";$querySettings)\n  //salesperson es una entidad relacionada\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n indexados para los atributos y los valores:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $es : cs.EmployeeSelection\n$es:=ds.Clients.query(":1 = 1234 and :2 = :3";"salesperson.userId";"name";"Smith")\n  //salesperson es una entidad relacionada\n')),(0,n.kt)("h4",l({},{id:"ejemplo-2-4"}),"Ejemplo 2"),(0,n.kt)("p",null,"Esta secci\xf3n ilustra las b\xfasquedas con marcadores de posici\xf3n con nombre para los atributos."),(0,n.kt)("p",null,"Dada una dataclass Employee con 2 entidades:"),(0,n.kt)("p",null,"Entidad 1:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'name: "Marie"\nnumber: 46\nsoftwares:{\n"Word 10.2": "Installed",\n"Excel 11.3": "To be upgraded",\n"Powerpoint 12.4": "Not installed"\n}\n')),(0,n.kt)("p",null,"Entidad 2:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'name: "Sophie"\nnumber: 47\nsoftwares:{\n"Word 10.2": "Not installed",\n"Excel 11.3": "To be upgraded",\n"Powerpoint 12.4": "Not installed"\n}\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n con nombre para los atributos:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $querySettings : Object\n var $es : cs.EmployeeSelection\n $querySettings:=New object\n $querySettings.attributes:=New object("attName";"name";"attWord";New collection("softwares";"Word 10.2"))\n $es:=ds.Employee.query(":attName = \'Marie\' and :attWord = \'Installed\'";$querySettings)\n  //$es.length=1 (Employee Marie)\n')),(0,n.kt)("p",null,"B\xfasqueda con marcadores de posici\xf3n con nombre para los atributos y los valores:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $querySettings : Object\n var $es : cs.EmployeeSelection\n var $name : Text\n $querySettings:=New object\n  //Named placeholders for values\n  //The user is asked for a name\n $name:=Request("Please enter the name to search:")\n If(OK=1)\n    $querySettings.parameters:=New object("givenName";$name)\n  //Named placeholders for attribute paths\n    $querySettings.attributes:=New object("attName";"name")\n    $es:=ds.Employee.query(":attName= :givenName";$querySettings)\n End if\n')),(0,n.kt)("h4",l({},{id:"ejemplo-3-3"}),"Ejemplo 3"),(0,n.kt)("p",null,"Estos ejemplos ilustran las distintas formas de utilizar f\xf3rmulas con o sin par\xe1metros en sus b\xfasquedas."),(0,n.kt)("p",null,"The formula is given as text with ",(0,n.kt)("inlineCode",{parentName:"p"},"eval()")," in the ",(0,n.kt)("em",{parentName:"p"},"queryString")," parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es : cs.StudentsSelection\n $es:=ds.Students.query(\"eval(length(This.lastname) >=30) and nationality='French'\")\n")),(0,n.kt)("p",null,"The formula is given as a ",(0,n.kt)("inlineCode",{parentName:"p"},"Formula")," object through a placeholder:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es : cs.StudentsSelection\n var $formula : Object\n $formula:=Formula(Length(This.lastname)>=30)\n $es:=ds.Students.query(\":1 and nationality='French'\";$formula)\n")),(0,n.kt)("p",null,"Only a ",(0,n.kt)("inlineCode",{parentName:"p"},"Formula")," object is given as criteria:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $es : cs.StudentsSelection\n var $formula : Object\n $formula:=Formula(Length(This.lastname)>=30)\n $es:=ds.Students.query($formula)\n")),(0,n.kt)("p",null,"Se pueden aplicar varias f\xf3rmulas:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"})," var $formula1; $1; $formula2 ;$0 : Object\n $formula1:=$1\n $formula2:=Formula(Length(This.firstname)>=30)\n $0:=ds.Students.query(\":1 and :2 and nationality='French'\";$formula1;$formula2)\n")),(0,n.kt)("p",null,"A text formula in ",(0,n.kt)("em",{parentName:"p"},"queryString")," receives a parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es : cs.StudentsSelection\n var $settings : Object\n $settings:=New object()\n $settings.args:=New object("filter";"-")\n $es:=ds.Students.query("eval(checkName($1.filter)) and nationality=:1";"French";$settings)\n')),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"  //checkName method\n #DECLARE($exclude : Text) -> $result : Boolean\n $result:=(Position($exclude;This.lastname)=0)\n")),(0,n.kt)("p",null,"Using the same ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},"checkName"))," method, a ",(0,n.kt)("inlineCode",{parentName:"p"},"Formula")," object as placeholder receives a parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es : cs.StudentsSelection\n var $settings; $formula : Object\n $formula:=Formula(checkName($1.filter))\n $settings:=New object()\n $settings.args:=New object("filter";"-")\n $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)\n $settings.args.filter:="*" // change the parameters without updating the $formula object\n $es:=ds.Students.query(":1 and nationality=:2";$formula;"French";$settings)\n')),(0,n.kt)("p",null,"Queremos desautorizar las f\xf3rmulas, por ejemplo, cuando el usuario introduce su consulta:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),' var $es : cs.StudentsSelection\n var $settings : Object\n var $queryString : Text\n $queryString:=Request("Enter your query:")\n if(OK=1)\n    $settings:=New object("allowFormulas";False)\n    $es:=ds.Students.query($queryString;$settings) //An error is raised if $queryString contains a formula\n End if\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-2"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/API/EntitySelectionClass#query"}),(0,n.kt)("inlineCode",{parentName:"a"},".query()"))," for entity selections"),(0,n.kt)("h2",l({},{id:"setremotecachesettings"}),".setRemoteCacheSettings()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setRemoteCacheSettings"),"(",(0,n.kt)("em",{parentName:"p"},"settings")," : Object) "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto que define el tiempo de espera y el tama\xf1o m\xe1ximo de la cach\xe9 ORDA para el dataclass.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Advanced mode:")," This function is intended for developers who need to customize ORDA default features for specific configurations. En la mayor\xeda de los casos, no ser\xe1 necesario utilizarla.")),(0,n.kt)("h4",l({},{id:"descripci\xf3n-12"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setRemoteCacheSettings()")," function sets the timeout and maximum size of the ORDA cache for a dataclass.."),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"settings")," parameter, pass an object with the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"timeout"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Tiempo de espera en segundos.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"maxEntries"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"N\xfamero m\xe1ximo de entidades.")))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," sets the timeout of the ORDA cache for the dataclass (default is 30 seconds). Una vez transcurrido el tiempo de espera, las entidades de la dataclass en la cach\xe9 son consideradas como vencidas. Esto significa que:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"los datos siguen estando ah\xed"),(0,n.kt)("li",{parentName:"ul"},"la pr\xf3xima vez que se necesiten los datos, se le pedir\xe1n al servidor"),(0,n.kt)("li",{parentName:"ul"},"4D elimina autom\xe1ticamente los datos caducados cuando se alcanza el n\xfamero m\xe1ximo de entidades")),(0,n.kt)("p",null,"Setting a ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," property sets a new timeout for the entities already present in the cache. Es \xfatil cuando se trabaja con los datos que no cambian con mucha frecuencia y, por tanto, cuando no son necesarias nuevas peticiones al servidor."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries")," sets the max number of entities in the ORDA cache. Por defecto es 30 000."),(0,n.kt)("p",null,"The minimum number of entries is 300, so the value of ",(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries")," must be equal to or higher than 300. En caso contrario, se ignora y el n\xfamero m\xe1ximo de entradas se fija en 300."),(0,n.kt)("p",null,"If no valid properties are passed as ",(0,n.kt)("inlineCode",{parentName:"p"},"timeout")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"maxEntries"),", the cache remains unchanged, with its default or previously set values."),(0,n.kt)("p",null,"Cuando se guarda una entidad, se actualiza en la cach\xe9 y vence una vez alcanzado el timeout."),(0,n.kt)("h4",l({},{id:"ejemplo-12"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D.DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds.Buildings.setRemoteCacheSettings(New object("timeout"; 60; "maxEntries"; 350))\n')),(0,n.kt)("h4",l({},{id:"ver-tambi\xe9n-3"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",l({parentName:"p"},{href:"#clearremotecache"}),".clearRemoteCache()"),(0,n.kt)("br",null),(0,n.kt)("a",l({parentName:"p"},{href:"#clearremotecache"}),".getRemoteCache()")))}u.isMDXComponent=!0},29025:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dataclassAttribute-a6b39462dc310d6f9b5816409d863cee.png"},546142:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dataclassAttribute2-815959fd721b6dd175aaa338e04c2f38.png"},101822:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/manytomany-1ad2ed56ebdb101476120ab419c1994d.png"}}]);