"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["33959"],{480561:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>d,toc:()=>t,default:()=>h,metadata:()=>r,assets:()=>l,contentTitle:()=>o});var r=JSON.parse('{"id":"API/TCPConnectionClass","title":"TCPConnection","description":"La clase TCPConnection permite gestionar conexiones cliente del Protocolo de Control de Transmisi\xf3n (TCP) a un servidor, permitiendo enviar y recibir datos, y manejar eventos del ciclo de vida de la conexi\xf3n mediante retrollamadas.","source":"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R9/API/TCPConnectionClass.md","sourceDirName":"API","slug":"/API/TCPConnectionClass","permalink":"/docs/es/20-R9/API/TCPConnectionClass","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FTCPConnectionClass.md%20(20-R9)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"20-R9","frontMatter":{"id":"TCPConnectionClass","title":"TCPConnection"},"sidebar":"docs","previous":{"title":"SystemWorker","permalink":"/docs/es/20-R9/API/SystemWorkerClass"},"next":{"title":"TCPEvent","permalink":"/docs/es/20-R9/API/TCPEventClass"}}'),i=s(785893),c=s(250065);let d={id:"TCPConnectionClass",title:"TCPConnection"},o=void 0,l={},t=[{value:"Ejemplos",id:"ejemplos",level:3},{value:"Ejemplo sincr\xf3nico",id:"ejemplo-sincr\xf3nico",level:4},{value:"Ejemplo asincr\xf3nico",id:"ejemplo-asincr\xf3nico",level:4},{value:"Ejemplo de uso",id:"ejemplo-de-uso",level:5},{value:"Objeto TCPConnection",id:"objeto-tcpconnection",level:3},{value:"4D.TCPConnection.new()",id:"4dtcpconnectionnew",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Par\xe1metro <em>options</em>",id:"par\xe1metro-options",level:4},{value:"Funci\xf3n callback (retrollamada)",id:"funci\xf3n-callback-retrollamada",level:4},{value:"Objeto TCPEvent",id:"objeto-tcpevent",level:4},{value:".address",id:"address",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:".closed",id:"closed",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:".errors",id:"errors",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:".listener",id:"listener",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:".noDelay",id:"nodelay",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:".port",id:"port",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:".send()",id:"send",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:".shutdown()",id:"shutdown",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:".wait()",id:"wait",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4}];function a(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",summary:"summary",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["La clase ",(0,i.jsx)(n.code,{children:"TCPConnection"})," permite gestionar conexiones cliente del Protocolo de Control de Transmisi\xf3n (TCP) a un ",(0,i.jsx)(n.a,{href:"/docs/es/20-R9/API/TCPListenerClass",children:"servidor"}),", permitiendo enviar y recibir datos, y manejar eventos del ciclo de vida de la conexi\xf3n mediante retrollamadas."]}),"\n",(0,i.jsxs)(n.p,{children:["La clase ",(0,i.jsx)(n.code,{children:"TCPConnection"})," est\xe1 disponible en el class store ",(0,i.jsx)(n.code,{children:"4D"}),". Puede crear una conexi\xf3n TCP utilizando la funci\xf3n ",(0,i.jsx)(n.a,{href:"#4dtcpconnectionnew",children:"4D.TCPConnection.new()"})," que devuelve un ",(0,i.jsx)(n.a,{href:"#tcpconnection-object",children:"TCPConnection object"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Todas las funciones de la clase ",(0,i.jsx)(n.code,{children:"TCPConnection"})," son hilo seguro."]}),"\n",(0,i.jsxs)(n.p,{children:["Gracias al ",(0,i.jsx)(n.em,{children:"refcounting"})," est\xe1ndar de los objetos 4D, una TCPConnection se libera autom\xe1ticamente cuando deja de estar referenciada. En consecuencia, los recursos asociados, se limpian adecuadamente sin necesidad de un cierre expl\xedcito."]}),"\n",(0,i.jsxs)(n.p,{children:['Los objetos TCPConnection se liberan cuando ya no existen referencias a ellos en memoria. Esto ocurre t\xedpicamente, por ejemplo, al final de una ejecuci\xf3n de un m\xe9todo para variables locales. Si desea "forzar" el cierre de una conexi\xf3n en cualquier momento, ',(0,i.jsxs)(n.a,{href:"/docs/es/20-R9/Concepts/object#resources",children:[(0,i.jsx)(n.strong,{children:"nulifique"})," sus referencias poni\xe9ndolas en ",(0,i.jsx)(n.strong,{children:"Null"})]}),"."]}),"\n",(0,i.jsxs)(n.details,{children:[(0,i.jsx)(n.summary,{children:"Historia"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Lanzamiento"}),(0,i.jsx)(n.th,{children:"Modificaciones"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"20 R9"}),(0,i.jsxs)(n.td,{children:["Nuevos atributos ",(0,i.jsx)(n.code,{children:"listener"}),", ",(0,i.jsx)(n.code,{children:"address"})," y ",(0,i.jsx)(n.code,{children:"port"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"20 R8"}),(0,i.jsx)(n.td,{children:"Clase a\xf1adida"})]})]})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ejemplos",children:"Ejemplos"}),"\n",(0,i.jsx)(n.p,{children:"Los siguientes ejemplos demuestran c\xf3mo utilizar las clases 4D.TCPConnection y 4D.TCPEvent para gestionar una conexi\xf3n cliente TCP, manejar eventos, enviar datos y cerrar correctamente la conexi\xf3n. Se ofrecen ejemplos tanto s\xedncronos como as\xedncronos."}),"\n",(0,i.jsx)(n.h4,{id:"ejemplo-sincr\xf3nico",children:"Ejemplo sincr\xf3nico"}),"\n",(0,i.jsx)(n.p,{children:"Este ejemplo muestra c\xf3mo establecer una conexi\xf3n, enviar datos y cerrarla utilizando un simple objeto para la configuraci\xf3n:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'var $domain : Text := "127.0.0.1"\nvar $port : Integer := 10000\nvar $options : Object := New object() // Objeto de configuraci\xf3n\nvar $tcpClient : 4D.TCPConnection\nvar $message : Text := "test message"\n\n// Abrir una conexi\xf3n\n$tcpClient := 4D.TCPConnection.new($domain; $port; $options)\n\n// Enviar datos\nvar $blobData : Blob\nTEXT TO BLOB($message; $blobData; UTF8 text without length)\n$tcpClient.send($blobData)\n\n// Apagar\n$tcpClient.shutdown()\n$tcpClient.wait(0)\n\n'})}),"\n",(0,i.jsx)(n.h4,{id:"ejemplo-asincr\xf3nico",children:"Ejemplo asincr\xf3nico"}),"\n",(0,i.jsx)(n.p,{children:"Este ejemplo define una clase que maneja el ciclo de vida de la conexi\xf3n y los eventos, mostrando c\xf3mo trabajar de forma as\xedncrona:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'// Definici\xf3n de la clase: cs.MyAsyncTCPConnection\n\nClass constructor($url : Text; $port : Integer)\n    This.connection := Null\n    This.url := $url\n    This.port := $port\n\n// Conectarse a uno de los servidores lanzados dentro de los workers\nFunction connect()\n    This.connection := 4D.TCPConnection.new(This.url; This.port; This)\n\n// Desconectarse del servidor\nFunction disconnect()\n    This.connection.shutdown()\n    This.connection := Null\n\n// Enviar datos al servidor\nFunction getInfo()\n    var $blob : Blob\n    TEXT TO BLOB("Informaci\xf3n"; $blob)\n    This.connection.send($blob)\n\n// Retrollamada cuando la conexi\xf3n se ha establecido correctamente\nFunction onConnection($connection : 4D.TCPConnection; $event : 4D.TCPEvent)\n    ALERT("Conexi\xf3n establecida")\n\n// Retrollamada  cuando la conexi\xf3n se ha cerrado correctamente\nFunction onShutdown($connection : 4D.TCPConnection; $event : 4D.TCPEvent)\n    ALERT("Conexi\xf3n cerrada")\n\n// Retrollamada cuando se reciben datos del servidor\nFunction onData($connection : 4D.TCPConnection; $event : 4D.TCPEvent)\n    ALERT(BLOB to text($event.data; UTF8 text without length))\n\n	//Atenci\xf3n: no hay garant\xeda de que reciba todos los datos que necesita en un solo paquete de red.\n	\n// Retrollamada cuando la conexi\xf3n se cierra inesperadamente\nFunction onError($connection : 4D.TCPConnection; $event : 4D.TCPEvent)\n    ALERT("Error de conexi\xf3n")\n\n// Retrollamada despu\xe9s de onShutdown/onError justo antes de que el objeto TCPConnection sea liberado\nFunction onTerminate($connection : 4D.TCPConnection; $event : 4D.TCPEvent)\n	ALERT("Conexi\xf3n terminada")\n\n\n'})}),"\n",(0,i.jsx)(n.h5,{id:"ejemplo-de-uso",children:"Ejemplo de uso"}),"\n",(0,i.jsx)(n.p,{children:"Crea un nuevo m\xe9todo llamado AsyncTCP, para inicializar y gestionar la conexi\xf3n TCP:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'var $myObject : cs.MyAsyncTCPConnection\n$myObject := cs.MyAsyncTCPConnection.new("myURL"; 10000)\n$myObject.connect()\n$myObject.getInfo()\n$myObject.disconnect()\n\n'})}),"\n",(0,i.jsx)(n.p,{children:"Llama al m\xe9todo AsyncTCP en un worker:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-4d",children:'CALL WORKER("new process"; "Async_TCP")\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"objeto-tcpconnection",children:"Objeto TCPConnection"}),"\n",(0,i.jsx)(n.p,{children:"Un objeto TCPConnection es un objeto no compartible."}),"\n",(0,i.jsx)(n.p,{children:"Los objetos TCPConnection ofrecen las siguientes propiedades y funciones:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsx)(n.tr,{children:(0,i.jsx)(n.th,{})})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#address",children:[(0,i.jsx)(n.strong,{children:"address"})," : Text"]}),(0,i.jsx)(n.br,{}),"la direcci\xf3n IP o el nombre de dominio de la m\xe1quina remota"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#closed",children:[(0,i.jsx)(n.strong,{children:"closed"})," : Boolean"]}),(0,i.jsx)(n.br,{}),"si la conexi\xf3n est\xe1 cerrada"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#errors",children:[(0,i.jsx)(n.strong,{children:"errors"})," : Collection"]}),(0,i.jsx)(n.br,{}),"una colecci\xf3n de objetos de error asociados a la conexi\xf3n"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#listener",children:[(0,i.jsx)(n.strong,{children:"listener"})," : Object"]}),(0,i.jsx)(n.br,{}),"el objeto ",(0,i.jsx)(n.a,{href:"/docs/es/20-R9/API/TCPListenerClass",children:(0,i.jsx)(n.code,{children:"TCPListener"})})," que cre\xf3 la ",(0,i.jsx)(n.code,{children:"TCPConnection"}),", si existe"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#nodelay",children:[(0,i.jsx)(n.strong,{children:"noDelay"})," : Boolean"]}),(0,i.jsx)(n.br,{}),"si el algoritmo de Nagle est\xe1 desactivado (",(0,i.jsx)(n.code,{children:"true"}),") o activado (",(0,i.jsx)(n.code,{children:"false"}),")"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#port",children:[(0,i.jsx)(n.strong,{children:"port"})," : Number"]}),(0,i.jsx)(n.br,{}),"el n\xfamero de puerto de la m\xe1quina remota"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#send",children:[(0,i.jsx)(n.strong,{children:".send"}),"( ",(0,i.jsx)(n.em,{children:"data"})," : Blob )"]}),(0,i.jsx)(n.br,{}),"env\xeda datos al servidor"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#shutdown",children:[(0,i.jsx)(n.strong,{children:".shutdown"}),"()"]}),(0,i.jsx)(n.br,{}),"cierra el canal ",(0,i.jsx)(n.em,{children:"write"})," de la conexi\xf3n (cliente a servidor)"]})}),(0,i.jsx)(n.tr,{children:(0,i.jsxs)(n.td,{children:[(0,i.jsxs)(n.a,{href:"#wait",children:[(0,i.jsx)(n.strong,{children:".wait"}),"( { ",(0,i.jsx)(n.em,{children:"timeout"})," : Real } )"]}),(0,i.jsx)(n.br,{}),"espera hasta que se cierre la conexi\xf3n TCP o se alcance el ",(0,i.jsx)(n.code,{children:"timeout"})," especificado"]})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"4dtcpconnectionnew",children:"4D.TCPConnection.new()"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"4D.TCPConnection.new"}),"( ",(0,i.jsx)(n.em,{children:"serverAddress"})," : Text ; ",(0,i.jsx)(n.em,{children:"serverPort"})," : Number ; ",(0,i.jsx)(n.em,{children:"options"})," : Object  ) : 4D.TCPConnection"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metros"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"serverAddress"}),(0,i.jsx)(n.td,{children:"Text"}),(0,i.jsx)(n.td,{children:"->"}),(0,i.jsx)(n.td,{children:"Nombre de dominio o direcci\xf3n IP del servidor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"serverPort"}),(0,i.jsx)(n.td,{children:"Integer"}),(0,i.jsx)(n.td,{children:"->"}),(0,i.jsx)(n.td,{children:"N\xfamero de puerto del servidor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"options"}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsx)(n.td,{children:"->"}),(0,i.jsxs)(n.td,{children:["Configuraci\xf3n ",(0,i.jsx)(n.a,{href:"#options-parameter",children:"opciones"})," para la conexi\xf3n"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Resultado"}),(0,i.jsx)(n.td,{children:"TCPConnection"}),(0,i.jsx)(n.td,{children:"<-"}),(0,i.jsx)(n.td,{children:"Nuevo objeto TCPConnection"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La funci\xf3n ",(0,i.jsx)(n.code,{children:"4D.TCPConnection.new()"})," crea una nueva conexi\xf3n TCP a la ",(0,i.jsx)(n.em,{children:"serverAddress"})," y ",(0,i.jsx)(n.em,{children:"serverPort"})," especificados, usando las ",(0,i.jsx)(n.em,{children:"opciones"})," definidas, y devuelve un objeto ",(0,i.jsx)(n.code,{children:"4D.HTTPRequest"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"par\xe1metro-options",children:["Par\xe1metro ",(0,i.jsx)(n.em,{children:"options"})]}),"\n",(0,i.jsxs)(n.p,{children:["En el par\xe1metro ",(0,i.jsx)(n.em,{children:"options"}),", pase un objeto que puede contener las siguientes propiedades:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Propiedad"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"Por defecto"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"onConnection"}),(0,i.jsx)(n.td,{children:"Formula"}),(0,i.jsx)(n.td,{children:"Retrollamada que se activa cuando se establece la conexi\xf3n."}),(0,i.jsx)(n.td,{children:"Indefinido"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"onData"}),(0,i.jsx)(n.td,{children:"Formula"}),(0,i.jsx)(n.td,{children:"Retrollamada activada cuando se reciben datos"}),(0,i.jsx)(n.td,{children:"Indefinido"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"onShutdown"}),(0,i.jsx)(n.td,{children:"Formula"}),(0,i.jsx)(n.td,{children:"Retrollamada activada cuando la conexi\xf3n se cierra correctamente"}),(0,i.jsx)(n.td,{children:"Indefinido"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"onError"}),(0,i.jsx)(n.td,{children:"Formula"}),(0,i.jsx)(n.td,{children:"Retrollamada en caso de error"}),(0,i.jsx)(n.td,{children:"Indefinido"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"onTerminate"}),(0,i.jsx)(n.td,{children:"Formula"}),(0,i.jsx)(n.td,{children:"Retrollamada activada justo antes de que se libere la TCPConnection"}),(0,i.jsx)(n.td,{children:"Indefinido"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"noDelay"}),(0,i.jsx)(n.td,{children:"Boolean"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"S\xf3lo lectura"})," cesactiva el algoritmo de Nagle si ",(0,i.jsx)(n.code,{children:"true"})]}),(0,i.jsx)(n.td,{children:"False"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"funci\xf3n-callback-retrollamada",children:"Funci\xf3n callback (retrollamada)"}),"\n",(0,i.jsx)(n.p,{children:"Todas las funciones de retrollamada reciben dos par\xe1metros:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metros"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$connection"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.a,{href:"#tcpconnection-object",children:["objeto ",(0,i.jsx)(n.code,{children:"TCPConnection"})]})}),(0,i.jsx)(n.td,{children:"La instancia de conexi\xf3n TCP actual."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"$event"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.a,{href:"#tcpevent-object",children:["objeto ",(0,i.jsx)(n.code,{children:"TCPEvent"})]})}),(0,i.jsx)(n.td,{children:"Contiene informaci\xf3n sobre el evento."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Secuencia de retrollamadas:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onConnection"})," se activa cuando se establece la conexi\xf3n."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onData"})," se activa cada vez que se reciben datos."]}),"\n",(0,i.jsxs)(n.li,{children:["Se activa ",(0,i.jsx)(n.code,{children:"onShutdown"})," o ",(0,i.jsx)(n.code,{children:"onError"}),":\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onShutdown"})," se activa cuando la conexi\xf3n se cierra correctamente."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onError"})," se activa si se produce un error."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onTerminate"})," siempre se activa justo antes de que la TCPConnection se libere (la conexi\xf3n se cierra o se produce un error)."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"objeto-tcpevent",children:"Objeto TCPEvent"}),"\n",(0,i.jsxs)(n.p,{children:["Un objeto ",(0,i.jsx)(n.a,{href:"/docs/es/20-R9/API/TCPEventClass",children:(0,i.jsx)(n.code,{children:"TCPEvent"})})," es devuelto cuando se llama una ",(0,i.jsx)(n.a,{href:"#callback-functions",children:"funci\xf3n de retrollamada"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"address",children:".address"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"address"})," : Text"]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-1",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La propiedad ",(0,i.jsx)(n.code,{children:".address"})," contiene la direcci\xf3n IP o el nombre de dominio de la m\xe1quina remota."]}),"\n",(0,i.jsx)(n.h2,{id:"closed",children:".closed"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"closed"})," : Boolean"]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-2",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La propiedad ",(0,i.jsx)(n.code,{children:".closed"})," contiene si la conexi\xf3n est\xe1 cerrada. Devuelve ",(0,i.jsx)(n.code,{children:"true"})," si la conexi\xf3n se ha cerrado, ya sea debido a un error, una llamada a ",(0,i.jsx)(n.code,{children:"shutdown()"}),", o el cierre por parte del servidor."]}),"\n",(0,i.jsx)(n.h2,{id:"errors",children:".errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"errors"})," : Collection"]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-3",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La propiedad ",(0,i.jsx)(n.code,{children:".errors"})," contiene una colecci\xf3n de objetos de error asociados a la conexi\xf3n. Cada objeto de error incluye el c\xf3digo de error, una descripci\xf3n y la firma del componente que caus\xf3 el error."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Propiedad"}),(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"errors"}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"Collection"}),(0,i.jsx)(n.td,{children:"Pila de error 4D en caso de error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"[].errCode"}),(0,i.jsx)(n.td,{children:"Number"}),(0,i.jsx)(n.td,{children:"C\xf3digo de error 4D"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"[].message"}),(0,i.jsx)(n.td,{children:"Text"}),(0,i.jsx)(n.td,{children:"Descripci\xf3n del error 4D"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"[].componentSignature"}),(0,i.jsx)(n.td,{children:"Text"}),(0,i.jsx)(n.td,{children:"Firma del componente interno que ha devuelto el error"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"listener",children:".listener"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"listener"})," : Object"]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-4",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La propiedad ",(0,i.jsx)(n.code,{children:".listener"})," contiene el objeto ",(0,i.jsx)(n.a,{href:"/docs/es/20-R9/API/TCPListenerClass",children:(0,i.jsx)(n.code,{children:"TCPListener"})})," que cre\xf3 la ",(0,i.jsx)(n.code,{children:"TCPConnection"}),", si existe. Esta propiedad es de ",(0,i.jsx)(n.strong,{children:"solo lectura"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"nodelay",children:".noDelay"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"noDelay"})," : Boolean"]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-5",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La propiedad ",(0,i.jsx)(n.code,{children:".noDelay"})," contiene si el algoritmo de Nagle est\xe1 desactivado (",(0,i.jsx)(n.code,{children:"true"}),") o activado (",(0,i.jsx)(n.code,{children:"false"}),"). Esta propiedad es de ",(0,i.jsx)(n.strong,{children:"solo lectura"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"port",children:".port"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"port"})," : Number"]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-6",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La propiedad ",(0,i.jsx)(n.code,{children:".port"})," contiene el n\xfamero de puerto de la m\xe1quina remota. Esta propiedad es de ",(0,i.jsx)(n.strong,{children:"solo lectura"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"send",children:".send()"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:".send"}),"( ",(0,i.jsx)(n.em,{children:"data"})," : Blob )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metros"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"data"}),(0,i.jsx)(n.td,{children:"Blob"}),(0,i.jsx)(n.td,{children:"->"}),(0,i.jsx)(n.td,{children:"Datos a enviar"})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-7",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La funci\xf3n ",(0,i.jsx)(n.code,{children:"send()"})," env\xeda datos al servidor. Si la conexi\xf3n no se ha establecido todav\xeda, los datos se env\xedan una vez que se ha establecido la conexi\xf3n."]}),"\n",(0,i.jsx)(n.h2,{id:"shutdown",children:".shutdown()"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:".shutdown"}),"()"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metros"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{style:{textAlign:"center"}}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{style:{textAlign:"center"}}),(0,i.jsx)(n.td,{children:"No requiere ning\xfan par\xe1metro"})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-8",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La funci\xf3n ",(0,i.jsx)(n.code,{children:"shutdown()"}),"cierra el canal ",(0,i.jsx)(n.em,{children:"write"})," de la conexi\xf3n (cliente a servidor) mientras se mantiene abierto el canal ",(0,i.jsx)(n.em,{children:"read"})," (servidor al flujo del cliente) permiti\xe9ndole continuar recibiendo datos hasta que la conexi\xf3n sea completamente cerrada por el servidor o se produzca un error."]}),"\n",(0,i.jsx)(n.h2,{id:"wait",children:".wait()"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:".wait"}),"( { ",(0,i.jsx)(n.em,{children:"timeout"})," : Real } )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe1metros"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{style:{textAlign:"center"}}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"timeout"}),(0,i.jsx)(n.td,{children:"Real"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"->"}),(0,i.jsx)(n.td,{children:"Tiempo m\xe1ximo de espera en segundos"})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"descripci\xf3n-9",children:"Descripci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La funci\xf3n ",(0,i.jsx)(n.code,{children:"wait()"})," espera hasta que se cierre la conexi\xf3n TCP o se alcance el ",(0,i.jsx)(n.code,{children:"timeout"})," especificado"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Durante la ejecuci\xf3n de ",(0,i.jsx)(n.code,{children:".wait()"}),", se ejecutan funciones de retrollamda, tanto si proceden de otras instancias de ",(0,i.jsx)(n.code,{children:"SystemWorker"}),". Puede salir de un ",(0,i.jsx)(n.code,{children:".wait()"})," llamando a ",(0,i.jsx)(n.a,{href:"#shutdown",children:(0,i.jsx)(n.code,{children:"shutdown()"})})," desde una retrollamada."]})})]})}function h(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},250065:function(e,n,s){s.d(n,{Z:()=>o,a:()=>d});var r=s(667294);let i={},c=r.createContext(i);function d(e){let n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);