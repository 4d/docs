"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[49752],{603905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(667294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),m=p(a),u=i,x=m["".concat(s,".").concat(u)]||m[u]||c[u]||l;return a?n.createElement(x,o(o({ref:t},d),{},{components:a})):n.createElement(x,o({ref:t},d))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,o=new Array(l);o[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,o[1]=r;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},134250:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});a(667294);var n=a(603905);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const o={id:"transformation-tags",title:"Etiquetas de transformaci\xf3n"},r=void 0,s={unversionedId:"Tags/transformation-tags",id:"version-20-R4/Tags/transformation-tags",title:"Etiquetas de transformaci\xf3n",description:'4D ofrece un conjunto de etiquetas de transformaci\xf3n que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado "plantilla". Estas etiquetas se interpretan durante la ejecuci\xf3n del texto fuente y generan un texto de salida.',source:"@site/i18n/es/docusaurus-plugin-content-docs/version-20-R4/Tags/transformation-tags.md",sourceDirName:"Tags",slug:"/Tags/transformation-tags",permalink:"/docs/es/Tags/transformation-tags",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Tags%2Ftransformation-tags.md%20(20-R4)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R4",frontMatter:{id:"transformation-tags",title:"Etiquetas de transformaci\xf3n"},sidebar:"docs",previous:{title:"Procesos apropiativos",permalink:"/docs/es/Develop/preemptive"},next:{title:"Preferencias",permalink:"/docs/es/Preferences/overview"}},p={},d=[{value:"Principios de uso de las etiquetas",id:"principios-de-uso-de-las-etiquetas",level:2},{value:"Parsing",id:"parsing",level:3},{value:"Tratamiento recursivo",id:"tratamiento-recursivo",level:3},{value:"Identificadores con tokens",id:"identificadores-con-tokens",level:3},{value:"Utilizando el &quot;.&quot; como separador decimal",id:"utilizando-el--como-separador-decimal",level:3},{value:"4DBASE",id:"4dbase",level:2},{value:"Sintaxis: <code>&lt;!--#4DBASE folderPath--&gt;</code>",id:"sintaxis---4dbase-folderpath--",level:4},{value:"4DCODE",id:"4dcode",level:2},{value:"Sintaxis: <code>&lt;!--#4DCODE codeLines--&gt;</code>",id:"sintaxis---4dcode-codelines--",level:4},{value:"4DEACH y 4DENDEACH",id:"4deach-y-4dendeach",level:2},{value:"Syntax: <code>&lt;!--#4DEACH variable in expression--&gt;</code> <code>&lt;!--#4DENDEACH--&gt;</code>",id:"syntax---4deach-variable-in-expression-----4dendeach--",level:4},{value:"<code>&lt;!--#4DEACH item in collection--&gt;</code>",id:"--4deach-item-in-collection--",level:3},{value:"Ejemplo con una colecci\xf3n de valores escalares",id:"ejemplo-con-una-colecci\xf3n-de-valores-escalares",level:4},{value:"Ejemplo con una colecci\xf3n de objetos",id:"ejemplo-con-una-colecci\xf3n-de-objetos",level:4},{value:"<code>&lt;!--#4DEACH entity in entitySelection--&gt;</code>",id:"--4deach-entity-in-entityselection--",level:3},{value:"Ejemplo con una tabla html",id:"ejemplo-con-una-tabla-html",level:4},{value:"Ejemplo con <code>PROCESS 4D TAGS</code>",id:"ejemplo-con-process-4d-tags",level:4},{value:"<code>&lt;!--#4DEACH property in object--&gt;</code>",id:"--4deach-property-in-object--",level:3},{value:"Ejemplo con las propiedades de un objeto",id:"ejemplo-con-las-propiedades-de-un-objeto",level:4},{value:"4DEVAL",id:"4deval",level:2},{value:"Sintaxis: <code>&lt;!--#4DEVAL expression--&gt;</code>",id:"sintaxis---4deval-expression--",level:4},{value:"Sintaxis alternativa: <code>$4DEVAL(expression)</code>",id:"sintaxis-alternativa-4devalexpression",level:4},{value:"4DHTML",id:"4dhtml",level:2},{value:"Sintaxis: <code>&lt;!--#4DHTML expression--&gt;</code>",id:"sintaxis---4dhtml-expression--",level:4},{value:"Sintaxis alternativa: <code>$4DHTML(expression)</code>",id:"sintaxis-alternativa-4dhtmlexpression",level:4},{value:"4DIF, 4DELSE, 4DELSEIF y 4DENDIF",id:"4dif-4delse-4delseif-y-4dendif",level:2},{value:"Syntax: <code>&lt;!--#4DIF expression--&gt;</code> {<code>&lt;!--#4DELSEIF expression2--&gt;...&lt;!--#4DELSEIF expressionN--&gt;</code>} {<code>&lt;!--#4DELSE--&gt;</code>} <code>&lt;!--#4DENDIF--&gt;</code>",id:"syntax---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--",level:4},{value:"4DINCLUDE",id:"4dinclude",level:2},{value:"Sintaxis: <code>&lt;!--#4DINCLUDE path--&gt;</code>",id:"sintaxis---4dinclude-path--",level:4},{value:"4DLOOP y 4DENDLOOP",id:"4dloop-y-4dendloop",level:2},{value:"Syntax: <code>&lt;!--#4DLOOP condition--&gt;</code> <code>&lt;!--#4DENDLOOP--&gt;</code>",id:"syntax---4dloop-condition-----4dendloop--",level:4},{value:"<code>&lt;!--#4DLOOP [table]--&gt;</code>",id:"--4dloop-table--",level:3},{value:"<code>&lt;!--#4DLOOP array--&gt;</code>",id:"--4dloop-array--",level:3},{value:"<code>&lt;!--#4DLOOP method--&gt;</code>",id:"--4dloop-method--",level:3},{value:"<code>&lt;!--#4DLOOP expression--&gt;</code>",id:"--4dloop-expression--",level:3},{value:"<code>&lt;!--#4DLOOP pointerArray--&gt;</code>",id:"--4dloop-pointerarray--",level:3},{value:"4DSCRIPT/",id:"4dscript",level:2},{value:"Sintaxis: <code>&lt;!--#4DSCRIPT/MethodName/MyParam--&gt;</code>",id:"sintaxis---4dscriptmethodnamemyparam--",level:4},{value:"4DTEXT",id:"4dtext",level:2},{value:"Sintaxis: <code>&lt;!--#4DTEXT expression--&gt;</code>",id:"sintaxis---4dtext-expression--",level:4},{value:"Sintaxis alternativa: <code>$4DTEXT(expression)</code>",id:"sintaxis-alternativa-4dtextexpression",level:4},{value:"Sintaxis alternativa para 4DTEXT, 4DHTML, 4DEVAL",id:"sintaxis-alternativa-para-4dtext-4dhtml-4deval",level:2},{value:"$4dtag (expression)",id:"4dtag-expression",level:4},{value:"<code>&lt;!--#4dtag expression--&gt;</code>",id:"--4dtag-expression--",level:4}],c={toc:d};function m(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",i({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,'4D ofrece un conjunto de etiquetas de transformaci\xf3n que le permiten insertar referencias a las variables o a las expresiones 4D, o efectuar diferentes tipos de procesamiento en un texto fuente, llamado "plantilla". Estas etiquetas se interpretan durante la ejecuci\xf3n del texto fuente y generan un texto de salida.'),(0,n.kt)("p",null,"This principle is used in particular by the 4D Web server to build ",(0,n.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/templates"}),"web template pages"),"."),(0,n.kt)("p",null,"These tags are generally to be inserted as HTML type comments (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#Tag Contents--\x3e"),") but an ",(0,n.kt)("a",i({parentName:"p"},{href:"#alternative-syntax-for-4dtext-4dhtml-4deval"}),"xml-compliant alternative syntax")," is available for some of them."),(0,n.kt)("p",null,"Es posible mezclar varios tipos de etiquetas. Por ejemplo, la siguiente estructura HTML es totalmente factible:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"<HTML>\n<BODY>\n\x3c!--#4DSCRIPT/PRE_PROCESS--\x3e   (Method call)\n\x3c!--#4DIF (myvar=1)--\x3e   (If condition)\n   \x3c!--#4DINCLUDE banner1.html--\x3e   (Subpage insertion)\n\x3c!--#4DENDIF--\x3e   (End if)\n\x3c!--#4DIF (mtvar=2)--\x3e\n   \x3c!--#4DINCLUDE banner2.html--\x3e\n\x3c!--#4DENDIF--\x3e\n\n\x3c!--#4DLOOP [TABLE]--\x3e   (Loop on the current selection)\n\x3c!--#4DIF ([TABLE]ValNum>10)--\x3e   (If [TABLE]ValNum>10)\n   \x3c!--#4DINCLUDE subpage.html--\x3e   (Subpage insertion)\n\x3c!--#4DELSE--\x3e   (Else)\n   <B>Value: \x3c!--#4DTEXT [TABLE]ValNum--\x3e</B><br/>   (Field display)\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDLOOP--\x3e   ](End for)\n</BODY>\n</HTML>\n")),(0,n.kt)("h2",i({},{id:"principios-de-uso-de-las-etiquetas"}),"Principios de uso de las etiquetas"),(0,n.kt)("h3",i({},{id:"parsing"}),"Parsing"),(0,n.kt)("p",null,"Parsing the contents of a ",(0,n.kt)("em",{parentName:"p"},"template")," source is done in two contexts:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Using the ",(0,n.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command; this command accepts a ",(0,n.kt)("em",{parentName:"p"},"template")," as input, as well as optional parameters and returns a text resulting from the processing.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Using 4D's integrated HTTP server: ",(0,n.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/templates"}),"template pages")," sent by means of the ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE")," (.htm, .html, .shtm, .shtml), ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND BLOB")," (text/html type BLOB), ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND TEXT"),' commands, or called using URLs. En este \xfaltimo caso, por razones de optimizaci\xf3n, las p\xe1ginas con sufijo ".htm" y ".html" NO se analizan. In order to parse HTML pages in this case, you must add the suffix \u201c.shtm\u201d or \u201c.shtml\u201d (for example, http\\://www',".","server.com/dir/page.shtm)."))),(0,n.kt)("h3",i({},{id:"tratamiento-recursivo"}),"Tratamiento recursivo"),(0,n.kt)("p",null,"Las etiquetas 4D se interpretan de manera recursiva: 4D siempre intenta reinterpretar el resultado de una transformaci\xf3n y, si se ha producido una nueva transformaci\xf3n, se realiza una interpretaci\xf3n adicional, y as\xed sucesivamente hasta que el producto obtenido ya no requiera ninguna otra transformaci\xf3n. Por ejemplo, dada la siguiente instrucci\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DHTML [Mail]Letter_type--\x3e\n")),(0,n.kt)("p",null,"If the ",(0,n.kt)("inlineCode",{parentName:"p"},"[Mail]Letter_type")," text field itself contains a tag, for example ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT/m_Gender--\x3e"),", this tag will be evaluated recursively after the interpretation of the 4DHTML tag."),(0,n.kt)("p",null,"Este poderoso principio satisface la mayor\xeda de las necesidades relacionadas con la transformaci\xf3n de textos. Note, however, that in some cases this can also allow malicious code to be inserted in the web context, ",(0,n.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/templates#prevention-of-malicious-code-insertion"}),"which can be avoided"),"."),(0,n.kt)("h3",i({},{id:"identificadores-con-tokens"}),"Identificadores con tokens"),(0,n.kt)("p",null,"Para asegurar la correcta evaluaci\xf3n de las expresiones procesadas a trav\xe9s de las etiquetas, independientemente del lenguaje o de la versi\xf3n de 4D, se recomienda utilizar la sintaxis tokenizada para los elementos cuyo nombre puede variar a lo largo de las versiones (comandos, tablas, campos, constantes). For example, to insert the ",(0,n.kt)("inlineCode",{parentName:"p"},"Current time")," command, enter ",(0,n.kt)("inlineCode",{parentName:"p"},"Current time:C178"),"."),(0,n.kt)("h3",i({},{id:"utilizando-el--como-separador-decimal"}),'Utilizando el "." como separador decimal'),(0,n.kt)("p",null,"4D utiliza siempre el punto (.) as a decimal separator when evaluating a numerical expression using a 4D tag ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DHTML"),", and ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEVAL"),". Los par\xe1metros regionales se ignoran. Esta funcionalidad facilita el mantenimiento del c\xf3digo y la compatibilidad entre los lenguajes y las versiones de 4D."),(0,n.kt)("h2",i({},{id:"4dbase"}),"4DBASE"),(0,n.kt)("h4",i({},{id:"sintaxis---4dbase-folderpath--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DBASE folderPath--\x3e")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," tag designates the working directory to be used by the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE--\x3e")," tag."),(0,n.kt)("p",null,"When it is called in a Web page, the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," tag modifies all subsequent ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE--\x3e")," calls on this page, until the next ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--........--\x3e"),", if any. If the",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," folder is modified from within an included file, it retrieves its original value from the parent file."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"folderPath")," parameter must contain a pathname relative to the current page and it must end with a slash (",(0,n.kt)("inlineCode",{parentName:"p"},"/"),"). La carpeta designada debe estar ubicada dentro de la carpeta Web."),(0,n.kt)("p",null,'Pase la palabra clave "WEBFOLDER" para restablecer la ruta por defecto (relativa a la p\xe1gina).'),(0,n.kt)("p",null,"El siguiente c\xf3digo, que debe especificar una ruta relativa para cada llamada:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage1.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage2.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage3.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n")),(0,n.kt)("p",null,"... es equivalente a:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE folder/--\x3e\n\x3c!--#4DINCLUDE subpage1.html--\x3e\n\x3c!--#4DINCLUDE subpage2.html--\x3e\n\x3c!--#4DINCLUDE subpage3.html--\x3e\n\x3c!--#4DBASE ../folder/--\x3e\n\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DBASE WEBFOLDER--\x3e\n")),(0,n.kt)("p",null,"Por ejemplo, para definir un directorio para la p\xe1gina de inicio:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"/* Index.html */\n\x3c!--#4DIF LangFR=True--\x3e\n    \x3c!--#4DBASE FR/--\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DBASE US/--\x3e\n\x3c!--#4DENDIF--\x3e\n\x3c!--#4DINCLUDE head.html--\x3e\n\x3c!--#4DINCLUDE body.html--\x3e\n\x3c!--#4DINCLUDE footer.html--\x3e\n")),(0,n.kt)("p",null,'In the "head.html" file, the current folder is modified through ',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e"),', without this changing its value in "Index.html":'),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"/* Head.htm */\n/* the working directory here is relative to the included file (FR/ or US/) */\n\x3c!--#4DBASE Styles/--\x3e\n\x3c!--#4DINCLUDE main.css--\x3e\n\x3c!--#4DINCLUDE product.css--\x3e\n\x3c!--#4DBASE Scripts/--\x3e\n\x3c!--#4DINCLUDE main.js--\x3e\n\x3c!--#4DINCLUDE product.js--\x3e\n")),(0,n.kt)("h2",i({},{id:"4dcode"}),"4DCODE"),(0,n.kt)("h4",i({},{id:"sintaxis---4dcode-codelines--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DCODE codeLines--\x3e")),(0,n.kt)("p",null,"La etiqueta ",(0,n.kt)("inlineCode",{parentName:"p"},"4DCODE")," permite insertar un bloque de c\xf3digo 4D de varias l\xedneas en una plantilla."),(0,n.kt)("p",null,"When a ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DCODE")," sequence is detected that is followed by a space, a CR or a LF character, 4D interprets all the lines of code up to the next ",(0,n.kt)("inlineCode",{parentName:"p"},"--\x3e")," sequence. El bloque de c\xf3digo en s\xed puede contener retornos de carro, saltos de l\xednea o ambos; ser\xe1 interpretado secuencialmente por 4D."),(0,n.kt)("p",null,"Por ejemplo, puede escribir en una plantilla:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),'\x3c!--#4DCODE\n//PARAMETERS initialization\nC_OBJECT:C1216($graphParameters)\nOB SET:C1220($graphParameters;"graphType";1)\n$graphType:=1\n//...your code here\nIf(OB Is defined:C1231($graphParameters;"graphType"))\n    $graphType:=OB GET:C1224($graphParameters;"graphType")\n    If($graphType=7)\n        $nbSeries:=1\n        If($nbValues>8)\n            DELETE FROM ARRAY:C228 ($yValuesArrPtr{1}->;9;100000)\n            $nbValues:=8\n        End if\n    End if\nEnd if\n--\x3e\n')),(0,n.kt)("p",null,"Aqu\xed est\xe1n las caracter\xedsticas de la etiqueta 4DCODE:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},"TRACE")," command is supported and activates the 4D debugger, thus allowing you to debug your template code."),(0,n.kt)("li",{parentName:"ul"},"Todo error mostrar\xe1 el di\xe1logo de error est\xe1ndar que permite al usuario detener la ejecuci\xf3n del c\xf3digo o entrar en el modo depuraci\xf3n."),(0,n.kt)("li",{parentName:"ul"},"The text in between ",(0,n.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DCODE")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"--\x3e")," is split into lines accepting any line-ending convention (cr, lf, or crlf)."),(0,n.kt)("li",{parentName:"ul"},"The text is tokenized within the context of the database that called ",(0,n.kt)("inlineCode",{parentName:"li"},"PROCESS 4D TAGS"),". Esto es importante para el reconocimiento de los m\xe9todos de proyecto, por ejemplo. The ",(0,n.kt)("a",i({parentName:"li"},{href:"/docs/es/WebServer/allowProject"}),"Available through tags and 4D URLs (4DACTION ...)")," method property is not taken into account."),(0,n.kt)("li",{parentName:"ul"},"Incluso si el texto siempre utiliza Ingl\xe9s-US, se recomienda utilizar la sintaxis token (:Cxxxx) para los nombres de comandos y de constantes para proteger contra eventuales problemas debido a los comandos o a las constantes que se est\xe1n renombrando de una versi\xf3n de 4D a otra.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El hecho de que las etiquetas 4DCODE puedan llamar a cualquiera de los comandos del lenguaje 4D o a los m\xe9todos del proyecto podr\xeda considerarse un problema de seguridad, especialmente cuando la base de datos est\xe1 disponible a trav\xe9s de HTTP. Sin embargo, como ejecuta c\xf3digo del lado del servidor llamado desde sus propios archivos de plantilla, la etiqueta en s\xed no representa un problema de seguridad. En este contexto, como para todo servidor web, la seguridad se maneja principalmente a nivel de los accesos remotos a los archivos del servidor.")),(0,n.kt)("h2",i({},{id:"4deach-y-4dendeach"}),"4DEACH y 4DENDEACH"),(0,n.kt)("h4",i({},{id:"syntax---4deach-variable-in-expression-----4dendeach--"}),"Syntax: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DEACH variable in expression--\x3e")," ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDEACH--\x3e")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH--\x3e")," comment allows iterating a specified item over all values of the ",(0,n.kt)("em",{parentName:"p"},"expression"),". The item is set to a ",(0,n.kt)("em",{parentName:"p"},"variable")," whose type depends on the ",(0,n.kt)("em",{parentName:"p"},"expression")," type."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH--\x3e")," comment can iterate through three expression types:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",i({parentName:"li"},{href:"#--4deach-item-in-collection--"}),"collections"),": loop through each element of the collection,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",i({parentName:"li"},{href:"#--4deach-entity-in-entityselection--"}),"entity selections"),": loop through each entity,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",i({parentName:"li"},{href:"#--4deach-property-in-object--"}),"objects"),": loop through each object property.")),(0,n.kt)("p",null,"El n\xfamero de iteraciones se eval\xfaa al inicio y no cambiar\xe1 durante el proceso. La adici\xf3n o eliminaci\xf3n de elementos durante el bucle no suele ser recomendable, ya que puede resultar en redundancia o perdidas de iteraciones."),(0,n.kt)("h3",i({},{id:"--4deach-item-in-collection--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH item in collection--\x3e")),(0,n.kt)("p",null,"This syntax iterates on each ",(0,n.kt)("em",{parentName:"p"},"item")," of the ",(0,n.kt)("em",{parentName:"p"},"collection"),". The code portion located between ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," is repeated for each collection element."),(0,n.kt)("p",null,"El par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"item")," es una variable del mismo tipo que los elementos de la colecci\xf3n."),(0,n.kt)("p",null,"The collection must contain only ",(0,n.kt)("strong",{parentName:"p"},"elements of the same type"),", otherwise an error is returned as soon as the ",(0,n.kt)("em",{parentName:"p"},"item")," variable is assigned the first mismatched value type."),(0,n.kt)("p",null,"El n\xfamero de bucles se basa en el n\xfamero de elementos de la colecci\xf3n. At each iteration, the ",(0,n.kt)("em",{parentName:"p"},"item")," variable is automatically filled with the matching element of the collection. Hay que tener en cuenta los siguientes puntos:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If the ",(0,n.kt)("em",{parentName:"li"},"item")," variable is of the object type or collection type (i.e. if ",(0,n.kt)("em",{parentName:"li"},"expression")," is a collection of objects or of collections), modifying this variable will automatically modify the matching element of the collection (because objects and collections share the same references). Si la variable es de tipo escalar, s\xf3lo se modificar\xe1 la variable."),(0,n.kt)("li",{parentName:"ul"},"La variable ",(0,n.kt)("em",{parentName:"li"},"item")," obtiene el mismo tipo que el primer elemento de la colecci\xf3n. Si alg\xfan elemento de la colecci\xf3n no es del mismo tipo que la variable, se genera un error y el bucle se detiene."),(0,n.kt)("li",{parentName:"ul"},"If the collection contains elements with a Null value, an error is generated if the ",(0,n.kt)("em",{parentName:"li"},"item")," variable type does not support Null values (such as longint variables).")),(0,n.kt)("h4",i({},{id:"ejemplo-con-una-colecci\xf3n-de-valores-escalares"}),"Ejemplo con una colecci\xf3n de valores escalares"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"getNames"),' devuelve una colecci\xf3n de cadenas. The method has been declared as "',(0,n.kt)("a",i({parentName:"p"},{href:"/docs/es/WebServer/allowProject"}),"available through 4D tags and URLs"),'".'),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),' <table class="table">    \n\n        <tr><th>Name</th></tr>\n\n          \x3c!--#4DEACH $name in getNames--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $name--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,n.kt)("h4",i({},{id:"ejemplo-con-una-colecci\xf3n-de-objetos"}),"Ejemplo con una colecci\xf3n de objetos"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"getSalesPersons")," returns a collection of objects."),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">    \n         \x3c!--#4DCODE\n            $salePersons:=getSalesPersons\n          --\x3e          \n       <tr><th>ID</th><th>Firstname</th><th>Lastname</th></tr>\n\n          \x3c!--#4DEACH $salesPerson in $salePersons--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $salesPerson.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.firstname--\x3e</td>\n            <td>\x3c!--#4DTEXT $salesPerson.lastname--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,n.kt)("h3",i({},{id:"--4deach-entity-in-entityselection--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH entity in entitySelection--\x3e")),(0,n.kt)("p",null,"Esta sintaxis itera en cada ",(0,n.kt)("em",{parentName:"p"},"entidad")," de la ",(0,n.kt)("em",{parentName:"p"},"entitySelection"),". The code portion located between ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," is repeated for each entity of the entity selection."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"entity")," parameter is an object variable of the entity selection class."),(0,n.kt)("p",null,"El n\xfamero de bucles se basa en el n\xfamero de entidades presentes en la selecci\xf3n de entidades. At each iteration, the ",(0,n.kt)("em",{parentName:"p"},"entity")," object variable is automatically filled with the matching entity of the entity selection."),(0,n.kt)("h4",i({},{id:"ejemplo-con-una-tabla-html"}),"Ejemplo con una tabla html"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">     \n\n        <tr><th>ID</th><th>Name</th><th>Total purchase</th></tr>\n\n          \x3c!--#4DEACH $customer in ds.Customers.all()--\x3e\n        <tr>\n            <td>\x3c!--#4DTEXT $customer.ID--\x3e</td>\n            <td>\x3c!--#4DTEXT $customer.name--\x3e</td>\n            <td><center>\x3c!--#4DTEXT String($customer.totalPurchase;"$###,##0")--\x3e</center></td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,n.kt)("h4",i({},{id:"ejemplo-con-process-4d-tags"}),"Ejemplo con ",(0,n.kt)("inlineCode",{parentName:"h4"},"PROCESS 4D TAGS")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'var customers : cs.CustomersSelection\nvar $input; $output : Text\n\ncustomers:=ds.Customers.all()\n$input:="\x3c!--#4DEACH $cust in customers--\x3e"\n$input:=$input+"\x3c!--#4DTEXT $cust.name --\x3e"+Char(Carriage return)\n$input:=$input+"\x3c!--#4DENDEACH--\x3e"\nPROCESS 4D TAGS($input; $output)\nTEXT TO DOCUMENT("customers.txt"; $output)\n')),(0,n.kt)("h3",i({},{id:"--4deach-property-in-object--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DEACH property in object--\x3e")),(0,n.kt)("p",null,"This syntax iterates on each ",(0,n.kt)("em",{parentName:"p"},"property")," of the ",(0,n.kt)("em",{parentName:"p"},"object"),". The code portion located between ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEACH --\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDEACH--\x3e")," is repeated for each property of the object."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"property")," parameter is a text variable automatically filled with the name of the currently processed property."),(0,n.kt)("p",null,"Las propiedades del objeto se procesan seg\xfan su orden de creaci\xf3n. Durante el bucle, se pueden a\xf1adir o eliminar propiedades en el objeto, sin modificar el n\xfamero de bucles que quedar\xe1n en funci\xf3n del n\xfamero original de propiedades del objeto."),(0,n.kt)("h4",i({},{id:"ejemplo-con-las-propiedades-de-un-objeto"}),"Ejemplo con las propiedades de un objeto"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"getGamers"),' is a project method that returns an object like ("Mary"; 10; "Ann"; 20; "John"; 40) to figure gamer scores.'),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),'    <table class="table">    \n          \x3c!--#4DCODE\n           $gamers:=getGamers\n          --\x3e          \n\n        <tr><th>Gamers</th><th>Scores</th></tr>\n\n          \x3c!--#4DEACH $key in $gamers--\x3e\n        <tr>\n            <td >\x3c!--#4DTEXT $key--\x3e</td>\n            <td >\x3c!--#4DTEXT $gamers[$key]--\x3e</td>\n        </tr>\n          \x3c!--#4DENDEACH--\x3e\n    </table>\n')),(0,n.kt)("h2",i({},{id:"4deval"}),"4DEVAL"),(0,n.kt)("h4",i({},{id:"sintaxis---4deval-expression--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DEVAL expression--\x3e")),(0,n.kt)("h4",i({},{id:"sintaxis-alternativa-4devalexpression"}),"Sintaxis alternativa: ",(0,n.kt)("inlineCode",{parentName:"h4"},"$4DEVAL(expression)")),(0,n.kt)("p",null,"La etiqueta ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEVAL")," permite evaluar una variable o expresi\xf3n 4D. Like the ",(0,n.kt)("a",i({parentName:"p"},{href:"#4dhtml"}),(0,n.kt)("inlineCode",{parentName:"a"},"4DHTML"))," tag, ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEVAL")," does not escape HTML characters when returning text. However, unlike ",(0,n.kt)("inlineCode",{parentName:"p"},"4DHTML")," or ",(0,n.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,n.kt)("inlineCode",{parentName:"a"},"4DTEXT")),", ",(0,n.kt)("inlineCode",{parentName:"p"},"4DEVAL")," allows you to execute any valid 4D statement, including assignments and expressions that do not return any value."),(0,n.kt)("p",null,"Por ejemplo, puede ejecutar:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{}),' $input:="\x3c!--#4DEVAL a:=42--\x3e" //assignment\n $input:=$input+"\x3c!--#4DEVAL a+1--\x3e" //calculation\n PROCESS 4D TAGS($input;$output)\n  //$output = "43"\n')),(0,n.kt)("p",null,"In case of an error during interpretation, the text inserted will be in the form: ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DEVAL expr--\x3e: ## error # error code"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For security reasons, it is recommended to use the ",(0,n.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,n.kt)("inlineCode",{parentName:"a"},"4DTEXT"))," tag when processing data introduced from outside the application, in order to prevent the ",(0,n.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"insertion of malicious code"),".")),(0,n.kt)("h2",i({},{id:"4dhtml"}),"4DHTML"),(0,n.kt)("h4",i({},{id:"sintaxis---4dhtml-expression--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DHTML expression--\x3e")),(0,n.kt)("h4",i({},{id:"sintaxis-alternativa-4dhtmlexpression"}),"Sintaxis alternativa: ",(0,n.kt)("inlineCode",{parentName:"h4"},"$4DHTML(expression)")),(0,n.kt)("p",null,"Just like the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT")," tag, this tag lets you assess a 4D variable or expression that returns a value, and insert it as an HTML expression. Unlike the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT"),' tag, this tag does not escape HTML special characters (e.g. ">").'),(0,n.kt)("p",null,"Por ejemplo, aqu\xed est\xe1n los resultados del procesamiento de la variable de texto 4D myvar con las etiquetas disponibles:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:null}),"Valor myvar"),(0,n.kt)("th",i({parentName:"tr"},{align:null}),"Etiquetas"),(0,n.kt)("th",i({parentName:"tr"},{align:null}),"Result"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'myvar:="<B>"')),(0,n.kt)("td",i({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DTEXT myvar--\x3e")),(0,n.kt)("td",i({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"&amp;lt;B&amp;gt;"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},'myvar:="<B>"')),(0,n.kt)("td",i({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"\x3c!--#4DHTML myvar--\x3e")),(0,n.kt)("td",i({parentName:"tr"},{align:null}),(0,n.kt)("inlineCode",{parentName:"td"},"<B>"))))),(0,n.kt)("p",null,"In case of an interpretation error, the inserted text will be ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DHTML myvar--\x3e : ## error # error code"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For security reasons, it is recommended to use the ",(0,n.kt)("a",i({parentName:"p"},{href:"#4dtext"}),(0,n.kt)("inlineCode",{parentName:"a"},"4DTEXT"))," tag when processing data introduced from outside the application, in order to prevent the ",(0,n.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"insertion of malicious code"),".")),(0,n.kt)("h2",i({},{id:"4dif-4delse-4delseif-y-4dendif"}),"4DIF, 4DELSE, 4DELSEIF y 4DENDIF"),(0,n.kt)("h4",i({},{id:"syntax---4dif-expression-----4delseif-expression2----4delseif-expressionn-----4delse-----4dendif--"}),"Syntax: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DIF expression--\x3e")," {",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DELSEIF expression2--\x3e...\x3c!--#4DELSEIF expressionN--\x3e"),"} {",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DELSE--\x3e"),"} ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDIF--\x3e")),(0,n.kt)("p",null,"Used with the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e")," (optional), ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," (optional) and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," comments, the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," comment offers the possibility to execute portions of code conditionally."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"expression")," parameter can contain any valid 4D expression returning a Boolean value. Debe indicarse entre par\xe9ntesis y cumplir con las reglas de sintaxis de 4D."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," ... ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," blocks can be nested in several levels. Like in 4D, each ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e")," must match a ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),"."),(0,n.kt)("p",null,'In case of an interpretation error, the text "',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': A Boolean expression was expected" is inserted instead of the contents located between ',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),". Likewise, if there are not as many ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e")," as ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e"),', the text "',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF expression--\x3e"),': 4DENDIF expected" is inserted instead of the contents located between ',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF --\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDIF--\x3e"),"."),(0,n.kt)("p",null,"Using the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e")," tag, you can test an unlimited number of conditions. S\xf3lo se ejecuta el c\xf3digo que sigue a la primera condici\xf3n evaluada como ",(0,n.kt)("inlineCode",{parentName:"p"},"True"),". If no conditions are true, no statement is executed (if there is no final ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e"),").\nYou can use a ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," tag after the last ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSEIF--\x3e"),". If all the conditions are false, the statements following the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DELSE--\x3e")," are executed."),(0,n.kt)("p",null,"Los dos c\xf3digos siguientes son equivalentes."),(0,n.kt)("p",null,"C\xf3digo utilizando ",(0,n.kt)("inlineCode",{parentName:"p"},"4DELSE")," solamente:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DIF Condition1--\x3e\n  /* Condition1 is true*/\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DIF Condition2--\x3e\n        /* Condition2 is true*/\n    \x3c!--#4DELSE--\x3e\n        \x3c!--#4DIF Condition3--\x3e\n            /* Condition3 is true */\n        \x3c!--#4DELSE--\x3e\n            /*None of the conditions are true*/\n        \x3c!--#4DENDIF--\x3e\n    \x3c!--#4DENDIF--\x3e\n\x3c!--#4DENDIF--\x3e\n")),(0,n.kt)("p",null,"Similar code using the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DELSEIF")," tag:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{}),"\x3c!--#4DIF Condition1--\x3e\n     /* Condition1 is true*/\n\x3c!--#4DELSEIF Condition2--\x3e\n     /* Condition2 is true*/\n\x3c!--#4DELSEIF Condition3--\x3e\n    /* Condition3 is true */\n\x3c!--#4DELSE--\x3e\n    /* None of the conditions are true*/\n\x3c!--#4DENDIF--\x3e\n")),(0,n.kt)("p",null,"This example of code inserted in a static HTML page displays a different label according the ",(0,n.kt)("inlineCode",{parentName:"p"},'vname#""')," expression result:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),'<BODY>\n...\n\x3c!--#4DIF (vname#"")--\x3e\nNames starting with \x3c!--#4DTEXT vname--\x3e.\n\x3c!--#4DELSE--\x3e\nNo name has been found.\n\x3c!--#4DENDIF--\x3e\n...\n</BODY>\n')),(0,n.kt)("p",null,"Este ejemplo inserta diferentes p\xe1ginas dependiendo del usuario que est\xe9 conectado:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),'\x3c!--#4DIF LoggedIn=False--\x3e\n    \x3c!--#4DINCLUDE Login.htm --\x3e\n\x3c!--#4DELSEIF User="Admin" --\x3e\n    \x3c!--#4DINCLUDE AdminPanel.htm --\x3e\n\x3c!--#4DELSEIF User="Manager" --\x3e\n    \x3c!--#4DINCLUDE SalesDashboard.htm --\x3e\n\x3c!--#4DELSE--\x3e\n    \x3c!--#4DINCLUDE ItemList.htm --\x3e\n\x3c!--#4DENDIF--\x3e\n')),(0,n.kt)("h2",i({},{id:"4dinclude"}),"4DINCLUDE"),(0,n.kt)("h4",i({},{id:"sintaxis---4dinclude-path--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DINCLUDE path--\x3e")),(0,n.kt)("p",null,"This tag is mainly designed to include an HTML page (indicated by the ",(0,n.kt)("em",{parentName:"p"},"path")," parameter) in another HTML page. By default, only the body of the specified HTML page, i.e. the contents found within the ",(0,n.kt)("inlineCode",{parentName:"p"},"<body>")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"</body>")," tags, is included (the tags themselves are not included). Esto le permite evitar conflictos relacionados con las metaetiquetas presentes en los encabezados."),(0,n.kt)("p",null,"However, if the HTML page specified does not contain ",(0,n.kt)("inlineCode",{parentName:"p"},"<body>``</body>")," tags, the entire page is included. Depende de usted verificar la consistencia de las meta-etiquetas."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE --\x3e")," comment is very useful for tests (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DIF--\x3e"),") or loops (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP--\x3e"),"). Es muy conveniente incluir banners de acuerdo a un criterio o de forma aleatoria.\nWhen including, regardless of the file name extension, 4D analyzes the called page and then inserts the contents (modified or not) in the page originating the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," call."),(0,n.kt)("p",null,"An included page with the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE --\x3e")," comment is loaded in the Web server cache the same way as pages called via a URL or sent with the ",(0,n.kt)("inlineCode",{parentName:"p"},"WEB SEND FILE")," command."),(0,n.kt)("p",null,"En ",(0,n.kt)("em",{parentName:"p"},"path"),", coloque la ruta que va al documento a incluir. Warning: In the case of a ",(0,n.kt)("inlineCode",{parentName:"p"},"4DINCLUDE"),' call, the path is relative to the document being analyzed, that is, the "parent" document. Utilice la barra oblicua (/) como separador de carpetas y los dos puntos (..) para subir un nivel (sintaxis HTML). When you use the ',(0,n.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," tag with the ",(0,n.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command, the default folder is the project folder."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"You can modify the default folder used by the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DINCLUDE")," tag in the current page, using the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DBASE --\x3e")," tag (see below).")),(0,n.kt)("p",null,"The number of ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e")," within a page is unlimited. However, the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e")," calls can be made only at one level. This means that, for example, you cannot insert ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE mydoc3.html--\x3e")," in the ",(0,n.kt)("em",{parentName:"p"},"mydoc2.html")," body page, which is called by ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE mydoc2--\x3e")," inserted in ",(0,n.kt)("em",{parentName:"p"},"mydoc1.html"),". Adem\xe1s, 4D verifica que las inclusiones no son recursivas."),(0,n.kt)("p",null,'In case of error, the inserted text is "',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DINCLUDE path--\x3e"),' :The document cannot be opened".'),(0,n.kt)("p",null,"Ejemplos:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DINCLUDE subpage.html--\x3e\n\x3c!--#4DINCLUDE folder/subpage.html--\x3e\n\x3c!--#4DINCLUDE ../folder/subpage.html--\x3e\n")),(0,n.kt)("h2",i({},{id:"4dloop-y-4dendloop"}),"4DLOOP y 4DENDLOOP"),(0,n.kt)("h4",i({},{id:"syntax---4dloop-condition-----4dendloop--"}),"Syntax: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DLOOP condition--\x3e")," ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DENDLOOP--\x3e")),(0,n.kt)("p",null,"Este comentario permite la repetici\xf3n de una porci\xf3n de c\xf3digo siempre que se cumpla la condici\xf3n. The portion is delimited by ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP--\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP condition--\x3e")," ... ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e")," blocks can be nested. Like in 4D, each ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP condition--\x3e")," must match a ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,n.kt)("p",null,"Hay cinco tipos de condiciones:"),(0,n.kt)("h3",i({},{id:"--4dloop-table--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP [table]--\x3e")),(0,n.kt)("p",null,"Esta sintaxis hace un bucle para cada registro de la tabla selecci\xf3n actual en el proceso actual. La parte de c\xf3digo situada entre los dos comentarios se repite para cada registro de selecci\xf3n actual."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"When the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DLOOP"),' tag is used with a table, records are loaded in "Read only" mode.')),(0,n.kt)("p",null,"El c\xf3digo siguiente:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP [People]--\x3e\n\x3c!--#4DTEXT [People]Name--\x3e \x3c!--#4DTEXT [People]Surname--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,n.kt)("p",null,"... podr\xeda expresarse en lenguaje 4D de la siguiente manera:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"})," FIRST RECORD([People])\n While(Not(End selec tion([People])))\n    ...\n    NEXT RECORD([People])\n End while\n")),(0,n.kt)("h3",i({},{id:"--4dloop-array--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP array--\x3e")),(0,n.kt)("p",null,"Esta sintaxis hace un bucle para cada elemento del array. El elemento actual del array se incrementa cuando se repite cada porci\xf3n de c\xf3digo."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Esta sintaxis no se puede utilizar con arrays de dos dimensiones. En este caso, es mejor combinar un m\xe9todo con bucles anidados.")),(0,n.kt)("p",null,"El siguiente ejemplo de c\xf3digo:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP arr_names--\x3e\n\x3c!--#4DTEXT arr_names{arr_names}--\x3e<br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,n.kt)("p",null,"... podr\xeda expresarse en lenguaje 4D de la siguiente manera:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"})," For($Elem;1;Size of array(arr_names))\n    arr_names:=$Elem\n    ...\n End for\n")),(0,n.kt)("h3",i({},{id:"--4dloop-method--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP method--\x3e")),(0,n.kt)("p",null,"This syntax makes a loop as long as the method returns ",(0,n.kt)("inlineCode",{parentName:"p"},"True"),". El m\xe9todo toma un tipo de par\xe1metro Long Integer. First it is called with the value 0 to allow an initialization stage (if necessary); it is then called with the values 1 ,then 2, then 3 and so on, as long as it returns ",(0,n.kt)("inlineCode",{parentName:"p"},"True"),"."),(0,n.kt)("p",null,"For security reasons, within a Web process, the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method can be called once just before the initialization stage (method execution with 0 as parameter). Si la autenticaci\xf3n es correcta, se proceder\xe1 a la etapa de inicializaci\xf3n."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"C_BOOLEAN($0)")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"C_LONGINT($1)")," MUST be declared within the method for compilation purposes."),(0,n.kt)("p",null,"El siguiente ejemplo de c\xf3digo:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DLOOP my_method--\x3e\n\x3c!--#4DTEXT var--\x3e <br/>\n\x3c!--#4DENDLOOP--\x3e\n")),(0,n.kt)("p",null,"... podr\xeda expresarse en lenguaje 4D de la siguiente manera:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"})," If(AuthenticationWebOK)\n    If(my_method(0))\n       $counter:=1\n       While(my_method($counter))\n          ...\n          $counter:=$counter+1\n       End while\n    End if\n End if\n")),(0,n.kt)("p",null,"El m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"my_method")," puede ser el siguiente:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"})," C_LONGINT($1)\n C_BOOLEAN($0)\n If($1=0) `Initialisation\n    $0:=True\n Else\n    If($1<50)\n       ...\n       var:=...\n       $0:=True\n    Else\n       $0:=False `Stops the loop\n    End if\n End if\n")),(0,n.kt)("h3",i({},{id:"--4dloop-expression--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP expression--\x3e")),(0,n.kt)("p",null,"With this syntax, the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DLOOP")," tag makes a loop as long as the ",(0,n.kt)("em",{parentName:"p"},"expression")," returns ",(0,n.kt)("inlineCode",{parentName:"p"},"True"),". La expresi\xf3n puede ser cualquier expresi\xf3n booleana v\xe1lida y debe contener una parte variable a evaluar en cada bucle para evitar bucles infinitos."),(0,n.kt)("p",null,"Por ejemplo, el siguiente c\xf3digo:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DEVAL $i:=0--\x3e\n\x3c!--#4DLOOP ($i<4)--\x3e\n\x3c!--#4DEVAL $i--\x3e\n\x3c!--#4DEVAL $i:=$i+1--\x3e\n\x3c!--#4DENDLOOP--\x3e\n")),(0,n.kt)("p",null,"...produce el siguiente resultado:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{}),"\n0\n\n1\n2\n3\n")),(0,n.kt)("h3",i({},{id:"--4dloop-pointerarray--"}),(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!--#4DLOOP pointerArray--\x3e")),(0,n.kt)("p",null,"In this case, the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DLOOP")," tag works like it does with an array: it makes a loop for each element of the array referenced by the pointer. El elemento actual del array se incrementa cada vez que se repite la porci\xf3n de c\xf3digo."),(0,n.kt)("p",null,"This syntax is useful when you pass an array pointer as a parameter to the ",(0,n.kt)("inlineCode",{parentName:"p"},"PROCESS 4D TAGS")," command."),(0,n.kt)("p",null,"Ejemplo:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),' ARRAY TEXT($array;2)\n $array{1}:="hello"\n $array{2}:="world"\n $input:="\x3c!--#4DEVAL $1--\x3e"\n $input:=$input+"\x3c!--#4DLOOP $2--\x3e"\n $input:=$input+"\x3c!--#4DEVAL $2->{$2->}--\x3e "\n $input:=$input+"\x3c!--#4DENDLOOP--\x3e"\n PROCESS 4D TAGS($input;$output;"elements = ";->$array)\n  // $output = "elements = hello world "\n')),(0,n.kt)("p",null,'In case of an interpretation error, the text "',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP expression--\x3e"),': description" is inserted instead of the contents located between ',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DLOOP --\x3e")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DENDLOOP--\x3e"),"."),(0,n.kt)("p",null,"Se pueden mostrar los siguientes mensajes:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Tipo de expresi\xf3n inesperado (error est\xe1ndar);"),(0,n.kt)("li",{parentName:"ul"},"Nombre de tabla incorrecto (error en el nombre de la tabla);"),(0,n.kt)("li",{parentName:"ul"},"Se esperaba un array (la variable no es un array o es un array de dos dimensiones);"),(0,n.kt)("li",{parentName:"ul"},"El m\xe9todo no existe;"),(0,n.kt)("li",{parentName:"ul"},"Error de sintaxis (cuando el m\xe9todo se est\xe1 ejecutando);"),(0,n.kt)("li",{parentName:"ul"},"Error de acceso (no tiene los privilegios de acceso adecuados para acceder a la tabla o al m\xe9todo)."),(0,n.kt)("li",{parentName:"ul"},"4DENDLOOP expected (the ",(0,n.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DENDLOOP--\x3e")," number does not match the ",(0,n.kt)("inlineCode",{parentName:"li"},"\x3c!--#4DLOOP --\x3e"),").")),(0,n.kt)("h2",i({},{id:"4dscript"}),"4DSCRIPT/"),(0,n.kt)("h4",i({},{id:"sintaxis---4dscriptmethodnamemyparam--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DSCRIPT/MethodName/MyParam--\x3e")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"4DSCRIPT")," tag allows you to execute 4D methods when processing the template. The presence of the ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT/MyMethod/MyParam--\x3e")," tag as an HTML comment launches the execution of the ",(0,n.kt)("inlineCode",{parentName:"p"},"MyMethod")," method with the ",(0,n.kt)("inlineCode",{parentName:"p"},"Param")," parameter as a string in ",(0,n.kt)("inlineCode",{parentName:"p"},"$1"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If the tag is called in the context of a Web process, when the page is loaded, 4D calls the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method (if it exists). Si devuelve True, 4D ejecuta el m\xe9todo.")),(0,n.kt)("p",null,"El m\xe9todo debe devolver texto en ",(0,n.kt)("inlineCode",{parentName:"p"},"$0"),". If the string starts with the code character 1, it is considered as HTML (the same principle is true for the ",(0,n.kt)("inlineCode",{parentName:"p"},"4DHTML")," tag)."),(0,n.kt)("p",null,"For example, let\u2019s say that you insert the following comment ",(0,n.kt)("inlineCode",{parentName:"p"},"\u201cToday is \x3c!--#4DSCRIPT/MYMETH/MYPARAM--\x3e\u201d")," into a template Web page. When loading the page, 4D calls the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method, then calls the ",(0,n.kt)("inlineCode",{parentName:"p"},"MYMETH")," method and passes the string \u201c/MYPARAM\u201d as the parameter ",(0,n.kt)("inlineCode",{parentName:"p"},"$1"),'. The method returns text in $0 (for example "12/31/21"); the expression "',(0,n.kt)("inlineCode",{parentName:"p"},"Today is \x3c!--#4DSCRIPT/MYMETH/MYPARAM\u2013\u2013>"),'" therefore becomes "Today is 12/31/21".'),(0,n.kt)("p",null,"El m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"MYMETH")," es el siguiente:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),"  //MYMETH\n C_TEXT($0;$1) //These parameters must always be declared\n $0:=String(Current date)\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"A method called by ",(0,n.kt)("inlineCode",{parentName:"p"},"4DSCRIPT")," must not call interface elements (",(0,n.kt)("inlineCode",{parentName:"p"},"DIALOG"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"ALERT"),", etc.).")),(0,n.kt)("p",null,"Como 4D ejecuta los m\xe9todos en su orden de aparici\xf3n, es absolutamente posible llamar a un m\xe9todo que defina el valor de muchas variables a las que se hace referencia m\xe1s adelante en el documento, sea cual sea el modo que est\xe9 utilizando. You can insert as many ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DSCRIPT...--\x3e")," comments as you want in a template."),(0,n.kt)("h2",i({},{id:"4dtext"}),"4DTEXT"),(0,n.kt)("h4",i({},{id:"sintaxis---4dtext-expression--"}),"Sintaxis: ",(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4DTEXT expression--\x3e")),(0,n.kt)("h4",i({},{id:"sintaxis-alternativa-4dtextexpression"}),"Sintaxis alternativa: ",(0,n.kt)("inlineCode",{parentName:"h4"},"$4DTEXT(expression)")),(0,n.kt)("p",null,"The tag ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT expression--\x3e")," allows you to insert a reference to a 4D variable or expression returning a value. Por ejemplo, si se escribe (en una p\xe1gina HTML):"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"<P>Welcome to \x3c!--#4DTEXT vtSiteName--\x3e!</P>\n")),(0,n.kt)("p",null,"The value of the 4D variable ",(0,n.kt)("inlineCode",{parentName:"p"},"vtSiteName"),' will be inserted in the HTML page when it is sent. This value is inserted as simple text, special HTML characters such as ">" are automatically escaped.'),(0,n.kt)("p",null,"Tambi\xe9n puede insertar expresiones 4D. You can for example directly insert the contents of a field (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT [tableName]fieldName--\x3e"),"), an array element (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT tabarr{1}--\x3e"),") or a method returning a value (",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT mymethod--\x3e"),"). La conversi\xf3n de las expresiones sigue las mismas reglas que las de las variables. Adem\xe1s, la expresi\xf3n debe cumplir con las reglas de sintaxis 4D."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For security reasons, it is recommended to use this tag when processing data introduced from outside the application, in order to prevent the ",(0,n.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"insertion of malicious code"),".")),(0,n.kt)("p",null,"In case of an evaluation error, the inserted text will appear as ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4DTEXT myvar--\x3e : ## error # error code"),"."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Debe utilizar las variables proceso."),(0,n.kt)("li",{parentName:"ul"},"Puede mostrar el contenido de un campo imagen. Sin embargo, no es posible mostrar el contenido de un elemento del array de im\xe1genes."),(0,n.kt)("li",{parentName:"ul"},"Es posible mostrar el contenido de un campo objeto mediante una f\xf3rmula 4D. Por ejemplo, puede escribir ",(0,n.kt)("inlineCode",{parentName:"li"},'\x3c!--#4DTEXT OB Get:C1224([Rect]Desc;\\"color\\")--\x3e'),"."),(0,n.kt)("li",{parentName:"ul"},"Normalmente se trabaja con variables de tipo texto. Sin embargo, tambi\xe9n se pueden utilizar las variables BLOB. Basta con generar BLOBs en modo ",(0,n.kt)("inlineCode",{parentName:"li"},"Texto sin longitud"),".")),(0,n.kt)("h2",i({},{id:"sintaxis-alternativa-para-4dtext-4dhtml-4deval"}),"Sintaxis alternativa para 4DTEXT, 4DHTML, 4DEVAL"),(0,n.kt)("p",null,"Varias etiquetas de transformaci\xf3n 4D existentes pueden expresarse utilizando una sintaxis basada en el s\xedmbolo $:"),(0,n.kt)("h4",i({},{id:"4dtag-expression"}),"$4dtag (expression)"),(0,n.kt)("p",null,"puede utilizarse en lugar de"),(0,n.kt)("h4",i({},{id:"--4dtag-expression--"}),(0,n.kt)("inlineCode",{parentName:"h4"},"\x3c!--#4dtag expression--\x3e")),(0,n.kt)("p",null,"Esta sintaxis alternativa s\xf3lo est\xe1 disponible para las etiquetas utilizadas para devolver los valores procesados:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",i({parentName:"li"},{href:"#4dtext"}),"4DTEXT")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",i({parentName:"li"},{href:"#4dhtml"}),"4DHTML")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",i({parentName:"li"},{href:"#4deval"}),"4DEVAL"))),(0,n.kt)("p",null,"(Otras etiquetas, como 4DIF o 4DSCRIPT, deben escribirse con la sintaxis normal)."),(0,n.kt)("p",null,"Por ejemplo, puede escribir:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"$4DEVAL(UserName)\n")),(0,n.kt)("p",null,"en lugar de:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-html"}),"\x3c!--#4DEVAL(UserName)--\x3e\n")),(0,n.kt)("p",null,'La principal ventaja de esta sintaxis es que permite escribir plantillas compatibles con XML. Algunos desarrolladores 4D necesitan crear y validar plantillas basadas en XML utilizando herramientas de an\xe1lisis sint\xe1ctico XML est\xe1ndar. Since the "<" character is invalid in an XML attribute value, it was not possible to use the "',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!-- --\x3e"),'" syntax of 4D tags without breaking the document syntax. On the other hand, escaping the "<" character will prevent 4D from interpreting the tags correctly.'),(0,n.kt)("p",null,'For example, the following code would cause an XML parsing error because of the first "<" character in the attribute value:'),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-xml"}),'<line x1="\x3c!--#4DEVAL $x--\x3e" y1="\x3c!--#4DEVAL $graphY1--\x3e"/>\n')),(0,n.kt)("p",null,"Utilizando la sintaxis $, el siguiente c\xf3digo es validado por el analizador:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-xml"}),'<line x1="$4DEVAL($x)" y1="$4DEVAL($graphY1)"/>\n')),(0,n.kt)("p",null,"Note that ",(0,n.kt)("inlineCode",{parentName:"p"},"$4dtag")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"<--#4dtag --\x3e")," are not strictly equivalent: unlike ",(0,n.kt)("inlineCode",{parentName:"p"},"<--#4dtag --\x3e"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"$4dtag")," processing does not interpret 4D tags ",(0,n.kt)("a",i({parentName:"p"},{href:"#recursive-processing"}),"recursively"),". ",(0,n.kt)("inlineCode",{parentName:"p"},"$")," tags are always evaluated once and the result is considered as plain text."),(0,n.kt)("p",null,"La raz\xf3n de esta diferencia es evitar la inyecci\xf3n de c\xf3digo malicioso. As ",(0,n.kt)("a",i({parentName:"p"},{href:"#prevention-of-malicious-code-insertion"}),"explained below"),", it is strongly recommended to use ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT")," tags instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"4DHTML")," tags when handling user text to protect against unwanted reinterpretation of tags: with ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT"),', special characters such as "<" are escaped, thus any 4D tags using the ',(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!--#4dtag expression --\x3e")," syntax will lose their particular meaning. However, since ",(0,n.kt)("inlineCode",{parentName:"p"},"4DTEXT")," does not escape the ",(0,n.kt)("inlineCode",{parentName:"p"},"$")," symbol, we decided to break support for recursion in order to prevent malicious injection using the ",(0,n.kt)("inlineCode",{parentName:"p"},"$4dtag (expression)")," syntax."),(0,n.kt)("p",null,"Los siguientes ejemplos muestran el resultado del procesamiento en funci\xf3n de la sintaxis y la etiqueta utilizada:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // example 1\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //malicious injection\n input:="My name is: \x3c!--#4DHTML myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //4D will quit!\n')),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // example 2\n myName:="\x3c!--#4DHTML QUIT 4D--\x3e" //malicious injection\n input:="My name is: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //output is "My name is: \x3c!--#4DHTML QUIT 4D--\x3e"\n')),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  // example 3\n myName:="$4DEVAL(QUIT 4D)" //malicious injection\n input:="My name is: \x3c!--#4DTEXT myName--\x3e"\n PROCESS 4D TAGS(input;output)\n  //output is "My name is: $4DEVAL(QUIT 4D)"\n')),(0,n.kt)("p",null,"Note that the ",(0,n.kt)("inlineCode",{parentName:"p"},"$4dtag")," syntax supports matching pairs of enclosed quotes or parenthesis. Por ejemplo, suponga que necesita evaluar la siguiente cadena compleja (irreal):"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{}),'String(1) + "\\"(hello)\\""\n')),(0,n.kt)("p",null,"Puede escribir:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-4d"}),' input:="$4DEVAL( String(1)+\\"\\\\\\"(hello)\\\\\\"\\")"\n PROCESS 4D TAGS(input;output)\n --\x3eoutput is 1"(hello)"\n')))}m.isMDXComponent=!0}}]);