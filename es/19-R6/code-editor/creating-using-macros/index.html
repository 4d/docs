<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-19-R6 plugin-docs plugin-id-default docs-doc-id-code-editor/creating-using-macros">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Creación y uso de macros | 4D Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://4d.github.io//docs/es/../assets/en/logohome.png"><meta data-rh="true" name="twitter:image" content="https://4d.github.io//docs/es/../assets/en/logohome.png"><meta data-rh="true" property="og:url" content="https://4d.github.io//docs/es/19-R6/code-editor/creating-using-macros"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="19-R6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-19-R6"><meta data-rh="true" name="docsearch:version" content="19-R6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-19-R6"><meta data-rh="true" property="og:title" content="Creación y uso de macros | 4D Docs"><meta data-rh="true" name="description" content="Puede utilizar macrocomandos en sus métodos. El uso de macrocomandos permite ahorrar mucho tiempo durante la entrada de código."><meta data-rh="true" property="og:description" content="Puede utilizar macrocomandos en sus métodos. El uso de macrocomandos permite ahorrar mucho tiempo durante la entrada de código."><link data-rh="true" rel="icon" href="/docs/es/img/favicon/4d.gif"><link data-rh="true" rel="canonical" href="https://4d.github.io//docs/es/19-R6/code-editor/creating-using-macros"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/19-R6/code-editor/creating-using-macros" hreflang="en"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/fr/19-R6/code-editor/creating-using-macros" hreflang="fr"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/es/19-R6/code-editor/creating-using-macros" hreflang="es"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/ja/19-R6/code-editor/creating-using-macros" hreflang="ja"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/pt/19-R6/code-editor/creating-using-macros" hreflang="pt"><link data-rh="true" rel="alternate" href="https://4d.github.io//docs/19-R6/code-editor/creating-using-macros" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OJ04C0M3CU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="4D Docs" href="/docs/es/opensearch.xml"><link rel="stylesheet" href="/docs/es/assets/css/styles.7bd82bcd.css">
<link rel="preload" href="/docs/es/assets/js/runtime~main.49cd6153.js" as="script">
<link rel="preload" href="/docs/es/assets/js/main.f2d03dd1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/es/"><b class="navbar__title text--truncate">4D Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/es/19-R6/GettingStarted/installation">v19 R6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/es/code-editor/creating-using-macros">v19 R7 BETA</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/es/19-R6/code-editor/creating-using-macros">v19 R6</a></li><li><a class="dropdown__link" href="/docs/es/19/GettingStarted/installation">v19</a></li><li><a class="dropdown__link" href="/docs/es/18/GettingStarted/installation">v18</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Español</a><ul class="dropdown__menu"><li><a href="/docs/19-R6/code-editor/creating-using-macros" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/fr/19-R6/code-editor/creating-using-macros" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/es/19-R6/code-editor/creating-using-macros" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Español</a></li><li><a href="/docs/ja/19-R6/code-editor/creating-using-macros" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/docs/pt/19-R6/code-editor/creating-using-macros" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/es/19-R6/GettingStarted/installation">Comencemos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/es/19-R6/Project/overview">Core Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/Project/overview">Project Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/Concepts/about">4D Language Concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://doc.4d.com/4Dv19R6/4D/19-R6/4D-Language-Reference.100-5910320.en.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">4D Language Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/ORDA/overview">ORDA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/API/overview">Class API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/es/19-R6/code-editor/overview">Handling Code</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/es/19-R6/code-editor/overview">Sobre el código 4D</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/es/19-R6/code-editor/write-class-method">Editor de código</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/es/19-R6/code-editor/find-replace">Buscar y reemplazar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/es/19-R6/code-editor/creating-using-macros">Creación y uso de macros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/es/19-R6/Tags/tags">Etiquetas de transformación</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/Debugging/basics">Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/settings/overview">Settings</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/es/19-R6/Preferences/overview">Preferences</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/es/19-R6/ServerWindow/overview">Administración</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/es/19-R6/Extensions/overview">Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/es/19-R6/WebServer/overview">Web Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/es/19-R6/Desktop/clientServer">Desktop Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developer.4d.com/go-mobile/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Mobile Applications</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Handling Code</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creación y uso de macros</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v19 R6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Creación y uso de macros</h1></header><p>Puede utilizar macrocomandos en sus métodos. El uso de macrocomandos permite ahorrar mucho tiempo durante la entrada de código.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="qué-es-una-macro">¿Qué es una macro?<a class="hash-link" href="#qué-es-una-macro" title="Direct link to heading">​</a></h2><p>A macro-command is a section of 4D code that is permanently accessible and that can be inserted anywhere in your methods, whatever the type of database open. Macros can contain all types of 4D text, commands and constants, as well as special tags which are replaced at the time of macro insertion by values derived from the method context. For instance, a macro may contain the tag <code>&lt;method_name/&gt;;</code> at the time of macro insertion, this tag will be replaced by the name of the current project method.</p><p>Las macros se almacenan en uno o varios archivos en formato XML (texto). They can be placed in a Code Editor list; they can also be called using the context menu of the editor or using the autocomplete function.</p><p>Las macros 4D están escritas en formato XML. Puede utilizar el archivo de macros por defecto de 4D tal como está o modificarlo.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ubicación-de-las-macros">Ubicación de las macros<a class="hash-link" href="#ubicación-de-las-macros" title="Direct link to heading">​</a></h2><p>4D loads the macros from a folder named <strong>Macros v2</strong>. Macros must be in the form of one or more XML files that are placed in this folder.</p><p>La carpeta &quot;Macros v2&quot; puede ser ubicada:</p><ul><li>En la carpeta 4D activa de la máquina. Las macros son compartidas para todas las bases. <strong>Note:</strong> The location of the active 4D folder varies according to the operating system used. For more information, refer to the description of the <a href="https://doc.4d.com/4Dv19R4/4D/19-R4/Get-4D-folder.301-5739515.en.html" target="_blank" rel="noopener noreferrer">Get 4D folder</a> command in the 4D <em>Language Reference</em> manual.</li><li>Junto al archivo de estructura de la base. Las macros sólo se cargan para esta estructura.</li><li>For components: in the <strong>Components</strong> folder of the database. Las macros sólo se cargan si el componente está instalado.</li></ul><p>These three locations can be used simultaneously: it is possible to install a &quot;Macros v2&quot; folder in each location. The macros will be loaded in the following order: 4D folder, structure file, component 1... component X.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="macros-por-defecto">Macros por defecto<a class="hash-link" href="#macros-por-defecto" title="Direct link to heading">​</a></h2><p>4D offers a set of default macros corresponding, in particular, to the list of keywords in previous versions of 4D. These macros are included in the default &quot;<em>Macros.xml</em>&quot; file, placed in the &quot;Macros v2&quot; folder that is created in the active 4D folder of the machine during the initial startup of 4D.</p><p>You can modify this file or the contents of the folder subsequently as desired (see the following paragraph). In the event of problems with this folder, it can be deleted and 4D will re-create it on the next startup.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-customized-macros">Adding customized macros<a class="hash-link" href="#adding-customized-macros" title="Direct link to heading">​</a></h2><p>You can add customized macros in the &quot;Macros.xml&quot; file using a standard text editor or by programming. También puede añadir archivos XML de macros personalizados en esta carpeta.</p><p>En modo local, el archivo de macros puede abrirse mientras se utiliza 4D. La lista de macros disponibles se actualiza en cada evento de activación de 4D. For instance, it is possible to bring the text editor to the foreground, modify the macro file, then return to the method: the new macro is then available in the Code Editor.</p><p>No se muestran macros vacías o erróneas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="comprobación-de-la-sintaxis-de-las-macros-personalizadas">Comprobación de la sintaxis de las macros personalizadas<a class="hash-link" href="#comprobación-de-la-sintaxis-de-las-macros-personalizadas" title="Direct link to heading">​</a></h3><p>The macro-command files of 4D must be in conformity with the XML standard. This means more particularly that XML declaration <code>&lt;?xml version=&quot;1.0&quot; ...?&gt;</code> and document declaration <code>&lt;!DOCTYPE macros SYSTEM &quot;http://www.4d.com/dtd/2007/macros.dtd&quot;&gt;</code> statements are mandatory at the beginning of a macro file in order for it to be loaded. Se soportan los diferentes tipos de codificación XML. However, it is recommended to use encoding that is Mac/PC (UTF-8) compatible. 4D ofrece un DTD que puede utilizarse para validar los archivos de macros. Este archivo se encuentra en la siguiente ubicación:</p><ul><li>Windows: \Resources\DTD\macros.dtd</li><li>Mac OS: :Contents:Resources:DTD:macros.dtd</li></ul><p>If a macros file does not contain the declaration statements or cannot be validated, it is not loaded.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-of-4d-macros">Syntax of 4D macros<a class="hash-link" href="#syntax-of-4d-macros" title="Direct link to heading">​</a></h2><p>Las macros 4D se crean utilizando etiquetas XML personalizadas llamadas &quot;elementos&quot;</p><p>Some tags indicate the start and end of the definition (double tags of the type <code>&lt;tag&gt; &lt;/tag&gt;</code>), others are replaced by insertion context values (<code>&lt;tag/&gt;</code>).</p><p>In conformity with XML specifications, some element tags can include attributes. Unless otherwise indicated, these attributes are optional and a default value is used when they are omitted. La sintaxis de los elementos con atributos es la siguiente:</p><ul><li>Double tags: <code>&lt;tag attribute=&quot;value&quot;&gt; &lt;/macro&gt;</code></li><li>Single tags: <code>&lt;tag attribute=&quot;value&quot;/&gt;</code></li></ul><p>If the element accepts several attributes, you can group them in the same line of command, separated by a space: <code>\&amp;#060;tag attribute1=&quot;value&quot; attribute2=&quot;value&quot; attribute3=&quot;value&quot;... &amp;#062;</code></p><p>Aquí está la lista de etiquetas y su modo de uso:</p><table><thead><tr><th><strong>Etiquetas de elementos</strong></th><th><strong>Descripción</strong></th></tr></thead><tbody><tr><td><code>&lt;macros&gt; &lt;/macros&gt;</code></td><td>Inicio y fin del archivo macro (etiqueta obligatoria).</td></tr><tr><td><code>&lt;macro&gt; &lt;/macro&gt;</code></td><td>Inicio y fin de la definición de una macro y sus atributos.</td></tr><tr><td></td><td><em>Atributos</em>:</td></tr><tr><td></td><td>- name: Name**of macro as it appears in menus and Code Editor lists (mandatory attribute).</td></tr><tr><td></td><td>- type_ahead_text: Character string*<em> to be entered to call the macro using the type-ahead (aka autocomplete) function</em>.</td></tr><tr><td></td><td>- in_menu: Boolean indicating whether the macro can be called using the context menu*. Valores = &quot;true&quot; (por defecto) o &quot;false&quot;</td></tr><tr><td></td><td>- type_ahead: Boolean indicating whether the macro can be called using the type-ahead (aka autocomplete) function*. Valores = &quot;true&quot; (por defecto) o &quot;false&quot;</td></tr><tr><td></td><td>- method_event: Used to trigger the automatic calling of the macro depending on the current handling phase of each method (creation, closing, and so on). Values = &quot;on_load&quot;: The macro is triggered on the opening of each method, &quot;on_save&quot;: The macro is triggered when each method is saved (closing of a modified method or saving using the File&gt;Save command, &quot;on_create&quot;: The macro is triggered when each method is created, &quot;on_close&quot;: The macro is triggered when each method is closed.</td></tr><tr><td></td><td>&quot;on_save&quot; and &quot;on_close&quot; can be used jointly --- in other words, both of these events are generated when a modified method is closed. On the other hand, &quot;on_create&quot; and &quot;on_load&quot; are never generated in a consecutive manner. This attribute can be used, for example, to preformat methods when they are created (comments in header area) or to record information such as the date and time when they are closed.</td></tr><tr><td></td><td>- version: Used to activate the new mode of supporting text selections for the macro (see the &quot;About the <code>&lt;method&gt;</code> Tag&quot; section below). Para activar este nuevo modo, pase el valor &quot;2&quot;. If you omit this attribute or pass version=&quot;1&quot;, the former mode is kept.</td></tr><tr><td></td><td>- in_toolbar: Boolean indicating if the macro must be present in the menu of the Macro button of the toolbar. Valores= &quot;true&quot; (por defecto) o &quot;false&quot;.</td></tr><tr><td><code>&lt;selection/&gt;</code></td><td>Etiqueta reemplazada por el texto seleccionado cuando la macro se inserta. La selección puede estar vacía.</td></tr><tr><td><code>&lt;text&gt; &lt;/text&gt;</code></td><td>Inicio y fin del código que debe insertarse en el método. Se añadirá un retorno de carro antes y después del código.</td></tr><tr><td><code>&lt;method&gt; &lt;/method&gt;</code></td><td>Start and end of the name of the project method and its (optional) parameter. El método se ejecuta cuando se llama a la macro. Puede pasar un parámetro de la forma (&quot;param1;param2;...&quot;). This parameter will be received in the method using the variables $1, $2, etc. For additional information about this tag, refer to the &quot;About the <code>&lt;method&gt;</code> Tag&quot; section below.</td></tr><tr><td><code>&lt;caret/&gt;</code></td><td>Location of the insertion point in the code after the macro has been inserted.</td></tr><tr><td><code>&lt;user_4D/&gt;</code></td><td>Etiqueta reemplazada por el nombre del usuario 4D actual.</td></tr><tr><td><code>&lt;user_os/&gt;</code></td><td>Etiqueta reemplazada por el nombre de usuario actual del sistema.</td></tr><tr><td><code>&lt;method_name/&gt;</code></td><td>Etiqueta reemplazada por el nombre del método proyecto actual.</td></tr><tr><td><code>&lt;method_path/&gt;</code></td><td>Etiqueta sustituida por el nombre completo del método proyecto actual.</td></tr><tr><td><code>&lt;date/&gt;</code></td><td>Etiqueta reemplazada por la fecha actual.</td></tr><tr><td></td><td><em>Atributo</em>:</td></tr><tr><td></td><td>- format: formato 4D utilizado para mostrar la fecha. Si no se define ningún formato, se utilizará el formato predeterminado. Valores = número de formato 4D (0 a 8).</td></tr><tr><td><code>&lt;time/&gt;</code></td><td>Tag replaced by the current time.</td></tr><tr><td></td><td><em>Atributo</em>:</td></tr><tr><td></td><td>- format: formato 4D utilizado para mostrar la hora. Si no se define ningún formato, se utilizará el formato predeterminado. Valores = número de formato 4D (0 a 6).</td></tr><tr><td><code>&lt;clipboard/&gt;</code></td><td>Etiqueta reemplazada por el contenido del portapapeles.</td></tr><tr><td></td><td><em>Atributo</em>:</td></tr><tr><td></td><td>- index: Clipboard to be pasted. Valores = número del portapapeles (0 a 9).</td></tr></tbody></table><ul><li>Macros can be called using the context menu of the Code Editor or using the type-ahead function (see the following section).\
** If you want to conform to XML language specifications, you must not use extended characters (accented characters, quotation marks, etc.).</li><li>If you want to conform to XML language specifications, you must not use extended characters (accented characters, quotation marks, etc.).</li></ul><p>Este es un ejemplo de definición de una macro:</p><table><thead><tr><th><strong>Contenido de la macro</strong></th><th><strong>Comentarios</strong></th></tr></thead><tbody><tr><td><code>&lt;?xml version=&quot;1.0&quot;...?&gt;</code></td><td>Declaración XML</td></tr><tr><td><code>&lt;!DOCTYPE macros SYSTEM&gt;</code></td><td>Declaración del documento</td></tr><tr><td><code>&lt;macros&gt;</code></td><td>Start of macros XML file</td></tr><tr><td><code>&lt;macro name=&quot;RecordLoop&quot;&gt;</code></td><td>Start of macro definition and name</td></tr><tr><td><code>&lt;text&gt;</code></td><td>Start of macro code</td></tr><tr><td>For($i;1;Records in selection(<code>&lt;Selection/&gt;</code>))</td><td>The <code>&lt;Selection/&gt;</code> tag will be replaced by the selected code in the 4D method at the time of macro insertion (for instance, a table name)</td></tr><tr><td>SAVE RECORD(<code>&lt;Selection/&gt;</code>)</td><td></td></tr><tr><td>NEXT RECORD(<code>&lt;Selection/&gt;</code>)</td><td></td></tr><tr><td>End for</td><td></td></tr><tr><td><code>&lt;/text&gt;</code></td><td>Fin del código macro</td></tr><tr><td><code>&lt;/macro&gt;</code></td><td>Fin de la definición de macro</td></tr><tr><td><code>&lt;/macros&gt;</code></td><td>Fin del archivo XML de macros</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sobre-la-etiqueta-method">Sobre la etiqueta <code>&lt;method&gt;</code><a class="hash-link" href="#sobre-la-etiqueta-method" title="Direct link to heading">​</a></h2><p>The <code>&lt;method&gt;</code> tag allows you to generate and use macro-commands that execute 4D project methods. This allows developers to create sophisticated functions that can be distributed via macro-commands which are associated with components. For example, the following macro will cause the <em>MyMethod</em> method to be executed with the name of the current method as parameter:</p><p><code>&lt;method&gt;MyMethod(&quot;&lt;method_name/&gt;&quot;)&lt;/method&gt;</code></p><p>El código de un método llamado se ejecuta en un nuevo proceso. Este proceso se cierra una vez se ejecuta el método.</p><blockquote><p><strong>Note:</strong> The structure process remains frozen until the called method execution is completed. You must make sure that the execution is quick and that there is no risk of it blocking the application. If this occurs, use the <strong>Ctrl+F8</strong> (Windows) or <strong>Command+F8</strong> (Mac OS) command to &quot;kill&quot; the process.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="llamando-macros">Llamando macros<a class="hash-link" href="#llamando-macros" title="Direct link to heading">​</a></h2><p>By default, macros can be called using the context menu or toolbar of the Code Editor, the autocomplete function, or a specific list at the bottom of the Code Editor window.</p><p>Note that for each macro it is possible to restrict the possibility of calling it using the context menu and/or the autocomplete function.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="context-menu-and-toolbar">Context menu and toolbar<a class="hash-link" href="#context-menu-and-toolbar" title="Direct link to heading">​</a></h3><p>By default, all macros can be called via the context menu of the Code Editor (using the <strong>Insert macro</strong> hierarchical command) or the <strong>Macros</strong> button of the toolbar.</p><p>The <em>in_menu</em> attribute of the <code>&lt;macro&gt;</code> tag is used to set whether or not the macro appears in this menu.</p><p>In the context menu, macros are displayed in the order of the &quot;Macros.xml&quot; file and any additional XML files. Por lo tanto, es posible cambiar el orden modificando estos archivos.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="autocompletar">Autocompletar<a class="hash-link" href="#autocompletar" title="Direct link to heading">​</a></h3><p>By default, all macros are accessible using the autocomplete (aka type-ahead) function (see <a href="/docs/es/19-R6/code-editor/write-class-method">Writing a method</a>). The <em>type_ahead</em> attribute of the <code>&lt;macro&gt;</code> tag can be used to exclude a macro from this type of operation.</p><p><strong>Note:</strong> If the macro contains the <code>&lt;selection/&gt;</code> tag, it will not appear in the autocomplete pop-up window.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lista-del-editor-de-código">Lista del editor de código<a class="hash-link" href="#lista-del-editor-de-código" title="Direct link to heading">​</a></h3><p>You can display your macros in a list of the Code Editor (see <a href="/docs/es/19-R6/code-editor/write-class-method">Writing a method</a>). Basta con hacer doble clic en el nombre de una macro de la lista para llamarla. No es posible excluir una macro específica de esta lista.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility-notes">Compatibility notes<a class="hash-link" href="#compatibility-notes" title="Direct link to heading">​</a></h2><p>El soporte de macros puede cambiar de una versión de 4D a otra. In order to keep the different versions compatible while maintaining your customizations, 4D does not remove any previous versions. If you want to use the latest features available, you must adapt your version accordingly.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="variables-de-selección-de-texto-para-métodos">Variables de selección de texto para métodos<a class="hash-link" href="#variables-de-selección-de-texto-para-métodos" title="Direct link to heading">​</a></h3><p>It is recommended to manage text selections using the <a href="https://doc.4d.com/4Dv19R4/4D/19-R4/GET-MACRO-PARAMETER.301-5739797.en.html" target="_blank" rel="noopener noreferrer">GET MACRO PARAMETER</a>and <a href="https://doc.4d.com/4Dv19R4/4D/19-R4/SET-MACRO-PARAMETER.301-5739788.en.html" target="_blank" rel="noopener noreferrer">SET MACRO PARAMETER</a> commands. These commands can be used to overcome the partitioning of the host project/component execution spaces and thus allow the creation of components dedicated to the management of macros. In order to activate this mode for a macro, you must declare the Version attribute with the value 2 in the Macro element. In this case, 4D no longer manages the predefined variables _textSel,_textReplace, etc. and the <a href="https://doc.4d.com/4Dv19R4/4D/19-R4/GET-MACRO-PARAMETER.301-5739797.en.html" target="_blank" rel="noopener noreferrer">GET MACRO PARAMETER</a>and <a href="https://doc.4d.com/4Dv19R4/4D/19-R4/SET-MACRO-PARAMETER.301-5739788.en.html" target="_blank" rel="noopener noreferrer">SET MACRO PARAMETER</a> are used. Este atributo debe declararse así:</p><p><code>&lt;macro name=&quot;MyMacro&quot; version=&quot;2&quot;&gt;</code><br> <code>--- Text of the macro ---</code><br> <code>&lt;/macro&gt;</code></p><p>Si no se pasa este atributo, el modo anterior se mantiene.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="incompatibilidades-relacionadas-con-el-estándar-xml">Incompatibilidades relacionadas con el estándar XML<a class="hash-link" href="#incompatibilidades-relacionadas-con-el-estándar-xml" title="Direct link to heading">​</a></h3><p>Strict syntax rules must be observed in order for macros files to respect the XML standard. This may lead to incompatibilities with the code of macros created with previous versions and prevent the loading of XML files. Las siguientes son las principales fuentes de mal funcionamiento:</p><ul><li>Comments of the &quot;// my comment&quot; type, allowed inside <code>&lt;macro&gt;</code> elements in previous versions of 4D, are not compatible with the XML syntax. The lines of comments must respect the standard <code>&quot;&lt;!-- my comment --&gt;&quot;</code> form.</li><li>The <code>&lt;&gt;</code> symbols used more particularly for interprocess object names must be encoded. For example, the <code>&lt;&gt;params</code> variable must be written <code>&amp;lt;&gt;params</code>.</li><li>The initial <code>&lt;macros&gt;</code> declaration tag could be omitted in previous versions of 4D. Ahora es obligatorio; de lo contrario, el archivo no se cargará.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/es/19-R6/code-editor/find-replace"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Buscar y reemplazar</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/es/19-R6/Tags/tags"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Etiquetas de transformación</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#qué-es-una-macro" class="table-of-contents__link toc-highlight">¿Qué es una macro?</a></li><li><a href="#ubicación-de-las-macros" class="table-of-contents__link toc-highlight">Ubicación de las macros</a></li><li><a href="#macros-por-defecto" class="table-of-contents__link toc-highlight">Macros por defecto</a></li><li><a href="#adding-customized-macros" class="table-of-contents__link toc-highlight">Adding customized macros</a><ul><li><a href="#comprobación-de-la-sintaxis-de-las-macros-personalizadas" class="table-of-contents__link toc-highlight">Comprobación de la sintaxis de las macros personalizadas</a></li></ul></li><li><a href="#syntax-of-4d-macros" class="table-of-contents__link toc-highlight">Syntax of 4D macros</a></li><li><a href="#sobre-la-etiqueta-method" class="table-of-contents__link toc-highlight">Sobre la etiqueta <code>&lt;method&gt;</code></a></li><li><a href="#llamando-macros" class="table-of-contents__link toc-highlight">Llamando macros</a><ul><li><a href="#context-menu-and-toolbar" class="table-of-contents__link toc-highlight">Context menu and toolbar</a></li><li><a href="#autocompletar" class="table-of-contents__link toc-highlight">Autocompletar</a></li><li><a href="#lista-del-editor-de-código" class="table-of-contents__link toc-highlight">Lista del editor de código</a></li></ul></li><li><a href="#compatibility-notes" class="table-of-contents__link toc-highlight">Compatibility notes</a><ul><li><a href="#variables-de-selección-de-texto-para-métodos" class="table-of-contents__link toc-highlight">Variables de selección de texto para métodos</a></li><li><a href="#incompatibilidades-relacionadas-con-el-estándar-xml" class="table-of-contents__link toc-highlight">Incompatibilidades relacionadas con el estándar XML</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Developer Center</a></li><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://facebook.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://doc.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Where It All Began)</a></li><li class="footer__item"><a href="https://kb.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledgebase</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://us.4d.com/Careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2022 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/es/assets/js/runtime~main.49cd6153.js"></script>
<script src="/docs/es/assets/js/main.f2d03dd1.js"></script>
</body>
</html>