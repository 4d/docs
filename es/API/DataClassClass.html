<!DOCTYPE html><html lang="es"><head><meta name="docsearch:version" content="19 R4 BETA"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>DataClass · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A [DataClass](/docs/es/ORDA/dsmapping.html#dataclass) provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the `ds` [datastore](/docs/es/ORDA/dsmapping.html#datastore)."/><meta name="docsearch:language" content="es"/><meta property="og:title" content="DataClass · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="A [DataClass](/docs/es/ORDA/dsmapping.html#dataclass) provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the `ds` [datastore](/docs/es/ORDA/dsmapping.html#datastore)."/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/alpha/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/es"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://developer.4d.com/docs" target="_self">v19 R5 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v19 R4</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/API/DataClassClass.html">English</a></li><li><a href="/docs/ja/API/DataClassClass.html">日本語</a></li><li><a href="/docs/de/API/DataClassClass.html">Deutsch</a></li><li><a href="/docs/fr/API/DataClassClass.html">Français</a></li><li><a href="/docs/pt/API/DataClassClass.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Clases API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Gestión de proyecto<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Project/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Project/architecture.html">Arquitectura de un proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Project/documentation.html">Documentar un proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Project/compiler.html">Compilación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Conceptos del lenguaje 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/about.html">Acerca del lenguaje 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/quick-tour.html">Un recorrido rápido</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/operators.html">Operadores</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/data-types.html">Tipos de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/date.html">Fecha</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/null-undefined.html">Null e indefinido</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/number.html">Número (Real, Entero largo, Entero)</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/picture.html">Imagen</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/pointer.html">Puntero</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/string.html">Cadena</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/parameters.html">Parámetros</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/shared.html">Objetos y colecciones compartidos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/classes.html">Clases</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/control-flow.html">Condiciones y bucles</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/branching.html">Estructuras condicionales</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/looping.html">Estructuras repetitivas (bucles)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/error-handling.html">Gestión de errores</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/interpreted-compiled.html">Modos interpretado y compilado</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/components.html">Componentes</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/identifiers.html">Identificadores</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/overview.html">¿Qué es ORDA?</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/dsmapping.html">Objeto del modelo de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/ordaClasses.html">Clases del modelo de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/entities.html">Trabajar con los datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/datastores.html">Utilizar un almacén de datos remoto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/glossary.html">Glosario</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Clases API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/API/overview.html">Generalidades - API de clases</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/BlobClass.html">Blob</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ClassClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/CollectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/es/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/FolderClass.html">Folder</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SessionClass.html">Sesión</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Editor de código<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/code-editor/navigation.html">Navigation dropdown</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Depuración<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/basics.html">Básicos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/debugger.html">Depurador</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/breakpoints.html">Breakpoints and Command Catching</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/debugging-remote.html">Debugging from remote machines</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/debugLogFiles.html">Description of log files</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Transformation Tags<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Tags/tags.html">Etiquetas de transformación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Settings<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/settings/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/general.html">General page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/interface.html">Interface page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/compiler.html">Compiler page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/database.html">Database page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/backup.html">Backup page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/client-server.html">Client-server page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/web.html">Web page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/sql.html">SQL page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/php.html">PHP page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/security.html">Security page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/compatibility.html">Compatibility page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Preferencias<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/general.html">Página general</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/structure.html">Structure Page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/forms.html">Página formulario</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/methods.html">Methods Page</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/shortcuts.html">Shortcuts Page</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/master/docs/API/DataClassClass.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">DataClass</h1></header><article><div><span><p>A <a href="/docs/es/ORDA/dsmapping.html#dataclass">DataClass</a> provides an object interface to a database table. All dataclasses in a 4D application are available as a property of the <code>ds</code> <a href="/docs/es/ORDA/dsmapping.html#datastore">datastore</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="resumen"></a><a href="#resumen" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resumen</h3>
<table>
<thead>
<tr><th></th></tr>
</thead>
<tbody>
<tr><td><a href="#attributename"><strong><em>.attributeName</em></strong> : DataClassAttribute</a><p>    </td></tr>
<tr><td><a href="#all"><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</a><p>    consulta el datastore para encontrar todas las entidades relacionadas con la dataclass y las devuelve como una selección de entidades</td></tr>
<tr><td><a href="#clearremotecache"><strong>.clearRemoteCache()</strong></a><p>    vacía la caché ORDA de una clase de datos</td></tr>
<tr><td><a href="#fromcollection"><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</a><p>    actualiza o crea entidades en la clase de datos según la colección de objetos <em>objectCol</em>, y devuelve la selección de entidades correspondiente</td></tr>
<tr><td><a href="#get"><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</a><p>    consulta la clase de datos para recuperar la entidad que coincide con el parámetro <em>primaryKey</em></td></tr>
<tr><td><a href="#getcount"><strong>.getCount()</strong> : Integer </a><p>     returns the number of entities in a dataclass</td></tr>
<tr><td><a href="#getdatastore"><strong>.getDataStore()</strong>: cs.DataStore</a><p>    returns the datastore for the specified dataclass</td></tr>
<tr><td><a href="#getinfo"><strong>.getInfo()</strong> : Object </a><p>    returns an object providing information about the dataclass</td></tr>
<tr><td><a href="#getremotecache"><strong>.getRemoteCache</strong>() : Object </a><p>    returns an object that holds the contents of the ORDA cache for a dataclass.</td></tr>
<tr><td><a href="#new"><strong>.new()</strong> : 4D.Entity </a><p>    creates in memory and returns a new blank entity related to the Dataclass</td></tr>
<tr><td><a href="#newselection"><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection </a><p>    creates a new, blank, non-shareable entity selection, related to the dataclass, in memory</td></tr>
<tr><td><a href="#query"><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection </a><p>    searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s)</td></tr>
<tr><td><a href="#setremotecachesettings"><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object) </a><p>    sets the timeout and maximum size of the ORDA cache for a dataclass.</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="attributename"></a><a href="#attributename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.<em>attributeName</em></h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong><em>.attributeName</em></strong> : DataClassAttribute</p>
<h4><a class="anchor" aria-hidden="true" id="descripción"></a><a href="#descripción" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>Los atributos de las clases de datos sonobjetos que están disponibles directamente como propiedades de estas clases.</p>
<p>The returned objects are of the <a href="/docs/es/API/DataClassAttributeClass.html"><code>DataClassAttribute</code></a> class. These objects have properties that you can read to get information about your dataclass attributes.</p>
<blockquote>
<p>Dataclass attribute objects can be modified, but the underlying database structure will not be altered.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1"></a><a href="#ejemplo-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$salary</span>:=ds.Employee.salary <span class="hljs-comment">//returns the salary attribute in the Employee dataclass</span>
<span class="hljs-variable">$compCity</span>:=ds.Company[<span class="hljs-string">"city"</span>] <span class="hljs-comment">//returns the city attribute in the Company dataclass</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2"></a><a href="#ejemplo-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<p>Considering the following database structure:</p>
<p><img src="/docs/assets/en/API/dataclassAttribute.png" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$firstnameAtt</span>;<span class="hljs-variable">$employerAtt</span>;<span class="hljs-variable">$employeesAtt </span>: Object

 <span class="hljs-variable">$firstnameAtt</span>:=ds.Employee.firstname
  <span class="hljs-comment">//{name:firstname,kind:storage,fieldType:0,type:string,fieldNumber:2,indexed:true,</span>
  <span class="hljs-comment">//keyWordIndexed:false,autoFilled:false,mandatory:false,unique:false}</span>

 <span class="hljs-variable">$employerAtt</span>:=ds.Employee.employer
  <span class="hljs-comment">//{name:employer,kind:relatedEntity,relatedDataClass:Company,</span>
  <span class="hljs-comment">//fieldType:38,type:Company,inverseName:employees}</span>
  <span class="hljs-comment">//38=Is object</span>

 <span class="hljs-variable">$employeesAtt</span>:=ds.Company.employees
  <span class="hljs-comment">//{name:employees,kind:relatedEntities,relatedDataClass:Employee,</span>
  <span class="hljs-comment">//fieldType:42,type:EmployeeSelection,inverseName:employer}</span>
  <span class="hljs-comment">//42=Is collection</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-3"></a><a href="#ejemplo-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 3</h4>
<p>Considering the following table properties:</p>
<p><img src="/docs/assets/en/API/dataclassAttribute2.png" alt=""></p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$sequenceNumberAtt </span>: Object
 <span class="hljs-variable">$sequenceNumberAtt</span>=ds.Employee.sequenceNumber
  <span class="hljs-comment">//{name:sequenceNumber,kind:storage,fieldType:0,type:string,fieldNumber:13,</span>
  <span class="hljs-comment">//indexed:true,keyWordIndexed:false,autoFilled:true,mandatory:false,unique:true}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="all"></a><a href="#all" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.all()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Support of the <em>settings</em> parameter</td></tr>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.all</strong> ( { <em>settings</em> : Object } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>parámetros</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Opciones de construcción: context</td></tr>
<tr><td>Resultado</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Referencias sobre todas las entidades relacionadas con la clase de datos</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-1"></a><a href="#descripción-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La función <code>.all()</code> consulta el datastore para encontrar todas las entidades relacionadas con la dataclass y las devuelve como una selección de entidades.</p>
<p>Las entidades se devuelven en el orden por defecto, que es inicialmente el orden en que fueron creadas. Tenga en cuenta, sin embargo, que si se han eliminado entidades y se han añadido otras nuevas, el orden por defecto ya no refleja el orden de creación.</p>
<p>Si no se encuentra la entidad correspondiente, se devuelve una selección de entidades vacía.</p>
<p>Se aplica carga diferida.</p>
<p><strong>parámetros</strong></p>
<p>En el parámetro opcional <em>settings</em> se puede pasar un objeto que contenga opciones adicionales. Se soporta la siguiente propiedad:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Label for the optimization context applied to the entity selection. This context will be used by the code that handles the entity selection so that it can benefit from the optimization. This feature is <a href="/docs/es/ORDA/entities.html#client-server-optimization">designed for ORDA client/server processing</a>.</td></tr>
</tbody>
</table>
<blockquote>
<p>Para conocer el número total de entidades de una clase de datos, se recomienda utilizar la función <a href="#getcount"><code>getCount()</code></a> más optimizada que la expresión <code>ds.myClass.all().length</code>.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ejemplo"></a><a href="#ejemplo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$allEmp </span>: cs.EmployeeSelection
 <span class="hljs-variable">$allEmp</span>:=ds.Employee.<span class="hljs-function">all</span>()
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="clearremotecache"></a><a href="#clearremotecache" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.clearRemoteCache()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v19 R5</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.clearRemoteCache()</strong>
| Parámetros | Tipo |  | Descripción                  |
| ---------- | ---- |::| ---------------------------- |
|            |      |  | No requiere ningún parámetro |</p>
<h4><a class="anchor" aria-hidden="true" id="descripción-2"></a><a href="#descripción-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La función <code>.clearRemoteCache()</code> vacía la caché ORDA de una clase de datos.</p>
<blockquote>
<p>Esta función no restablece los valores de <code>timeout</code> y <code>maxEntries</code>.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-4"></a><a href="#ejemplo-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">
var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">
var</span> <span class="hljs-variable">$cache </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$info </span>: Collection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$text </span>: Text

<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)

<span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>()
<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword">
For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)
    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname+<span class="hljs-string">" lives in "</span>+<span class="hljs-variable">$p</span>.address.city+<span class="hljs-string">" / "</span><span class="hljs-keyword">
End for each</span>

<span class="hljs-variable">$cache</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">getRemoteCache</span>()

<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">clearRemoteCache</span>()
<span class="hljs-comment">// Cache of the Persons dataclass = {timeout:30;maxEntries:30000;stamp:255;entries:[]}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="fromcollection"></a><a href="#fromcollection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.fromCollection()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Support of the <em>settings</em> parameter</td></tr>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.fromCollection</strong>( <em>objectCol</em> : Collection { ; <em>settings</em> : Object } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>objectCol</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Colección de objetos a mapear con entidades</td></tr>
<tr><td>parámetros</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Opciones de construcción: context</td></tr>
<tr><td>Resultado</td><td>4D.EntitySelection</td><td style="text-align:center">&lt;-</td><td>Selección de entidades llenadas de la colección</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-3"></a><a href="#descripción-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La función <code>.fromCollection()</code> actualiza o crea entidades en la clase de datos según la colección de objetos <em>objectCol</em>, y devuelve la selección de entidades correspondiente.</p>
<p>En el parámetro <em>objectCol</em>, pasa una colección de objetos para crear nuevas entidades o actualizar las existentes de la clase de datos. Los nombres de las propiedades deben ser los mismos que los de los atributos de la clase de datos. Si un nombre de propiedad no existe en la clase de datos, se ignora. Si un valor de atributo no está definido en la colección, su valor es null.</p>
<p>El mapeo entre los objetos de la colección y las entidades se realiza sobre los <strong>nombres de atributos</strong> y <strong>tipos coincidentes</strong>. Si la propiedad de un objeto tiene el mismo nombre que el atributo de una entidad pero sus tipos no coinciden, el atributo de la entidad no se llena.</p>
<p><strong>Crear o actualizar modos</strong></p>
<p>Para cada objeto de <em>objectCol</em>:</p>
<ul>
<li>If the object contains a boolean property &quot;__NEW&quot; set to false (or does not contain a boolean &quot;__NEW&quot; property), the entity is updated or created with the corresponding values of the properties from the object. No check is performed in regards to the primary key:
<ul>
<li>If the primary key is given and exists, the entity is updated. In this case, the primary key can be given as is or with a &quot;__KEY&quot; property (filled with the primary key value).</li>
<li>If the primary key is given (as is) and does not exist, the entity is created</li>
<li>If the primary key is not given, the entity is created and the primary key value is assigned with respect to standard database rules.</li>
</ul></li>
<li>If the object contains a boolean property &quot;__NEW&quot; set to <strong>true</strong>, the entity is created with the corresponding values of the attributes from the object. A check is performed in regards to the primary key:
<ul>
<li>If the primary key is given (as is) and exists, an error is sent</li>
<li>If the primary key is given (as is) and does not exist, the entity is created</li>
<li>If the primary is not given, the entity is created and the primary key value is assigned with respect to standard database rules.</li>
</ul></li>
</ul>
<blockquote>
<p>The &quot;__KEY&quot; property containing a value is taken into account only when the &quot;__NEW&quot; property is set to <strong>false</strong> (or is omitted) and a corresponding entity exists. In all other cases, the &quot;__KEY&quot; property value is ignored, primary key value must be passed &quot;as is&quot;.</p>
</blockquote>
<p><strong>Related entities</strong></p>
<p>Los objetos de <em>objectCol</em> pueden contener uno o más objetos anidados que presentan una o más entidades relacionadas, lo que puede ser útil para crear o actualizar enlaces entre entidades.</p>
<p>Los objetos anidados que presentan entidades relacionadas deben contener una propiedad &quot;__KEY&quot; (llenada con el valor de la llave primaria de la entidad relacionada) o el atributo de llave primaria de la propia entidad relacionada. El uso de una propiedad __KEY permite la independencia del nombre del atributo de la llave primaria.</p>
<blockquote>
<p>El contenido de las entidades relacionadas no puede ser creado / actualizado a través de este mecanismo.</p>
</blockquote>
<p><strong>Sello</strong></p>
<p>Si se da un atributo __STAMP, se realiza una comprobación con el sello en el almacén de datos y se puede devolver un error (&quot;El sello dado no coincide con el actual para el registro# XX de la tabla XXXX&quot;). Para más información, consulte <a href="/docs/es/ORDA/entities.html#entity-locking">Entity locking</a>.</p>
<p><strong>parámetros</strong></p>
<p>En el parámetro opcional <em>settings</em> se puede pasar un objeto que contenga opciones adicionales. Se soporta la siguiente propiedad:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Label for the optimization context applied to the entity selection. This context will be used by the code that handles the entity selection so that it can benefit from the optimization. This feature is <a href="/docs/es/ORDA/entities.html#client-server-optimization">designed for ORDA client/server processing</a>.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-1"></a><a href="#ejemplo-1-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<p>Queremos actualizar una entidad existente. La propiedad __NEW no se da, la llave primaria del empleado se da y existe:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">668</span> <span class="hljs-comment">//Existing PK in Employee table</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Arthur"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Martin"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-function">New object</span>(<span class="hljs-string">"ID"</span>;<span class="hljs-number">121</span>) <span class="hljs-comment">//PK existente en la dataClass relacionada Company</span>
  <span class="hljs-comment">// Para este empleado, podemos cambiar la Empresa utilizando otro PK existente en la dataClass relacionada Company</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-1"></a><a href="#ejemplo-2-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<p>Queremos actualizar una entidad existente. La propiedad __NEW no se da, la llave primaria del empleado está con el atributo __KEY y existe:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.__KEY:=<span class="hljs-number">1720</span> <span class="hljs-comment">//PK existente en la tabla Employee</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"John"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Boorman"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-function">New object</span>(<span class="hljs-string">"ID"</span>;<span class="hljs-number">121</span>) <span class="hljs-comment">// PK existente en la dataClass relacionada Company</span>
  <span class="hljs-comment">// Para este empleado, podemos cambiar la Empresa utilizando otro PK existente en la dataClass relacionada Company</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-3-1"></a><a href="#ejemplo-3-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 3</h4>
<p>Queremos crear simplemente una nueva entidad a partir de una colección:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Victor"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Hugo"</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-4-1"></a><a href="#ejemplo-4-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 4</h4>
<p>Queremos crear una entidad. La propiedad __NEW es True, la llave primaria del empleado no se da:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Mary"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Smith"</span>
 <span class="hljs-variable">$emp</span>.employer:=<span class="hljs-function">New object</span>(<span class="hljs-string">"__KEY"</span>;<span class="hljs-number">121</span>) <span class="hljs-comment">//PK existente en la dataClass Company</span>
 <span class="hljs-variable">$emp</span>.__NEW:=<span class="hljs-literal">True</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)






</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-5"></a><a href="#ejemplo-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 5</h4>
<p>Queremos crear una entidad. La propiedad __NEW se omite, la llave primaria del empleado se da y no existe:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">10000</span> <span class="hljs-comment">//Llave primaria inexistente</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Françoise"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Sagan"</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-6"></a><a href="#ejemplo-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 6</h4>
<p>En este ejemplo, la primera entidad se creará y guardará pero la segunda fallará ya que ambas utilizan la misma llave primaria:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$empsCollection </span>: Collection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$emp</span>; <span class="hljs-variable">$emp2 </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$employees </span>: cs.EmployeeSelection

 <span class="hljs-variable">$empsCollection</span>:=New collection
 <span class="hljs-variable">$emp</span>:=New object
 <span class="hljs-variable">$emp</span>.ID:=<span class="hljs-number">10001</span> <span class="hljs-comment">// Llave primaria inexistente</span>
 <span class="hljs-variable">$emp</span>.firstName:=<span class="hljs-string">"Simone"</span>
 <span class="hljs-variable">$emp</span>.lastName:=<span class="hljs-string">"Martin"</span>
 <span class="hljs-variable">$emp</span>.__NEW:=<span class="hljs-literal">True</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp</span>)

 <span class="hljs-variable">$emp2</span>:=New object
 <span class="hljs-variable">$emp2</span>.ID:=<span class="hljs-number">10001</span> <span class="hljs-comment">// La misma llave primaria, ya existente</span>
 <span class="hljs-variable">$emp2</span>.firstName:=<span class="hljs-string">"Marc"</span>
 <span class="hljs-variable">$emp2</span>.lastName:=<span class="hljs-string">"Smith"</span>
 <span class="hljs-variable">$emp2</span>.__NEW:=<span class="hljs-literal">True</span>
 <span class="hljs-variable">$empsCollection</span>.<span class="hljs-function">push</span>(<span class="hljs-variable">$emp2</span>)
 <span class="hljs-variable">$employees</span>:=ds.Employee.<span class="hljs-function">fromCollection</span>(<span class="hljs-variable">$empsCollection</span>)
  <span class="hljs-comment">//se crea la primera entidad</span>
  <span class="hljs-comment">//error de llave duplicada para la segunda entidad</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ver-también"></a><a href="#ver-también" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ver también</h4>
<p><a href="/docs/es/API/EntitySelectionClass.html#tocollection"><strong>.toCollection()</strong></a></p>
<h2><a class="anchor" aria-hidden="true" id="get"></a><a href="#get" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.get()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.get</strong>( <em>primaryKey</em> : Integer { ; <em>settings</em> : Object } ) : 4D.Entity<br><strong>.get</strong>( <em>primaryKey</em> : Text { ; <em>settings</em> : Object } ) : 4D.Entity</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>primaryKey</td><td>Integer OR Text</td><td style="text-align:center">-&gt;</td><td>Valor de la llave primaria de la entidad a recuperar</td></tr>
<tr><td>parámetros</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Opciones de construcción: context</td></tr>
<tr><td>Resultado</td><td>4D.Entity</td><td style="text-align:center">&lt;-</td><td>Entidad que coincide con la llave primaria designada</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-4"></a><a href="#descripción-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La función <code>.get()</code> consulta la clase de datos para recuperar la entidad que coincide con el parámetro <em>primaryKey</em>.</p>
<p>En <em>primaryKey</em>, pase el valor de la llave primaria de la entidad a recuperar. El tipo de valor debe coincidir con el tipo de la llave primaria definida en el almacén de datos (Entero o Texto). También puede asegurarse de que el valor de la llave primaria se devuelva siempre como Texto utilizando la función <a href="/docs/es/API/EntityClass.html#getkey"><code>.getKey()</code></a> con el parámetro <code>dk key as string</code>.</p>
<p>Si no se encuentra ninguna entidad con<em>primaryKey</em>, se devuelve una entidad <strong>Null</strong>.</p>
<p>Se aplica la carga diferida, lo que significa que los datos relacionados se cargan desde el disco sólo cuando son necesarios.</p>
<p><strong>parámetros</strong></p>
<p>En el parámetro opcional <em>settings</em> se puede pasar un objeto que contenga opciones adicionales. Se soporta la siguiente propiedad:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>context</td><td>Texto</td><td>Etiqueta para el contexto de optimización automática aplicado a la entidad. Este contexto será utilizado por el código siguiente que carga la entidad para que pueda beneficiarse de la optimización. This feature is <a href="/docs/es/ORDA/entities.html#client-server-optimization">designed for ORDA client/server processing</a>.</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-2"></a><a href="#ejemplo-1-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.EmployeeEntity<span class="hljs-keyword">  
 var</span> <span class="hljs-variable">$entity2 </span>: cs.InvoiceEntity
 <span class="hljs-variable">$entity</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">167</span>) <span class="hljs-comment">// devuelve la entidad cuyo valor de llave primaria es 167</span>
 <span class="hljs-variable">$entity2</span>:=ds.Invoice.<span class="hljs-function">get</span>(<span class="hljs-string">"DGGX20030"</span>) <span class="hljs-comment">// devuelve la entidad cuyo valor de llave primaria es "DGGX20030"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-2"></a><a href="#ejemplo-2-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<p>Este ejemplo ilustra el uso de la propiedad <em>context</em>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$e1</span>; <span class="hljs-variable">$e2</span>; <span class="hljs-variable">$e3</span>; <span class="hljs-variable">$e4 </span>: cs.EmployeeEntity<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings</span>; <span class="hljs-variable">$settings2 </span>: Object

 <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"detail"</span>)
 <span class="hljs-variable">$settings2</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"context"</span>;<span class="hljs-string">"summary"</span>)

 <span class="hljs-variable">$e1</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">1</span>;<span class="hljs-variable">$settings</span>)
<span class="hljs-function"> completeAllData</span>(<span class="hljs-variable">$e1</span>) <span class="hljs-comment">// En el método completeAllData, se lanza una optimización y se asocia al contexto "detail"</span>

 <span class="hljs-variable">$e2</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">2</span>;<span class="hljs-variable">$settings</span>)
<span class="hljs-function"> completeAllData</span>(<span class="hljs-variable">$e2</span>) <span class="hljs-comment">// En el método completeAllData, se aplica la optimización asociada al contexto "detail"</span>

 <span class="hljs-variable">$e3</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">3</span>;<span class="hljs-variable">$settings2</span>)
<span class="hljs-function"> completeSummary</span>(<span class="hljs-variable">$e3</span>) <span class="hljs-comment">//En el método completeSummary, se lanza una optimización y se asocia al contexto "summary"</span>

 <span class="hljs-variable">$e4</span>:=ds.Employee.<span class="hljs-function">get</span>(<span class="hljs-number">4</span>;<span class="hljs-variable">$settings2</span>)
<span class="hljs-function"> completeSummary</span>(<span class="hljs-variable">$e4</span>) <span class="hljs-comment">//En el método completeSummary se aplica la optimización asociada al contexto "summary"</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getcount"></a><a href="#getcount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getCount()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v19 R5</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getCount()</strong> : Integer</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>result</td><td>Integer</td><td>&lt;-</td><td>Number of entities in the dataclass</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-5"></a><a href="#descripción-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.getCount()</code> function  returns the number of entities in a dataclass.</p>
<p>If this function is used within a transaction, entities created during the transaction will be taken into account.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-7"></a><a href="#ejemplo-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">
var</span> <span class="hljs-variable">$number </span>: Integer

<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)

<span class="hljs-variable">$number</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">getCount</span>()
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getdatastore"></a><a href="#getdatastore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getDataStore()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R5</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getDataStore()</strong>: cs.DataStore</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>cs.DataStore</td><td style="text-align:center">&lt;-</td><td>Datastore de la dataclass</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-6"></a><a href="#descripción-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.getDataStore()</code> function returns the datastore for the specified dataclass.</p>
<p>El almacén de datos puede ser:</p>
<ul>
<li>the main datastore, as returned by the <code>ds</code> command.</li>
<li>a remote datastore, opened using the <code>Open datastore</code> command.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-8"></a><a href="#ejemplo-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<p>El método de proyecto <strong><em>SearchDuplicate</em></strong> busca valores duplicados en cualquier clase de datos.</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$pet </span>: cs.CatsEntity
 <span class="hljs-variable">$pet</span>:=ds.Cats.<span class="hljs-function">all</span>().<span class="hljs-function">first</span>() <span class="hljs-comment">//obtener una entidad</span>
<span class="hljs-function"> SearchDuplicate</span>(<span class="hljs-variable">$pet</span>;<span class="hljs-string">"Dogs"</span>)
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">// método SearchDuplicate </span>
  <span class="hljs-comment">// SearchDuplicate(entity_to_search;dataclass_name)</span>

 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$pet </span>: Object ; <span class="hljs-variable">$dataClassName </span>: Text)<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$dataStore</span>; <span class="hljs-variable">$duplicates </span>: Object  

 <span class="hljs-variable">$dataStore</span>:=<span class="hljs-variable">$pet</span>.<span class="hljs-function">getDataClass</span>().<span class="hljs-function">getDataStore</span>()
 <span class="hljs-variable">$duplicates</span>:=<span class="hljs-variable">$dataStore</span>[<span class="hljs-variable">$dataClassName</span>].<span class="hljs-function">query</span>(<span class="hljs-string">"name=:1"</span>;<span class="hljs-variable">$pet</span>.name)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="getinfo"></a><a href="#getinfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getInfo()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v19 R3</td><td>Added exposed property</td></tr>
<tr><td>v17 R5</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getInfo()</strong> : Object</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>Objeto</td><td>&lt;-</td><td>Información sobre la clase de datos</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-7"></a><a href="#descripción-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.getInfo()</code> function returns an object providing information about the dataclass. Esta función es útil para configurar el código genérico.</p>
<p><strong>Objeto devuelto</strong></p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>exposed</td><td>Booleano</td><td>True if the dataclass is exposed in REST</td></tr>
<tr><td>name</td><td>Texto</td><td>Nombre de la dataclass</td></tr>
<tr><td>primaryKey</td><td>Texto</td><td>Nombre de la llave primaria de la clase de datos</td></tr>
<tr><td>tableNumber</td><td>Integer</td><td>Número de la tabla 4D interna</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-3"></a><a href="#ejemplo-1-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"> #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$entity </span>: Object)<span class="hljs-keyword">  
 var</span> <span class="hljs-variable">$status </span>: Object

<span class="hljs-function"> computeEmployeeNumber</span>(<span class="hljs-variable">$entity</span>) <span class="hljs-comment">//realizar algunas acciones en la entidad</span>

 <span class="hljs-variable">$status</span>:=<span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>()
<span class="hljs-function"> if</span>(<span class="hljs-variable">$status</span>.success)
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Record updated in table "</span>+<span class="hljs-variable">$entity</span>.<span class="hljs-function">getDataClass</span>().<span class="hljs-function">getInfo</span>().name)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-3"></a><a href="#ejemplo-2-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$settings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$es </span>: cs.ClientsSelection

 <span class="hljs-variable">$settings</span>:=New object
 <span class="hljs-variable">$settings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"receivedIds"</span>;<span class="hljs-function">getIds</span>())
 <span class="hljs-variable">$settings</span>.attributes:=<span class="hljs-function">New object</span>(<span class="hljs-string">"pk"</span>;ds.Clients.<span class="hljs-function">getInfo</span>().primaryKey)
 <span class="hljs-variable">$es</span>:=ds.Clients.<span class="hljs-function">query</span>(<span class="hljs-string">":pk in :receivedIds"</span>;<span class="hljs-variable">$settings</span>)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-3-2"></a><a href="#ejemplo-3-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 3</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$pk </span>: Text<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$dataClassAttribute </span>: Object

 <span class="hljs-variable">$pk</span>:=ds.Employee.<span class="hljs-function">getInfo</span>().primaryKey
 <span class="hljs-variable">$dataClassAttribute</span>:=ds.Employee[<span class="hljs-variable">$pk</span>] <span class="hljs-comment">// Si es necesario, el atributo que coincide con la llave primaria es accesible</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ver-también-1"></a><a href="#ver-también-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ver también</h4>
<p><a href="/docs/es/API/DataClassAttributeClass.html#exposed">DataClassAttribute.exposed</a></p>
<h2><a class="anchor" aria-hidden="true" id="getremotecache"></a><a href="#getremotecache" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.getRemoteCache()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v19 R5</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.getRemoteCache</strong>() : Object</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>result</td><td>Objeto</td><td>&lt;-</td><td>Object describing the contents of the ORDA cache for the dataclass.</td></tr>
</tbody>
</table>
<blockquote>
<p><strong>Modo avanzado:</strong> esta función está pensada para los desarrolladores que necesitan personalizar las funcionalidades por defecto de ORDA para configuraciones específicas. En la mayoría de los casos, no será necesario utilizarla.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="descripción-8"></a><a href="#descripción-8" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.getRemoteCache()</code> function returns an object that holds the contents of the ORDA cache for a dataclass..</p>
<p>Calling this function from a 4D single-user application returns <code>Null</code>.</p>
<p>El objeto devuelto tiene las siguientes propiedades:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>maxEntries</td><td>Integer</td><td>Maximum number of entries collection.</td></tr>
<tr><td>stamp</td><td>Integer</td><td>Stamp of the cache.</td></tr>
<tr><td>timeout</td><td>Integer</td><td>Time remaining before the new entries in the cache are marked as expired.</td></tr>
<tr><td>entries</td><td>Collection</td><td>Contains an entry object for each entity in the cache.</td></tr>
</tbody>
</table>
<p>Each entry object in the <code>entries</code> collection has the following properties:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>data</td><td>Objeto</td><td>Object holding data on the entry.</td></tr>
<tr><td>expired</td><td>Booleano</td><td>True if the entry has expired.</td></tr>
<tr><td>key</td><td>Texto</td><td>Primary key of the entity.</td></tr>
</tbody>
</table>
<p>The <code>data</code> object in each entry contains the following properties:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>__KEY</td><td>Cadena</td><td>Primary key of the entity</td></tr>
<tr><td>__STAMP</td><td>Entero largo</td><td>Timestamp of the entity in the database</td></tr>
<tr><td>__TIMESTAMP</td><td>Cadena</td><td>Stamp of the entity in the database (format is YYYY-MM-DDTHH:MM:SS:ms:Z)</td></tr>
<tr><td>dataClassAttributeName</td><td>Variant</td><td>If there is data in the cache for a dataclass attribute, it is returned in a property with the same type as in the database.</td></tr>
</tbody>
</table>
<p>Data concerning related entities is stored in the cache of the data object.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-9"></a><a href="#ejemplo-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<p>In the following example, <code>$ds.Persons.all()</code> loads the first entity with all its attributes. Then, the request optimization is triggered, so only <code>firstname</code> and <code>address.city</code> are loaded.</p>
<p>Note that <code>address.city</code> is loaded in the cache of the <code>Persons</code> dataclass.</p>
<p>Only the first entity of the <code>Address</code> dataclass is stored in the cache. It is loaded during the first iteration of the loop.</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation<span class="hljs-keyword">
var</span> <span class="hljs-variable">$persons </span>: cs.PersonsSelection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$p </span>: cs.PersonsEntity<span class="hljs-keyword">
var</span> <span class="hljs-variable">$cachePersons</span>; <span class="hljs-variable">$cacheAddress </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$text </span>: Text

<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)

<span class="hljs-variable">$persons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">all</span>()

<span class="hljs-variable">$text</span>:=<span class="hljs-string">""</span><span class="hljs-keyword">
For each</span> (<span class="hljs-variable">$p</span>; <span class="hljs-variable">$persons</span>)
    <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$p</span>.firstname+<span class="hljs-string">" lives in "</span>+<span class="hljs-variable">$p</span>.address.city+<span class="hljs-string">" / "</span><span class="hljs-keyword">
End for each</span>

<span class="hljs-variable">$cachePersons</span>:=<span class="hljs-variable">$ds</span>.Persons.<span class="hljs-function">getRemoteCache</span>()
<span class="hljs-variable">$cacheAddress</span>:=<span class="hljs-variable">$ds</span>.Adress.<span class="hljs-function">getRemoteCache</span>()
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ver-también-2"></a><a href="#ver-también-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ver también</h4>
<p><a href="#setremotecachesettings">.setRemoteCacheSettings()</a><br/><a href="#clearremotecache">.clearRemoteCache()</a></p>
<h2><a class="anchor" aria-hidden="true" id="new"></a><a href="#new" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.new()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.new()</strong> : 4D.Entity</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>Resultado</td><td>4D.Entity</td><td>&lt;-</td><td>Nueva entidad que coincide con la clase de datos</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-9"></a><a href="#descripción-9" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.new()</code> function creates in memory and returns a new blank entity related to the Dataclass.</p>
<p>El objeto entidad se crea en memoria y no se guarda en la base de datos hasta que se llama a la función <a href="/docs/es/API/EntityClass.html#save"><code>.save( )</code></a>. Si la entidad se borra antes de ser guardada, no se puede recuperar.</p>
<p><strong>4D Server</strong>: en cliente-servidor, si la llave primaria de la tabla correspondiente se autoincrementa, se calculará cuando la entidad se guarde en el servidor.</p>
<p>All attributes of the entity are initialized with the <strong>null</strong> value.</p>
<blockquote>
<p>Attributes can be initialized with default values if the <strong>Map NULL values to blank values</strong> option is selected at the 4D database structure level.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-10"></a><a href="#ejemplo-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<p>Este ejemplo crea una nueva entidad en la clase de datos &quot;Log&quot; y registra la información en el atributo &quot;info&quot;:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$entity </span>: cs.LogEntity
 <span class="hljs-variable">$entity</span>:=ds.Log.<span class="hljs-function">new</span>() <span class="hljs-comment">//crea una referencia</span>
 <span class="hljs-variable">$entity</span>.info:=<span class="hljs-string">"New entry"</span> <span class="hljs-comment">//almacenar alguna información</span>
 <span class="hljs-variable">$entity</span>.<span class="hljs-function">save</span>() <span class="hljs-comment">//guardar la entidad</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="newselection"></a><a href="#newselection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.newSelection()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.newSelection</strong>( { <em>keepOrder</em> : Integer } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>keepOrder</td><td>Integer</td><td>-&gt;</td><td><code>dk keep ordered</code>: crea una selección de entidades ordenada,<br><code>dk no ordenada</code>: crea una selección de entidades no ordenada (por defecto si se omite)</td></tr>
<tr><td>Resultado</td><td>4D.EntitySelection</td><td>&lt;-</td><td>Nueva selección de entidades en blanco relacionadas con la clase de datos</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-10"></a><a href="#descripción-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.newSelection()</code> function creates a new, blank, non-shareable entity selection, related to the dataclass, in memory.</p>
<blockquote>
<p>Para más información sobre las selecciones de entidades no compartibles, consulte <a href="/docs/es/ORDA/entities.html#shareable-or-non-shareable-entity-selections">esta sección</a>.</p>
</blockquote>
<p>Si quieres crear una selección de entidades ordenada, pase el selector <code>dk keep ordered</code> en el parámetro <em>keepOrder</em>. Por defecto, si se omite este parámetro, o si se pasa el selector <code>dk non ordered</code>, el método crea una selección de entidades no ordenada. Las selecciones de entidades desordenadas son más rápidas pero no se puede confiar en las posiciones de las entidades. Para más información, consulte <a href="/docs/es/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Selecciones de entidades ordenadas y desordenadas</a>.</p>
<p>Cuando se crea, la selección de entidades no contiene ninguna entidad (<code>mySelection.length</code> devuelve 0). Este método le permite crear selecciones de entidades gradualmente haciendo llamadas posteriores a la función <a href="/docs/es/API/EntitySelectionClass.html#add"><code>add()</code></a>.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-11"></a><a href="#ejemplo-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$USelection</span>; <span class="hljs-variable">$OSelection </span>: cs.EmployeeSelection
 <span class="hljs-variable">$USelection</span>:=ds.Employee.<span class="hljs-function">newSelection</span>() <span class="hljs-comment">//crea una selección de entidades vacía y desordenada</span>
 <span class="hljs-variable">$OSelection</span>:=ds.Employee.<span class="hljs-function">newSelection</span>(dk keep ordered) <span class="hljs-comment">//crea una selección de entidades vacía y ordenada</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="query"></a><a href="#query" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.query()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Soporte de los parámetros Formula</td></tr>
<tr><td>v17 R5</td><td>Soporte de los marcadores para los valores</td></tr>
<tr><td>v17</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.query</strong>( <em>queryString</em> : Text { ; <em>...value</em> : any } { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : Object { ; <em>querySettings</em> : Object } ) : 4D.EntitySelection</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>queryString</td><td>Texto</td><td>-&gt;</td><td>Criterios de búsqueda como cadena</td></tr>
<tr><td>formula</td><td>Objeto</td><td>-&gt;</td><td>Criterios de búsqueda como objeto fórmula</td></tr>
<tr><td>value</td><td>any</td><td>-&gt;</td><td>Valor(es) a utilizar para los marcadores de posición indexados</td></tr>
<tr><td>querySettings</td><td>Objeto</td><td>-&gt;</td><td>Opciones de búsqueda: parameters, attributes, args, allowFormulas, context, queryPath, queryPlan</td></tr>
<tr><td>Resultado</td><td>4D.EntitySelection</td><td>&lt;-</td><td>Nueva selección de entidades formada por las entidades de la clase de datos que cumplen los criterios de búsqueda especificados en <em>queryString</em> o <em>formula</em></td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-11"></a><a href="#descripción-11" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.query()</code> function searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s), for all the entities in the dataclass, and returns a new object of type <code>EntitySelection</code> containing all the entities that are found. Se aplica carga diferida.</p>
<p>Si no se encuentran entidades coincidentes, se devuelve una <code>EntitySelection</code> vacía.</p>
<p><strong>parámetro queryString</strong></p>
<p>El parámetro <em>queryString</em> utiliza la siguiente sintaxis:</p>
<pre><code class="hljs css language-4d">attributePath|formula comparator value   
    {logicalOperator attributePath|formula comparator value}   
    {order by attributePath {desc | asc}}
</code></pre>
<p>donde:</p>
<ul>
<li><strong>attributePath</strong>: path of attribute on which you want to execute the query. This parameter can be a simple name (for example &quot;country&quot;) or any valid attribute path (for example &quot;country.name&quot;.) In case of an attribute path whose type is <code>Collection</code>, [ ] notation is used to handle all the occurences (for example &quot;children[ ].age&quot;).</li>
</ul>
<blockquote>
<p><em>You cannot use directly attributes whose name contains special characters such as &quot;.&quot;, &quot;[ ]&quot;, or &quot;=&quot;, &quot;&gt;&quot;, &quot;#&quot;..., because they will be incorrectly evaluated in the query string. If you need to query on such attributes, you must consider using placeholders, which allow an extended range of characters in attribute paths (see</em> <strong>Using placeholders</strong> <em>below).</em></p>
</blockquote>
<ul>
<li><p><strong>formula</strong>: a valid formula passed as <code>Text</code> or <code>Object</code>. The formula will be evaluated for each processed entity and must return a boolean value. Within the formula, the entity is available through the <code>This</code> object.</p>
<ul>
<li><strong>Text</strong>: the formula string must be preceeded by the <code>eval( )</code> statement, so that the query parser evaluates the expression correctly. For example: <em>&quot;eval(length(This.lastname) &gt;=30)&quot;</em></li>
<li><strong>Object</strong>: the <a href="/docs/es/API/FunctionClass.html">formula object</a> is passed as a <strong>placeholder</strong> (see below). The formula must have been created using the <a href="/docs/es/API/FunctionClass.html#formula"><code>Formula</code></a> or <a href="/docs/es/API/FunctionClass.html#formula-from-string"><code>Formula from string</code></a> command.</li>
</ul></li>
</ul>
<blockquote>
<ul>
<li>Keep in mind that 4D formulas only support <code>&amp;</code> and <code>|</code> symbols as logical operators.</li>
<li>If the formula is not the only search criteria, the query engine optimizer could prior process other criteria (e.g. indexed attributes) and thus, the formula could be evaluated for only a subset of entities.</li>
</ul>
</blockquote>
<pre><code class="hljs">Formulas in queries can receive parameters through $1. This point is detailed in the **formula parameter** paragraph below.
</code></pre>
<blockquote>
<ul>
<li>You can also pass directy a <code>formula</code> parameter object instead of the <code>queryString</code> parameter (recommended when formulas are more complex). See <strong>formula parameter</strong> paragraph below.</li>
<li>Por razones de seguridad, las llamadas a fórmulas dentro de las funciones <code>query()</code> pueden ser desestimadas. See <code>querySettings</code> parameter description.</li>
</ul>
</blockquote>
<ul>
<li><p><strong>comparator</strong>: symbol that compares <em>attributePath</em> and <em>value</em>. The following symbols are supported:</p>
<table>
<thead>
<tr><th>Comparison</th><th>Símbolo(s)</th><th>Comentario</th></tr>
</thead>
<tbody>
<tr><td>Igual a</td><td>=, ==</td><td>Gets matching data, supports the wildcard (@), neither case-sensitive nor diacritic.</td></tr>
<tr><td></td><td>===, IS</td><td>Gets matching data, considers the @ as a standard character, neither case-sensitive nor diacritic</td></tr>
<tr><td>Diferente de</td><td>#, !=</td><td>Supports the wildcard (@)</td></tr>
<tr><td></td><td>!==, IS NOT</td><td>Considers the @ as a standard character</td></tr>
<tr><td>Menor que</td><td>&lt;</td><td></td></tr>
<tr><td>Mayor que</td><td>&gt;</td><td></td></tr>
<tr><td>Menor o igual que</td><td>&lt;=</td><td></td></tr>
<tr><td>Mayor o igual que</td><td>&gt;=</td><td></td></tr>
<tr><td>Incluído en</td><td>IN</td><td>Gets data equal to at least one of the values in a collection or in a set of values, supports the wildcard (@)</td></tr>
<tr><td>Not condition applied on a statement</td><td>NOT</td><td>Parenthesis are mandatory when NOT is used before a statement containing several operators</td></tr>
<tr><td>Contiene palabra clave</td><td>%</td><td>Keywords can be used in attributes of string or picture type</td></tr>
</tbody>
</table>
</li>
<li><p><strong>value</strong>: the value to compare to the current value of the property of each entity in the entity selection or element in the collection. It can be a <strong>placeholder</strong> (see <strong>Using placeholders</strong> below) or any expression matching the data type property.<p><p> When using a constant value, the following rules must be respected:</p>
<ul>
<li><strong>text</strong> type constant can be passed with or without simple quotes (see <strong>Using quotes</strong> below). To query a string within a string (a &quot;contains&quot; query), use the wildcard symbol (@) in value to isolate the string to be searched for as shown in this example: &quot;@Smith@&quot;. The following keywords are forbidden for text constants: true, false.</li>
<li><strong>boolean</strong> type constants: <strong>true</strong> or <strong>false</strong> (case sensitive).</li>
<li>Valores constantes de tipo <strong>numérico</strong>: los decimales se separan con un '.' (punto).</li>
<li><strong>date</strong> type constants: &quot;YYYY-MM-DD&quot; format</li>
<li>Constantes <strong>null</strong>: utilizando la palabra clave &quot;null&quot; encontrará las propiedades <strong>null</strong> y <strong>undefined</strong>.</li>
<li>en el caso de una búsqueda con un comparador IN, el <em>valor</em> debe ser una colección, o valores que coincidan con el tipo de la ruta del atributo entre [ ] separados por comas (para las cadenas, los caracteres <code>&quot;</code> deben escaparse con <code>\</code>).</li>
</ul></li>
<li><p><strong>logicalOperator</strong>: used to join multiple conditions in the query (optional). You can use one of the following logical operators (either the name or the symbol can be used):</p>
<table>
<thead>
<tr><th>Conjunción</th><th>Símbolo(s)</th></tr>
</thead>
<tbody>
<tr><td>AND</td><td>&amp;, &amp;&amp;, and</td></tr>
<tr><td>O</td><td>|,||, or</td></tr>
</tbody>
</table>
</li>
<li><p><strong>order by attributePath</strong>: you can include an order by <em>attributePath</em> statement in the query so that the resulting data will be sorted according to that statement. You can use multiple order by statements, separated by commas (e.g., order by <em>attributePath1</em> desc, <em>attributePath2</em> asc). By default, the order is ascending. Pass 'desc' to define a descending order and 'asc' to define an ascending order.</p></li>
</ul>
<blockquote>
<p>Si utiliza esta declaración, la entity selection devuelta está ordenada (para más información, consulte <a href="/docs/es/ORDA/dsmapping.html#ordered-or-unordered-entity-selection">Entity selections ordenadas vs desordenadas</a>).</p>
</blockquote>
<p><strong>Utilizar comillas</strong></p>
<p>Cuando utilice comillas dentro de las consultas, debe utilizar comillas simples ' ' dentro de la consulta y comillas dobles &quot; &quot; para encerrar toda la consulta, de lo contrario se devuelve un error. Por ejemplo:</p>
<pre><code class="hljs css language-4d"><span class="hljs-string">"employee.name = 'smith' AND employee.firstname = 'john'"</span>
</code></pre>
<blockquote>
<p>Las comillas simples (') no se admiten en los valores buscados, ya que romperían la cadena de búsqueda. Por ejemplo, &quot;comp.name = 'John's pizza' &quot; generará un error. Si necesita buscar en valores con comillas simples, puede considerar el uso de marcadores de posición (ver más abajo).</p>
</blockquote>
<p><strong>Uso del paréntesis</strong></p>
<p>Puede utilizar paréntesis en la búsqueda para dar prioridad al cálculo. Por ejemplo, puede organizar una búsqueda de la siguiente manera:</p>
<pre><code class="hljs css language-4d"><span class="hljs-string">"(employee.age &gt;= 30 OR employee.age &lt;= 65) AND (employee.salary &lt;= 10000 OR employee.status = 'Manager')"</span>
</code></pre>
<p><strong>Uso de marcadores de posición</strong></p>
<p>4D le permite utilizar marcadores para los argumentos <em>attributePath</em>, <em>formula</em> y <em>value</em> dentro del parámetro <em>queryString</em>. Un marcador es un parámetro que se inserta en las cadenas de búsqueda y que se sustituye por otro valor cuando se evalúa la cadena de búsqueda consulta. El valor de los marcadores se evalúa una vez al principio de la búsqueda; no se evalúa para cada elemento.</p>
<p>Se pueden utilizar dos tipos de marcadores: <strong>indexed placeholders</strong> y los <strong>named placeholders</strong>:</p>
<table>
<thead>
<tr><th></th><th>Marcadores de posición indexados</th><th>Nombre del marcador de posición</th></tr>
</thead>
<tbody>
<tr><td>Definición</td><td>Los parámetros se insertan como <code>:paramIndex</code> (por ejemplo :1, :2...) en <em>queryString</em> y sus valores correspondientes son suministrados por la secuencia de parámetros <em>value</em>. Puede utilizar hasta 128 parámetros <em>valor</em></td><td>Los parámetros se insertan como<code>: paramName</code> (por ejemplo :myparam) y sus valores se proporcionan en los atributos y/o objetos de parámetros en el parámetro <em>querySettings</em></td></tr>
<tr><td>Ejemplo</td><td><code>$r:=class.query(&quot;:1=:2&quot;;&quot;city&quot;;&quot;Chicago&quot;)</code></td><td><code>$o.attributes:=New object(&quot;att&quot;;&quot;city&quot;)</code><br> <code>$o.parameters:=New object(&quot;name&quot;;&quot;Chicago&quot;)</code><br> <code>$r:=class.query(&quot;:att=:name&quot;;$o)</code></td></tr>
</tbody>
</table>
<p>Puede mezclar todos los tipos de argumentos en <em>queryString</em>. Una <em>queryString</em> puede contener, para los parámetros <em>attributePath</em>, <em>formula</em> y <em>value</em>:</p>
<ul>
<li>direct values (no placeholders),</li>
<li>indexed placeholders and/or named placeholders.</li>
</ul>
<p>Using placeholders in queries <strong>is recommended</strong> for the following reasons:</p>
<ol>
<li><p>It prevents malicious code insertion: if you directly use user-filled variables within the query string, a user could modifiy the query conditions by entering additional query arguments. For example, imagine a query string like:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$vquery</span>:=<span class="hljs-string">"status = 'public' &amp; name = "</span>+myname <span class="hljs-comment">//user enters their name</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-variable">$vquery</span>)
</code></pre>
<p>This query seems secured since non-public data are filtered. However, if the user enters in the <em>myname</em> area something like <em>&quot;smith OR status='private'</em>, the query string would be modified at the interpretation step and could return private data.</p>
<p>When using placeholders, overriding security conditions is not possible:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"status='public' &amp; name=:1"</span>;myname)
</code></pre>
<p>In this case if the user enters <em>smith OR status='private'</em> in the <em>myname</em> area, it will not be interpreted in the query string, but only passed as a value. Looking for a person named &quot;smith OR status='private'&quot; will just fail.</p></li>
<li><p>It prevents having to worry about formatting or character issues, especially when handling <em>attributePath</em> or <em>value</em> parameters that might contain non-alphanumeric characters such as &quot;.&quot;, &quot;['...</p></li>
<li><p>It allows the use of variables or expressions in query arguments. Ejemplos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$result</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"address.city = :1 &amp; name =:2"</span>;<span class="hljs-variable">$city</span>;<span class="hljs-variable">$myVar</span>+<span class="hljs-string">"@"</span>)
<span class="hljs-variable">$result2</span>:=<span class="hljs-variable">$col</span>.<span class="hljs-function">query</span>(<span class="hljs-string">"company.name = :1"</span>;<span class="hljs-string">"John's Pizzas"</span>)
</code></pre></li>
</ol>
<p><strong>Búsqueda de valores null</strong></p>
<p>Cuando se buscan valores null, no se puede utilizar la sintaxis de marcador de posición porque el motor de búsqueda considera null como un valor de comparación invalido. Por ejemplo, si ejecuta la siguiente búsqueda:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$vSingles</span>:=ds.Person.<span class="hljs-function">query</span>(<span class="hljs-string">"spouse = :1"</span>;<span class="hljs-literal">Null</span>) <span class="hljs-comment">// NO funcionará</span>
</code></pre>
<p>No obtendrá el resultado esperado porque el valor null será evaluado por 4D como un error resultante de la evaluación del parámetro (por ejemplo, un atributo procedente de otra búsqueda). Para este tipo de búsquedas, debe utilizar la sintaxis de búsqueda directa:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$vSingles</span>:=ds.Person.<span class="hljs-function">query</span>(<span class="hljs-string">"spouse = null"</span>) <span class="hljs-comment">// Sintaxis correcta</span>
</code></pre>
<p><strong>Vinculación de los argumentos de búsqueda y los atributos de colección</strong></p>
<p>Al buscar en colecciones dentro de los atributos de los objetos utilizando múltiples argumentos de búsqueda unidos por el operador AND, es posible que desee asegurarse de que sólo se devuelven las entidades que contienen elementos que coinciden con todos los argumentos, y no las entidades en las que los argumentos pueden encontrarse en diferentes elementos. Para ello, es necesario vincular los argumentos de la búsqueda a los elementos de colección, de modo que sólo se encuentren los elementos únicos que contengan argumentos vinculados.</p>
<p>Por ejemplo, con las dos entidades siguientes:</p>
<pre><code class="hljs">Entity <span class="hljs-number">1</span>:
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.name</span>: <span class="hljs-string">"martin"</span>
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.places</span>:
    { <span class="hljs-string">"locations"</span> : [ {
                <span class="hljs-string">"kind"</span>:<span class="hljs-string">"home"</span>,
                <span class="hljs-string">"city"</span>:<span class="hljs-string">"paris"</span>
            } ] }

Entity <span class="hljs-number">2</span>:
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.name</span>: <span class="hljs-string">"smith"</span>
ds<span class="hljs-selector-class">.People</span><span class="hljs-selector-class">.places</span>:
    { <span class="hljs-string">"locations"</span> : [ {
                <span class="hljs-string">"kind"</span>:<span class="hljs-string">"home"</span>,
                <span class="hljs-string">"city"</span>:<span class="hljs-string">"lyon"</span>
            } , {
                <span class="hljs-string">"kind"</span>:<span class="hljs-string">"office"</span>,
                <span class="hljs-string">"city"</span>:<span class="hljs-string">"paris"</span>
            } ] }
</code></pre>
<p>Quiere encontrar personas con un tipo de ubicación &quot;home&quot; en la ciudad &quot;paris&quot;. Si escribe:</p>
<pre><code class="hljs css language-4d">ds.People.<span class="hljs-function">query</span>(<span class="hljs-string">"places.locations[].kind= :1 and places.locations[].city= :2"</span>;<span class="hljs-string">"home"</span>;<span class="hljs-string">"paris"</span>)
</code></pre>
<p>... la búsqueda devolverá &quot;martin&quot; <strong>y</strong> &quot;smith&quot; porque &quot;smith&quot; tiene un elemento &quot;locations&quot; cuyo &quot;tipo&quot; es &quot;home&quot; y un elemento &quot;locations&quot; cuya &quot;ciudad&quot; es &quot;paris&quot;, aunque sean elementos diferentes.</p>
<p>Si quiere obtener sólo las entidades en las que los argumentos correspondientes están en el mismo elemento de colección, necesita <strong>enlazar los argumentos</strong>. Para enlazar los argumentos de búsqueda:</p>
<ul>
<li>Add a letter between the [] in the first path to link and repeat the same letter in all linked arguments. For example: <code>locations[a].city and locations[a].kind</code>. You can use any letter of the Latin alphabet (not case sensitive).</li>
<li>To add different linked criteria in the same query, use another letter. You can create up to 26 combinations of criteria in a single query.</li>
</ul>
<p>Con las entidades anteriores, si escribe:</p>
<pre><code class="hljs css language-4d">ds.People.<span class="hljs-function">query</span>(<span class="hljs-string">"places.locations[a].kind= :1 and places.locations[a].city= :2"</span>;<span class="hljs-string">"home"</span>;<span class="hljs-string">"paris"</span>)
</code></pre>
<p>... la búsqueda sólo devolverá &quot;martin&quot; porque tiene un elemento &quot;locations&quot; cuyo &quot;kind&quot; es &quot;home&quot; y cuyo &quot;city&quot; es &quot;paris&quot;. La búsqueda no devolverá &quot;smith&quot; porque los valores &quot;home&quot; y &quot;paris&quot; no están en el mismo elemento de colección.</p>
<p><strong>Queries in many-to-many relations</strong></p>
<p>ORDA offers a special syntax to facilitate queries in many-to-many relations. In this context, you may need to search for different values with an <code>AND</code> operator BUT in the same attribute. For example, take a look at the following structure:</p>
<p><img src="/docs/assets/en/API/manytomany.png" alt="alt-text"></p>
<p>Imagine that you want to search all movies in which <em>both</em> actor A and actor B have a role. If you write a simple query using an <code>AND</code> operator, it will not work:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// invalid code</span>
<span class="hljs-variable">$es</span>:=ds.Movie.<span class="hljs-function">query</span>(<span class="hljs-string">"roles.actor.lastName = :1 AND roles.actor.lastName = :2"</span>;<span class="hljs-string">"Hanks"</span>;<span class="hljs-string">"Ryan"</span>)  
<span class="hljs-comment">// $es is empty</span>
</code></pre>
<p>Basically, the issue is related to the internal logic of the query: you cannot search for an attribute whose value would be both &quot;A&quot; and &quot;B&quot;.</p>
<p>To make it possible to perform such queries, ORDA allows a special syntax: you just need to add a <em>class index</em> between <strong>{}</strong> in all additional relation attributes used in the string:</p>
<pre><code class="hljs css language-4d"><span class="hljs-string">"relationAttribute.attribute = :1 AND relationAttribute{x}.attribute = :2 [AND relationAttribute{y}.attribute...]"</span>
</code></pre>
<p><strong>{x}</strong> tells ORDA to create another reference for the relation attribute. It will then perform all the necessary bitmap operations internally. Note that <strong>x</strong> can be any number <strong>except 0</strong>: {1}, or {2}, or {1540}... ORDA only needs a unique reference in the query for each class index.</p>
<p>In our example, it would be:</p>
<pre><code class="hljs css language-4d"><span class="hljs-comment">// valid code</span>
<span class="hljs-variable">$es</span>:=ds.Movie.<span class="hljs-function">query</span>(<span class="hljs-string">"roles.actor.lastName = :1 AND roles.actor{2}.lastName = :2"</span>;<span class="hljs-string">"Hanks"</span>;<span class="hljs-string">"Ryan"</span>)  
<span class="hljs-comment">// $es contains movies (You've Got Mail, Sleepless in Seattle, Joe Versus the Volcano)</span>
</code></pre>
<p><strong>parámetro formula</strong></p>
<p>Como alternativa a la inserción de fórmulas dentro del parámetro <em>queryString</em> (ver arriba), puede pasar directamente un objeto fórmula como criterio de búsqueda booleano. La utilización de un objeto fórmula para las búsquedas es <strong>recomendada</strong> ya que se beneficia de la tokenización, y el código es más fácil de buscar/leer.</p>
<p>The formula must have been created using the <a href="/docs/es/API/FunctionClass.html#formula"><code>Formula</code></a> or <a href="/docs/es/API/FunctionClass.html#formula-from-string"><code>Formula from string</code></a> command. En este caso:</p>
<ul>
<li>the <em>formula</em> is evaluated for each entity and must return true or false. During the execution of the query, if the formula's result is not a boolean, it is considered as false.</li>
<li>within the <em>formula</em>, the entity is available through the <code>This</code> object.</li>
<li>si el objeto <code>Formula</code> es <strong>null</strong>, se genera el error 1626 (&quot;Esperando un texto o una fórmula&quot;), que llama a interceptar utilizando un método instalado con <code>ON ERR CALL</code>.</li>
</ul>
<blockquote>
<p>Por razones de seguridad, las llamadas a fórmulas dentro de las funciones <code>query()</code> pueden ser desestimadas. See <em>querySettings</em> parameter description.</p>
</blockquote>
<p><strong>Pasar parámetros a las fórmulas</strong></p>
<p>Todo parámetro <em>formula</em> llamado por la función <code>query()</code> puede recibir parámetros:</p>
<ul>
<li>Parameters must be passed through the <strong>args</strong> property (object) of the <em>querySettings</em> parameter.</li>
<li>The formula receives this <strong>args</strong> object as a <strong>$1</strong> parameter.</li>
</ul>
<p>Este pequeño código muestra los principios de cómo se pasan los parámetros a los métodos:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"args"</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"exclude"</span>;<span class="hljs-string">"-"</span>)) <span class="hljs-comment">//objeto args a pasar los parámetros</span>
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"eval(checkName($1.exclude))"</span>;<span class="hljs-variable">$settings</span>) <span class="hljs-comment">//args se recibe en $1</span>
</code></pre>
<p>En el ejemplo 3 se ofrecen más ejemplos.</p>
<p><strong>4D Server</strong>: en cliente/servidor, las fórmulas se ejecutan en el servidor. En este contexto, sólo se envía a las fórmulas el objeto <code>querySettings.args</code>.</p>
<p><strong>Parámetro querySettings</strong></p>
<p>En el parámetro <em>querySettings</em> se puede pasar un objeto que contenga opciones adicionales. Se soportan las siguientes propiedades:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>parameters</td><td>Objeto</td><td><strong>Marcadores nombrados para los valores</strong> utilizados en <em>queryString</em> o <em>formula</em>. Los valores se expresan como pares propiedad / valor, donde propiedad es el nombre del marcador de posición insertado para un valor en <em>queryString</em> o <em>formula</em> (&quot;:placeholder&quot;) y valor es el valor a comparar. Puede combinar marcadores de posición indexados (valores pasados directamente en parámetros de valor) y valores de marcadores de posición con nombre en la misma búsqueda.</td></tr>
<tr><td>attributes</td><td>Objeto</td><td><strong>Marcadores nombrados para las rutas de atributos</strong> utilizados en <em>queryString</em> o <em>formula</em>. Los atributos se expresan como pares propiedad / valor, donde propiedad es el nombre del marcador de posición insertado para una ruta de atributo en <em>queryString</em> o <em>formula</em> (&quot;:placeholder&quot;) y valor puede ser una cadena o una colección de cadenas. Cada valor es una ruta que puede designar un escalar o un atributo relacionado de la dataclass o una propiedad en un campo de objeto de la dataclass<p><table><tr><th>Tipo</th><th>Descripción</th></tr><tr><td>Cadena</td><td>attributePath expresado con la notación de puntos, por ejemplo: &quot;name&quot; o &quot;user.address.zipCode&quot;</td></tr><tr><td>Colección de cadenas</td><td>Cada cadena de la colección representa un nivel de attributePath, por ejemplo: [&quot;name&quot;] o [&quot;user&quot;,&quot;address&quot;,&quot;zipCode&quot;]. El uso de una colección permite consultar atributos con nombres que no se ajustan a la notación de puntos, por ejemplo, [&quot;4Dv17.1&quot;, &quot;en/fr&quot;]</td></tr></table>Puede combinar marcadores de posición indexados (valores pasados directamente en los parámetros <em>value</em>) y los valores de marcadores de posición con nombre en la misma búsqueda.</td></tr>
<tr><td>args</td><td>Objeto</td><td>Parámetro(s) a pasar a las fórmulas, si las hay. El objeto <strong>args</strong> se recibirá en $1 dentro de las fórmulas y, por tanto, sus valores estarán disponibles a través de <em>$1.property</em> (ver ejemplo 3).</td></tr>
<tr><td>allowFormulas</td><td>Booleano</td><td>True para permitir las llamadas de fórmulas en la búsqueda (por defecto). Pase false para desautorizar la ejecución de fórmulas. Si se establece como false y <code>query()</code> recibe una fórmula, se envía un error (1278 - Fórmula no permitida en este método miembro).</td></tr>
<tr><td>context</td><td>Texto</td><td>Etiqueta para el contexto de optimización automática aplicado a la entity selection. This context will be used by the code that handles the entity selection so that it can benefit from the optimization. Esta función está diseñada para el procesamiento cliente/servidor; para más información, consulte la sección <strong>Optimización cliente/servidor</strong>.</td></tr>
<tr><td>queryPlan</td><td>Booleano</td><td>En la entity selection resultante, devuelve o no la descripción detallada de la búsqueda justo antes de que se ejecute, es decir, la búsqueda planificada. La propiedad devuelta es un objeto que incluye cada búsqueda y sub búsqueda prevista (en el caso de una búsqueda compleja). Esta opción es útil durante la fase de desarrollo de una aplicación. Suele utilizarse junto con queryPath. Por defecto si se omite: false. <strong>Nota</strong>: esta propiedad sólo la soportan las funciones <code>entitySelection.query()</code> y <code>dataClass.query()</code>.</td></tr>
<tr><td>queryPath</td><td>Booleano</td><td>En la entity selection resultante, devuelve o no la descripción detallada de la búsqueda tal cual es realizada. La propiedad devuelta es un objeto que contiene la ruta utilizada para la búsqueda (normalmente idéntica a la de queryPlan, pero puede diferir si el motor consigue optimizar la búsqueda), así como el tiempo de procesamiento y el número de registros encontrados. Esta opción es útil durante la fase de desarrollo de una aplicación. Por defecto si se omite: false. <strong>Nota</strong>: esta propiedad sólo la soportan las funciones <code>entitySelection.query()</code> y <code>dataClass.query()</code>.</td></tr>
</tbody>
</table>
<p><strong>Sobre queryPlan y queryPath</strong></p>
<p>La información registrada en <code>queryPlan</code>/<code>queryPath</code> incluye el tipo de búsqueda (indexada y secuencial) y cada subconsulta necesaria junto con los operadores de conjunción. Las rutas de acceso de las peticiones también contienen el número de entidades encontradas y el tiempo necesario para ejecutar cada criterio de búsqueda. Puede resultarle útil analizar esta información mientras desarrolla sus aplicaciones. Generalmente, la descripción del plan de consulta y su ruta de acceso son idénticas, pero pueden diferir porque 4D puede implementar optimizaciones dinámicas cuando se ejecuta una consulta para mejorar el rendimiento. Por ejemplo, el motor 4D puede convertir dinámicamente una consulta indexada en una secuencial si estima que es más rápida. Este caso concreto puede darse cuando el número de entidades que se buscan es bajo.</p>
<p>Por ejemplo, si ejecuta la siguiente búsqueda:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$sel</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"salary &lt; :1 and employer.name = :2 or employer.revenues &gt; :3"</span>;\  
 <span class="hljs-number">50000</span>;<span class="hljs-string">"Lima West Kilo"</span>;<span class="hljs-number">10000000</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"queryPath"</span>;<span class="hljs-literal">True</span>;<span class="hljs-string">"queryPlan"</span>;<span class="hljs-literal">True</span>))
</code></pre>
<p>queryPlan:</p>
<pre><code class="hljs css language-4d">{Or:[{And:[{item:[index : Employee.salary ] &lt; <span class="hljs-number">50000</span>},  
    {item:Join on Table : Company  :  Employee.employerID = Company.ID,  
    subquery:[{item:[index : Company.name ] = Lima West Kilo}]}]},  
    {item:Join on Table : Company  :  Employee.employerID = Company.ID,  
    subquery:[{item:[index : Company.revenues ] &gt; <span class="hljs-number">10000000</span>}]}]}
</code></pre>
<p>queryPath:</p>
<pre><code class="hljs css language-4d">{steps:[{description:OR,time:<span class="hljs-number">63</span>,recordsfounds:<span class="hljs-number">1388132</span>,  
    steps:[{description:AND,time:<span class="hljs-number">32</span>,recordsfounds:<span class="hljs-number">131</span>,  
    steps:[{description:[index : Employee.salary ] &lt; <span class="hljs-number">50000</span>,time:<span class="hljs-number">16</span>,recordsfounds:<span class="hljs-number">728260</span>},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:<span class="hljs-number">0</span>,recordsfounds:<span class="hljs-number">131</span>,  
    steps:[{steps:[{description:[index : Company.name ] = Lima West Kilo,time:<span class="hljs-number">0</span>,recordsfounds:<span class="hljs-number">1</span>}]}]}]},{description:Join on Table : Company  :  Employee.employerID = Company.ID,time:<span class="hljs-number">31</span>,recordsfounds:<span class="hljs-number">1388132</span>,  
    steps:[{steps:[{description:[index : Company.revenues ] &gt; <span class="hljs-number">10000000</span>,time:<span class="hljs-number">0</span>,recordsfounds:<span class="hljs-number">933</span>}]}]}]}]}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-4"></a><a href="#ejemplo-1-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<p>Esta sección ofrece varios ejemplos de búsquedas.</p>
<p>Consultas en una cadena:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName = 'S@'"</span>)
</code></pre>
<p>Búsqueda con una instrucción NOT:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"not(firstName=Kim)"</span>)
</code></pre>
<p>Búsquedas con fechas:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"birthDate &gt; :1"</span>;<span class="hljs-string">"1970-01-01"</span>)
<span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"birthDate &lt;= :1"</span>;Current date<span class="hljs-number">-10950</span>)
</code></pre>
<p>Búsqueda con marcadores de posición indexados para los valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)"</span>;<span class="hljs-string">"D@"</span>;<span class="hljs-string">"R@"</span>;<span class="hljs-string">"S@"</span>;<span class="hljs-string">"K@"</span>)
</code></pre>
<p>Búsqueda con marcadores de posición indexados para valores en una dataclass relacionada:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"lastName = :1 and manager.lastName = :2"</span>;<span class="hljs-string">"M@"</span>;<span class="hljs-string">"S@"</span>)
</code></pre>
<p>Búsqueda con marcador de posición indexado que incluye una instrucción de orden descendente:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Student.<span class="hljs-function">query</span>(<span class="hljs-string">"nationality = :1 order by campus.name desc, lastname"</span>;<span class="hljs-string">"French"</span>)
</code></pre>
<p>Búsqueda con marcadores de posición con nombre para los valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$managedCustomers </span>: cs.CustomerSelection
<span class="hljs-variable">$querySettings</span>:=New object
<span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"userId"</span>;<span class="hljs-number">1234</span>;<span class="hljs-string">"extraInfo"</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Smith"</span>))
<span class="hljs-variable">$managedCustomers</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"salesperson.userId = :userId and name = :extraInfo.name"</span>;<span class="hljs-variable">$querySettings</span>)
</code></pre>
<p>Búsqueda que utiliza marcadores de posición con nombre e indexados para los valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
var</span> <span class="hljs-variable">$managedCustomers </span>: cs.CustomerSelection
<span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"userId"</span>;<span class="hljs-number">1234</span>)
<span class="hljs-variable">$managedCustomers</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">"salesperson.userId = :userId and name=:1"</span>;<span class="hljs-string">"Smith"</span>;<span class="hljs-variable">$querySettings</span>)
</code></pre>
<p>Búsqueda con objetos queryPlan y queryPath:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"(firstName = :1 or firstName = :2) and (lastName = :3 or lastName = :4)"</span>;<span class="hljs-string">"D@"</span>;<span class="hljs-string">"R@"</span>;<span class="hljs-string">"S@"</span>;<span class="hljs-string">"K@"</span>;<span class="hljs-function">New object</span>(<span class="hljs-string">"queryPlan"</span>;<span class="hljs-literal">True</span>;<span class="hljs-string">"queryPath"</span>;<span class="hljs-literal">True</span>))

  <span class="hljs-comment">//puede obtener estas propiedades en la selección de entidades resultante</span><span class="hljs-keyword">
var</span> <span class="hljs-variable">$queryPlan</span>; <span class="hljs-variable">$queryPath </span>: Object
<span class="hljs-variable">$queryPlan</span>:=<span class="hljs-variable">$entitySelection</span>.queryPlan
<span class="hljs-variable">$queryPath</span>:=<span class="hljs-variable">$entitySelection</span>.queryPath
</code></pre>
<p>Búsqueda con una ruta de atributo de tipo Collection:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"extraInfo.hobbies[].name = :1"</span>;<span class="hljs-string">"horsebackriding"</span>)
</code></pre>
<p>Búsqueda con una ruta de atributos de tipo Collection y atributos vinculados:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"extraInfo.hobbies[a].name = :1 and extraInfo.hobbies[a].level=:2"</span>;<span class="hljs-string">"horsebackriding"</span>;<span class="hljs-number">2</span>)
</code></pre>
<p>Búsqueda con una ruta de atributos de tipo Collection y múltiples atributos vinculados:</p>
<pre><code class="hljs css language-4d">$entitySelection:=ds.Employee.query("extraInfo.hobbies[a].name = :1 and
    extraInfo.hobbies[a].level = :2 and extraInfo.hobbies[b].name = :3 and
    extraInfo.hobbies[b].level = :4";"horsebackriding";2;"Tennis";5)
</code></pre>
<p>Búsqueda con una ruta de atributo de tipo Objeto:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"extra.eyeColor = :1"</span>;<span class="hljs-string">"blue"</span>)
</code></pre>
<p>Búsqueda con una instrucción IN:</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"firstName in :1"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"Kim"</span>;<span class="hljs-string">"Dixie"</span>))
</code></pre>
<p>Búsqueda con instrucción NOT (IN):</p>
<pre><code class="hljs css language-4d"><span class="hljs-variable">$entitySelection</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">"not (firstName in :1)"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"John"</span>;<span class="hljs-string">"Jane"</span>))
</code></pre>
<p>Búsqueda con marcadores de posición indexados para los atributos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection
<span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">":1 = 1234 and :2 = 'Smith'"</span>;<span class="hljs-string">"salesperson.userId"</span>;<span class="hljs-string">"name"</span>)
  <span class="hljs-comment">//salesperson es una entidad relacionada</span>
</code></pre>
<p>Búsqueda con marcadores de posición indexados para los atributos y marcadores de posición con nombre para los valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection<span class="hljs-keyword">
var</span> <span class="hljs-variable">$querySettings </span>: Object
<span class="hljs-variable">$querySettings</span>:=New object
<span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"customerName"</span>;<span class="hljs-string">"Smith"</span>)
<span class="hljs-variable">$es</span>:=ds.Customer.<span class="hljs-function">query</span>(<span class="hljs-string">":1 = 1234 and :2 = :customerName"</span>;<span class="hljs-string">"salesperson.userId"</span>;<span class="hljs-string">"name"</span>;<span class="hljs-variable">$querySettings</span>)
  <span class="hljs-comment">//salesperson es una entidad relacionada</span>
</code></pre>
<p>Búsqueda con marcadores de posición indexados para los atributos y los valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection
<span class="hljs-variable">$es</span>:=ds.Clients.<span class="hljs-function">query</span>(<span class="hljs-string">":1 = 1234 and :2 = :3"</span>;<span class="hljs-string">"salesperson.userId"</span>;<span class="hljs-string">"name"</span>;<span class="hljs-string">"Smith"</span>)
  <span class="hljs-comment">//salesperson es una entidad relacionada</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-4"></a><a href="#ejemplo-2-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<p>Esta sección ilustra las búsquedas con marcadores de posición con nombre para los atributos.</p>
<p>Dada una dataclass Employee con 2 entidades:</p>
<p>Entidad 1:</p>
<pre><code class="hljs css language-4d">name: <span class="hljs-string">"Marie"</span>
number: <span class="hljs-number">46</span>
softwares:{
<span class="hljs-string">"Word 10.2"</span>: <span class="hljs-string">"Installed"</span>,
<span class="hljs-string">"Excel 11.3"</span>: <span class="hljs-string">"To be upgraded"</span>,
<span class="hljs-string">"Powerpoint 12.4"</span>: <span class="hljs-string">"Not installed"</span>
}
</code></pre>
<p>Entidad 2:</p>
<pre><code class="hljs css language-4d">name: <span class="hljs-string">"Sophie"</span>
number: <span class="hljs-number">47</span>
softwares:{
<span class="hljs-string">"Word 10.2"</span>: <span class="hljs-string">"Not installed"</span>,
<span class="hljs-string">"Excel 11.3"</span>: <span class="hljs-string">"To be upgraded"</span>,
<span class="hljs-string">"Powerpoint 12.4"</span>: <span class="hljs-string">"Not installed"</span>
}
</code></pre>
<p>Búsqueda con marcadores de posición con nombre para los atributos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection
 <span class="hljs-variable">$querySettings</span>:=New object
 <span class="hljs-variable">$querySettings</span>.attributes:=<span class="hljs-function">New object</span>(<span class="hljs-string">"attName"</span>;<span class="hljs-string">"name"</span>;<span class="hljs-string">"attWord"</span>;<span class="hljs-function">New collection</span>(<span class="hljs-string">"softwares"</span>;<span class="hljs-string">"Word 10.2"</span>))
 <span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">":attName = 'Marie' and :attWord = 'Installed'"</span>;<span class="hljs-variable">$querySettings</span>)
  <span class="hljs-comment">//$es.length=1 (Employee Marie)</span>
</code></pre>
<p>Búsqueda con marcadores de posición con nombre para los atributos y los valores:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$querySettings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$es </span>: cs.EmployeeSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$name </span>: Text
 <span class="hljs-variable">$querySettings</span>:=New object
  <span class="hljs-comment">//Placeholders para los valores</span>
  <span class="hljs-comment">//Se pide al usuario un nombre</span>
 <span class="hljs-variable">$name</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Por favor, introduzca el nombre a buscar:"</span>)<span class="hljs-keyword">
 If</span>(OK=<span class="hljs-number">1</span>)
    <span class="hljs-variable">$querySettings</span>.parameters:=<span class="hljs-function">New object</span>(<span class="hljs-string">"givenName"</span>;<span class="hljs-variable">$name</span>)
  <span class="hljs-comment">//Placeholders para las rutas de atributos</span>
    <span class="hljs-variable">$querySettings</span>.attributes:=<span class="hljs-function">New object</span>(<span class="hljs-string">"attName"</span>;<span class="hljs-string">"name"</span>)
    <span class="hljs-variable">$es</span>:=ds.Employee.<span class="hljs-function">query</span>(<span class="hljs-string">":attName= :givenName"</span>;<span class="hljs-variable">$querySettings</span>)<span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-3-3"></a><a href="#ejemplo-3-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 3</h4>
<p>Estos ejemplos ilustran las distintas formas de utilizar fórmulas con o sin parámetros en sus búsquedas.</p>
<p>La fórmula se da como texto con <code>eval()</code> en el parámetro <em>queryString</em>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"eval(length(This.lastname) &gt;=30) and nationality='French'"</span>)
</code></pre>
<p>La fórmula se da como un objeto <code>Formula</code> a través de un marcador de posición:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.lastname)&gt;=<span class="hljs-number">30</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and nationality='French'"</span>;<span class="hljs-variable">$formula</span>)
</code></pre>
<p>Sólo se da como criterio un objeto <code>Formula</code>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.lastname)&gt;=<span class="hljs-number">30</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-variable">$formula</span>)
</code></pre>
<p>Se pueden aplicar varias fórmulas:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$formula1</span>; <span class="hljs-variable">$1</span>; <span class="hljs-variable">$formula2 </span>;<span class="hljs-variable">$0 </span>: Object
 <span class="hljs-variable">$formula1</span>:=<span class="hljs-variable">$1</span>
 <span class="hljs-variable">$formula2</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Length</span>(<span class="hljs-literal">This</span>.firstname)&gt;=<span class="hljs-number">30</span>)
 <span class="hljs-variable">$0</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and :2 and nationality='French'"</span>;<span class="hljs-variable">$formula1</span>;<span class="hljs-variable">$formula2</span>)
</code></pre>
<p>Una fórmula texto en <em>queryString</em> recibe un parámetro:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings </span>: Object
 <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>()
 <span class="hljs-variable">$settings</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"filter"</span>;<span class="hljs-string">"-"</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">"eval(checkName($1.filter)) and nationality=:1"</span>;<span class="hljs-string">"French"</span>;<span class="hljs-variable">$settings</span>)
</code></pre>
<pre><code class="hljs css language-4d">  <span class="hljs-comment">//checkName method</span>
 #<span class="hljs-function">DECLARE</span>(<span class="hljs-variable">$exclude </span>: Text) -&gt; <span class="hljs-variable">$result </span>: Boolean
 <span class="hljs-variable">$result</span>:=(<span class="hljs-function">Position</span>(<span class="hljs-variable">$exclude</span>;<span class="hljs-literal">This</span>.lastname)=<span class="hljs-number">0</span>)
</code></pre>
<p>Utilizando el mismo método <strong><em>checkName</em></strong>, un objeto <code>Formula</code> como marcador de posición recibe un parámetro:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings</span>; <span class="hljs-variable">$formula </span>: Object
 <span class="hljs-variable">$formula</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">checkName</span>(<span class="hljs-variable">$1</span>.filter))
 <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>()
 <span class="hljs-variable">$settings</span>.args:=<span class="hljs-function">New object</span>(<span class="hljs-string">"filter"</span>;<span class="hljs-string">"-"</span>)
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and nationality=:2"</span>;<span class="hljs-variable">$formula</span>;<span class="hljs-string">"French"</span>;<span class="hljs-variable">$settings</span>)
 <span class="hljs-variable">$settings</span>.args.filter:=<span class="hljs-string">"*"</span> <span class="hljs-comment">// cambiar los parámetros sin actualizar el objeto $formula</span>
 <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-string">":1 and nationality=:2"</span>;<span class="hljs-variable">$formula</span>;<span class="hljs-string">"French"</span>;<span class="hljs-variable">$settings</span>)
</code></pre>
<p>Queremos desautorizar las fórmulas, por ejemplo, cuando el usuario introduce su consulta:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$es </span>: cs.StudentsSelection<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$settings </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$queryString </span>: Text
 <span class="hljs-variable">$queryString</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Enter your query:"</span>)
<span class="hljs-function"> if</span>(OK=<span class="hljs-number">1</span>)
    <span class="hljs-variable">$settings</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"allowFormulas"</span>;<span class="hljs-literal">False</span>)
    <span class="hljs-variable">$es</span>:=ds.Students.<span class="hljs-function">query</span>(<span class="hljs-variable">$queryString</span>;<span class="hljs-variable">$settings</span>) <span class="hljs-comment">//Se produce un error si $queryString contiene una fórmula</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ver-también-3"></a><a href="#ver-también-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ver también</h4>
<p><a href="/docs/es/API/EntitySelectionClass.html#query"><code>.query()</code></a> para selecciones de entidades</p>
<h2><a class="anchor" aria-hidden="true" id="setremotecachesettings"></a><a href="#setremotecachesettings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.setRemoteCacheSettings()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v19 R5</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.setRemoteCacheSettings</strong>(<em>settings</em> : Object)</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>parámetros</td><td>Objeto</td><td>-&gt;</td><td>Object that sets the timeout and maximum size of the ORDA cache for the dataclass.</td></tr>
</tbody>
</table>
<blockquote>
<p><strong>Modo avanzado:</strong> esta función está pensada para los desarrolladores que necesitan personalizar las funcionalidades por defecto de ORDA para configuraciones específicas. En la mayoría de los casos, no será necesario utilizarla.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="descripción-12"></a><a href="#descripción-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>.setRemoteCacheSettings()</code> function sets the timeout and maximum size of the ORDA cache for a dataclass..</p>
<p>In the <em>settings</em> parameter, pass an object with the following properties:</p>
<table>
<thead>
<tr><th>Propiedad</th><th>Tipo</th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>timeout</td><td>Integer</td><td>Tiempo de espera en segundos.</td></tr>
<tr><td>maxEntries</td><td>Integer</td><td>Número máximo de entidades.</td></tr>
</tbody>
</table>
<p><code>timeout</code> sets the timeout of the ORDA cache for the dataclass (default is 30 seconds). Once the timeout has passed, the entities of the dataclass in the cache are considered as expired. This means that:</p>
<ul>
<li>the data is still there</li>
<li>the next time the data is needed, it will be asked to the server</li>
<li>4D automatically removes expired data when the maximum number of entities is reached</li>
</ul>
<p>Setting a <code>timeout</code> property sets a new timeout for the entities already present in the cache. It is useful when working with data that does not change very frequently, and thus when new requests to the server are not necessary.</p>
<p><code>maxEntries</code> sets the max number of entities in the ORDA cache. Default is 30 000.</p>
<p>The minimum number of entries is 300, so the value of <code>maxEntries</code> must be equal to or higher than 300. Otherwise it is ignored and the maximum number of entries is set to 300.</p>
<p>If no valid properties are passed as <code>timeout</code> and <code>maxEntries</code>, the cache remains unchanged, with its default or previously set values.</p>
<p>When an entity is saved, it is updated in the cache and expires once the timeout is reached.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-12"></a><a href="#ejemplo-12" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword">var</span> <span class="hljs-variable">$ds </span>: 4D.DataStoreImplementation

<span class="hljs-variable">$ds</span>:=<span class="hljs-function">Open datastore</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"hostname"</span>; <span class="hljs-string">"www.myserver.com"</span>); <span class="hljs-string">"myDS"</span>)

<span class="hljs-variable">$ds</span>.Buildings.<span class="hljs-function">setRemoteCacheSettings</span>(<span class="hljs-function">New object</span>(<span class="hljs-string">"timeout"</span>; <span class="hljs-number">60</span>; <span class="hljs-string">"maxEntries"</span>; <span class="hljs-number">350</span>))
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ver-también-4"></a><a href="#ver-también-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ver también</h4>
<p><a href="#clearremotecache">.clearRemoteCache()</a><br/><a href="#clearremotecache">.getRemoteCache()</a></p>
<style> h2 { background: #d9ebff;}</style>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/es/API/CryptoKeyClass.html"><span class="arrow-prev">← </span><span class="function-name-prevnext">CryptoKey</span></a><a class="docs-next button" href="/docs/es/API/DataClassAttributeClass.html"><span class="function-name-prevnext">DataClassAttribute</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#attributename">.<em>attributeName</em></a></li><li><a href="#all">.all()</a></li><li><a href="#clearremotecache">.clearRemoteCache()</a></li><li><a href="#fromcollection">.fromCollection()</a></li><li><a href="#get">.get()</a></li><li><a href="#getcount">.getCount()</a></li><li><a href="#getdatastore">.getDataStore()</a></li><li><a href="#getinfo">.getInfo()</a></li><li><a href="#getremotecache">.getRemoteCache()</a></li><li><a href="#new">.new()</a></li><li><a href="#newselection">.newSelection()</a></li><li><a href="#query">.query()</a></li><li><a href="#setremotecachesettings">.setRemoteCacheSettings()</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2f94e2c8270ac2b1db0c23691592fb10',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:es","version:19 R4 BETA"]}
              });
            </script></body></html>