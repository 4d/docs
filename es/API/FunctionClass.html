<!DOCTYPE html><html lang="es"><head><meta name="docsearch:version" content="19 R6 BETA"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Formula · 4D Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Los comandos [Formula](#formula) y [Formula from string](#formula-from-string) le permiten crear los [objetos `4D.Function`](#about-4dfunction-objects) para ejecutar toda expresión o código 4D expresado como texto."/><meta name="docsearch:language" content="es"/><meta property="og:title" content="Formula · 4D Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://4d.github.io/docs/index.html"/><meta property="og:description" content="Los comandos [Formula](#formula) y [Formula from string](#formula-from-string) le permiten crear los [objetos `4D.Function`](#about-4dfunction-objects) para ejecutar toda expresión o código 4D expresado como texto."/><meta property="og:image" content="https://4d.github.io/docs/img/logohome.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://4d.github.io/docs/img/logohome.png"/><link rel="shortcut icon" href="/docs/img/4d.gif"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/routeros.min.css"/><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/docs/alpha/js/comment.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/docs/js/code-blocks-buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/es"><h2 class="headerTitle">4D Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a style="font-weight:bold" href="https://developer.4d.com/docs" target="_self">v19 R6 BETA</a></li><li class=""><a href="https://developer.4d.com/docs/Rx" target="_self">v19 R5</a></li><li class=""><a href="https://developer.4d.com/docs/19" target="_self">v19</a></li><li class=""><a href="https://developer.4d.com/docs/18" target="_self">v18</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/docs/img/language.svg" alt="Languages icon"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/API/FunctionClass.html">English</a></li><li><a href="/docs/ja/API/FunctionClass.html">日本語</a></li><li><a href="/docs/de/API/FunctionClass.html">Deutsch</a></li><li><a href="/docs/fr/API/FunctionClass.html">Français</a></li><li><a href="/docs/pt/API/FunctionClass.html">Português</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Clases API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Gestión de proyecto<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Project/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Project/architecture.html">Arquitectura de un proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Project/documentation.html">Documentar un proyecto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Project/compiler.html">Compilación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Conceptos del lenguaje 4D<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/about.html">Acerca del lenguaje 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/quick-tour.html">Un recorrido rápido</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/operators.html">Operadores</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Data Types</h4><ul><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/data-types.html">Tipos de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/blob.html">BLOB</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/boolean.html">Booleano</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/collection.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/date.html">Fecha</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/null-undefined.html">Null e indefinido</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/number.html">Número (Real, Entero largo, Entero)</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/object.html">Objeto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/picture.html">Imagen</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/pointer.html">Puntero</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/string.html">Cadena</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/time.html">Hora</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/variant.html">Variant</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/variables.html">Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/arrays.html">Arrays</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/methods.html">Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/parameters.html">Parámetros</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/shared.html">Objetos y colecciones compartidos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/classes.html">Clases</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Control Flow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/control-flow.html">Condiciones y bucles</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/branching.html">Estructuras condicionales</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/looping.html">Estructuras repetitivas (bucles)</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/error-handling.html">Gestión de errores</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/interpreted-compiled.html">Modos interpretado y compilado</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/components.html">Componentes</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/plug-ins.html">Plug-ins</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Concepts/identifiers.html">Identificadores</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ORDA<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/overview.html">¿Qué es ORDA?</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/dsmapping.html">Objeto del modelo de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/ordaClasses.html">Clases del modelo de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/entities.html">Trabajar con los datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/datastores.html">Utilizar un almacén de datos remoto</a></li><li class="navListItem"><a class="navItem" href="/docs/es/ORDA/glossary.html">Glosario</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Clases API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/API/overview.html">Generalidades - API de clases</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/BlobClass.html">Blob</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ClassClass.html">Class</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/CollectionClass.html">Collection</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/CryptoKeyClass.html">CryptoKey</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/DataClassClass.html">DataClass</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/DataClassAttributeClass.html">DataClassAttribute</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/DataStoreClass.html">DataStore</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/EmailObjectClass.html">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/EntityClass.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/EntitySelectionClass.html">EntitySelection</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/FileClass.html">File</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/FolderClass.html">Folder</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/es/API/FunctionClass.html">Formula</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/HTTPRequestClass.html">HTTPRequest</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/IMAPTransporterClass.html">IMAPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/MailAttachmentClass.html">MailAttachment</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/POP3TransporterClass.html">POP3Transporter</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SessionClass.html">Sesión</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SignalClass.html">Signal</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SMTPTransporterClass.html">SMTPTransporter</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/SystemWorkerClass.html">SystemWorker</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/WebServerClass.html">WebServer</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ZipArchiveClass.html">ZIPArchive</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ZipFileClass.html">ZIPFile</a></li><li class="navListItem"><a class="navItem" href="/docs/es/API/ZipFolderClass.html">ZIPFolder</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Handling Code<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/code-editor/overview.html">Sobre el código 4D</a></li><li class="navListItem"><a class="navItem" href="/docs/es/code-editor/write-class-method.html">Editor de código</a></li><li class="navListItem"><a class="navItem" href="/docs/es/code-editor/find-replace.html">Buscar y reemplazar</a></li><li class="navListItem"><a class="navItem" href="/docs/es/code-editor/creating-using-macros.html">Creación y uso de macros</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Tags/tags.html">Etiquetas de transformación</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Depuración<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/basics.html">Básicos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/debugger.html">Depurador</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/breakpoints.html">Puntos de ruptura y captura de comandos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/debugging-remote.html">Depuración desde máquinas remotas</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Debugging/debugLogFiles.html">Descripción de los archivos de historial</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Settings<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/settings/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/general.html">Página General</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/interface.html">Página interfaz</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/compiler.html">Página Compilador</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/database.html">Página Base de datos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/backup.html">Página de respaldo</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/client-server.html">Página Cliente/Servidor</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/web.html">Página Web</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/sql.html">Página SQL</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/php.html">Págin PHP</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/security.html">Página seguridad</a></li><li class="navListItem"><a class="navItem" href="/docs/es/settings/compatibility.html">Página de compatibilidad</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Preferencias<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/overview.html">Generalidades</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/general.html">Página general</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/structure.html">Página Estructura</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/forms.html">Página formulario</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/methods.html">Página Métodos</a></li><li class="navListItem"><a class="navItem" href="/docs/es/Preferences/shortcuts.html">Página Atajos</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/4D/docs/edit/master/docs/API/FunctionClass.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Formula</h1></header><article><div><span><p>Los comandos <a href="#formula">Formula</a> y <a href="#formula-from-string">Formula from string</a> le permiten crear los <a href="#about-4dfunction-objects">objetos <code>4D.Function</code></a> para ejecutar toda expresión o código 4D expresado como texto.</p>
<h3><a class="anchor" aria-hidden="true" id="objetos-formula"></a><a href="#objetos-formula" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Objetos Formula</h3>
<p>Los objetos Formula pueden encapsularse en las propiedades de objeto:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$f</span>:=New object
 <span class="hljs-variable">$f</span>.message:=<span class="hljs-function">Formula</span>(<span class="hljs-function">ALERT</span>(<span class="hljs-string">"Hello world"</span>))
</code></pre>
<p>Esta propiedad es una &quot;función objeto&quot;, es decir una función que está vinculada a su objeto padre. Para ejecutar una función almacenada en una propiedad objeto, utilice el operador <strong>()</strong> después del nombre de la propiedad, como:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$f</span>.<span class="hljs-function">message</span>() <span class="hljs-comment">//muestra "Hello world"</span>
</code></pre>
<p>También se admite la sintaxis con paréntesis:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$f</span>[<span class="hljs-string">"message"</span>]() <span class="hljs-comment">//muestra "Hello world"</span>
</code></pre>
<p>Tenga en cuenta que, aunque no tenga parámetros (ver arriba), una función objeto a ejecutar debe ser llamada con paréntesis ( ). Llamar sólo a la propiedad del objeto devolverá una nueva referencia a la fórmula (y no la ejecutará):</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$o</span>:=<span class="hljs-variable">$f</span>.message <span class="hljs-comment">//devuelve el objeto fórmula en $o </span>
</code></pre>
<p>Para ejecutar una función utilizando las funciones <a href="#apply"><code>apply()</code></a> y <a href="#call"><code>call()</code></a>:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$f</span>.message.<span class="hljs-function">apply</span>() <span class="hljs-comment">//muestra "Hello world"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="paso-de-parámetros"></a><a href="#paso-de-parámetros" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Paso de parámetros</h4>
<p>Puede pasar parámetros a sus fórmulas utilizando la <a href="/docs/es/Concepts/parameters.html#sequential-parameters">sintaxis secuencial de los parámetros</a> basada en $1, $2...$n. Por ejemplo, puede escribir:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: Object
 <span class="hljs-variable">$f</span>:=New object
 <span class="hljs-variable">$f</span>.message:=<span class="hljs-function">Formula</span>(<span class="hljs-function">ALERT</span>(<span class="hljs-string">"Hello "</span>+<span class="hljs-variable">$1</span>))
 <span class="hljs-variable">$f</span>.<span class="hljs-function">message</span>(<span class="hljs-string">"John"</span>) <span class="hljs-comment">//muestra "Hello John"</span>
</code></pre>
<p>O utilizando la función <a href="#call">.call()</a>:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: Object
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-variable">$1</span>+<span class="hljs-string">" "</span>+<span class="hljs-variable">$2</span>)
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"Hello"</span>;<span class="hljs-string">"World"</span>) <span class="hljs-comment">//devuelve "Hello World"</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"Welcome to"</span>;<span class="hljs-function">String</span>(<span class="hljs-function">Year of</span>(Current date))) <span class="hljs-comment">//devuelve "Welcome to 2019" (por ejemplo)</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="parámetros-de-un-solo-método"></a><a href="#parámetros-de-un-solo-método" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parámetros de un solo método</h4>
<p>Para mayor comodidad, cuando la fórmula se compone de un único método proyecto, se pueden omitir los parámetros en la inicialización del objeto fórmula. Simplemente se pueden pasar la fórmula se llama. Por ejemplo:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>

 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(myMethod)
  <span class="hljs-comment">//Writing Formula(myMethod($1;$2)) no es necesario</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"Hello"</span>;<span class="hljs-string">"World"</span>) <span class="hljs-comment">//devuelve "Hello World"</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>() <span class="hljs-comment">//devuelve "How are you?"</span>

  <span class="hljs-comment">//myMethod</span>
 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$param1 </span>: Text; <span class="hljs-variable">$param2 </span>: Text)-&gt;<span class="hljs-variable">$return </span>: Text<span class="hljs-keyword">
 If</span>(Count parameters=<span class="hljs-number">2</span>)
    <span class="hljs-variable">$return</span>:=<span class="hljs-variable">$param1</span>+<span class="hljs-string">" "</span>+<span class="hljs-variable">$param2</span><span class="hljs-keyword">
 Else</span>
    <span class="hljs-variable">$return</span>:=<span class="hljs-string">"How are you?"</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<p>Los parámetros se reciben en el método, en el orden en que se especifican en la llamada.</p>
<h3><a class="anchor" aria-hidden="true" id="sobre-los-objetos-4dfunction"></a><a href="#sobre-los-objetos-4dfunction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sobre los objetos 4D.Function</h3>
<p>Un objeto <code>4D.Function</code> contiene un trozo de código que puede ser ejecutado desde un objeto, ya sea utilizando el operador <code>()</code>, o utilizando las funciones <a href="#apply"><code>apply()</code></a> y <a href="#call"><code>call()</code></a>. 4D propone tres tipos de objetos Function:</p>
<ul>
<li>las funciones nativas, es decir, las funciones integradas de varias clases 4D tales como <code>collection.sort()</code> o <code>file.copyTo()</code>.</li>
<li>las funciones usuario, creadas en las <a href="/docs/es/Concepts/classes.html">clases</a> usuario utilizando la <a href="/docs/es/Concepts/classes.html#function">palabra clave Function</a>.</li>
<li>las funciones de fórmula, es decir, las funciones que pueden ejecutar cualquier fórmula 4D.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="resumen"></a><a href="#resumen" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resumen</h3>
<table>
<thead>
<tr><th></th></tr>
</thead>
<tbody>
<tr><td><a href="#apply"> <strong>.apply</strong>() : any<br><strong>.apply</strong>( <em>thisObj</em> : Object { ; <em>formulaParams</em> : Collection } ) : any</a><p>    ejecuta el objeto <code>formula</code> al que se aplica y devuelve el valor resultante&lt;!-- END REF --. El objeto fórmula puede ser creado con los comandos <code>Formula</code> o</td></tr>
</tbody>
</table>
<p><code>Formula from string</code>.</p>
<p>En el parámetro <em>thisObj</em>, puede pasar una referencia al objeto que se utilizará como <code>This</code> dentro de la fórmula.</p>
<p>También puede pasar una colección que se utilizará como parámetros $1...$n en la fórmula utilizando el parámetro opcional <em>formulaParams</em>.</p>
<p>Tenga en cuenta que <code>.apply()</code> es similar a <a href="#call"><code>.call()</code></a> excepto que los parámetros se pasan como una colección. Esto puede ser útil para pasar los resultados calculados.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1"></a><a href="#ejemplo-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>

 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(myMethod)
  <span class="hljs-comment">//Writing Formula(myMethod($1;$2)) no es necesario</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"Hello"</span>;<span class="hljs-string">"World"</span>) <span class="hljs-comment">//devuelve "Hello World"</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>() <span class="hljs-comment">//devuelve "How are you?"</span>

  <span class="hljs-comment">//myMethod</span>
 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$param1 </span>: Text; <span class="hljs-variable">$param2 </span>: Text)-&gt;<span class="hljs-variable">$return </span>: Text<span class="hljs-keyword">
 If</span>(Count parameters=<span class="hljs-number">2</span>)
    <span class="hljs-variable">$return</span>:=<span class="hljs-variable">$param1</span>+<span class="hljs-string">" "</span>+<span class="hljs-variable">$param2</span><span class="hljs-keyword">
 Else</span>
    <span class="hljs-variable">$return</span>:=<span class="hljs-string">"How are you?"</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2"></a><a href="#ejemplo-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$calc </span>: 4D.<span class="hljs-keyword">Function</span><span class="hljs-keyword">
 var</span> <span class="hljs-variable">$feta</span>; <span class="hljs-variable">$robot </span>: Object
 <span class="hljs-variable">$robot</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Robot"</span>;<span class="hljs-string">"price"</span>;<span class="hljs-number">543</span>;<span class="hljs-string">"quantity"</span>;<span class="hljs-number">2</span>)
 <span class="hljs-variable">$feta</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Feta"</span>;<span class="hljs-string">"price"</span>;<span class="hljs-number">12.5</span>;<span class="hljs-string">"quantity"</span>;<span class="hljs-number">5</span>)

 <span class="hljs-variable">$calc</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.total:=<span class="hljs-literal">This</span>.price*<span class="hljs-literal">This</span>.quantity)

 <span class="hljs-variable">$calc</span>.<span class="hljs-function">apply</span>(<span class="hljs-variable">$feta</span>) <span class="hljs-comment">// $feta={name:Feta,price:12.5,quantity:5,total:62.5}</span>
 <span class="hljs-variable">$calc</span>.<span class="hljs-function">apply</span>(<span class="hljs-variable">$robot</span>) <span class="hljs-comment">// $robot={name:Robot,price:543,quantity:2,total:1086}</span>
</code></pre>
<p>|
| <a href="#call"> <strong>.call</strong>() : any<br><strong>.call</strong>( <em>thisObj</em> : Object { ; ...<em>params</em> : any } ) : any</a><p>    ejecuta el objeto <code>formula</code> al que se aplica y devuelve el valor resultante&lt;!-- END REF --. El objeto fórmula puede ser creado con los comandos <code>Formula</code> o</p>
<p><code>Formula from string</code>.</p>
<p>En el parámetro <em>thisObj</em>, puede pasar una referencia al objeto que se utilizará como <code>This</code> dentro de la fórmula.</p>
<p>También puede pasar los valores a utilizar como parámetros <em>$1...$n</em> en la fórmula utilizando el parámetro opcional <em>params</em>).</p>
<p>Tenga en cuenta que <code>.call()</code> es similar a <a href="#apply"><code>.apply()</code></a> excepto que los parámetros se pasan directamente.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-1"></a><a href="#ejemplo-1-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Uppercase</span>(<span class="hljs-variable">$1</span>))
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"hello"</span>) <span class="hljs-comment">// devuelve "HELLO"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-1"></a><a href="#ejemplo-2-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"value"</span>;<span class="hljs-number">50</span>)
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.value*<span class="hljs-number">2</span>)
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-variable">$o</span>) <span class="hljs-comment">// devuelve 100</span>
</code></pre>
<pre><code class="hljs">|
</code></pre>
<p>| <a href="#source"> <strong>.source</strong> : Text </a><p>    contiene la expresión fuente de la <code>fórmula</code> como texto  |</p>
<h2><a class="anchor" aria-hidden="true" id="formula"></a><a href="#formula" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Formula</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Renombrado (New formula -&gt; Formula)</td></tr>
<tr><td>v17 R3</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>Formula</strong> ( <em>formulaExp</em> : Expression ) : 4D.Function</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>formulaExp</td><td>Expresión</td><td style="text-align:center">-&gt;</td><td>Fórmula a devolver como objeto</td></tr>
<tr><td>Resultado</td><td>4D.Function</td><td style="text-align:center">&lt;-</td><td>Función nativa que encapsula la fórmula</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción"></a><a href="#descripción" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>El comando <code>Formula</code> crea un objeto <code>4D Function</code> basado en la expresión <em>formulaExp</em>. <em>formulaExp</em> puede ser tan simple como un valor único o complejo, como un método proyecto con parámetros.</p>
<p>Tener una fórmula como objeto permite pasarla como parámetro (atributo calculado) a los comandos o a los métodos o ejecutarla desde varios componentes sin necesidad de declararla como &quot;compartida por los componentes y la base de datos local&quot;. Cuando se llama, el objeto fórmula se evalúa en el contexto de la base de datos o del componente que lo creó.</p>
<p>La fórmula devuelta puede ser llamada con:</p>
<ul>
<li>los métodos <a href="#call"><code>.call()</code></a> o <a href="#apply"><code>.apply()</code></a>, o</li>
<li>object notation syntax (see <a href="#formula-object">formula object</a>).</li>
</ul>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-number">1</span>+<span class="hljs-number">2</span>)
 <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"myFormula"</span>;<span class="hljs-variable">$f</span>)

  <span class="hljs-comment">//tres formas diferentes de llamar a la fórmula</span>
 <span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-variable">$o</span>) <span class="hljs-comment">//devuelve 3</span>
 <span class="hljs-variable">$f</span>.<span class="hljs-function">apply</span>(<span class="hljs-variable">$o</span>) <span class="hljs-comment">//devuelve 3</span>
 <span class="hljs-variable">$o</span>.<span class="hljs-function">myFormula</span>() <span class="hljs-comment">//devuelve 3</span>
</code></pre>
<p>Puede pasar los <a href="#passing-parameters">parámetros</a> a <code>Formula</code>, como se muestra en <a href="#example-4">example-4&quot;&gt;ejemplo 4</a> abajo.</p>
<p>Se puede especificar el objeto sobre el que se ejecuta la fórmula, como se ve en el <a href="#ejemplo-5">ejemplo 5</a>. Se puede acceder a las propiedades del objeto mediante el comando <code>This</code>.</p>
<p>Si <em>formulaExp</em> utiliza variables locales, sus valores se copian y almacenan en el objeto fórmula devuelto durante su creación. Cuando se ejecuta, la fórmula utiliza estos valores copiados en lugar del valor actual de las variables locales. Tenga en cuenta que no se soporta el uso de arrays como variables locales.</p>
<p>El objeto creado por <code>Formula</code> puede guardarse, por ejemplo, en un campo de la base de datos o en un documento blob.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-2"></a><a href="#ejemplo-1-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<p>Una fórmula simple:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-number">1</span>+<span class="hljs-number">2</span>)<span class="hljs-keyword">

 var</span> <span class="hljs-variable">$o </span>: Object
 <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"f"</span>;<span class="hljs-variable">$f</span>)

 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.f() <span class="hljs-comment">// devuelve 3</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-2"></a><a href="#ejemplo-2-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<p>Una fórmula utilizando variables locales:</p>
<pre><code class="hljs css language-4d">

 <span class="hljs-variable">$value</span>:=<span class="hljs-number">10</span>
 <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"f"</span>;<span class="hljs-function">Formula</span>(<span class="hljs-variable">$value</span>))
 <span class="hljs-variable">$value</span>:=<span class="hljs-number">20</span>

 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.f() <span class="hljs-comment">// devuelve 10</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-3"></a><a href="#ejemplo-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 3</h4>
<p>Una fórmula sencilla que utiliza parámetros:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"f"</span>;<span class="hljs-function">Formula</span>(<span class="hljs-variable">$1</span>+<span class="hljs-variable">$2</span>))
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.f(<span class="hljs-number">10</span>;<span class="hljs-number">20</span>) <span class="hljs-comment">//devuelve 30</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-4"></a><a href="#ejemplo-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 4</h4>
<p>Una fórmula utilizando un método proyecto con parámetros:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"f"</span>;<span class="hljs-function">Formula</span>(myMethod))
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.f(<span class="hljs-string">"param1"</span>;<span class="hljs-string">"param2"</span>) <span class="hljs-comment">// equivalente a $result:=myMethod("param1";"param2")</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-5"></a><a href="#ejemplo-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 5</h4>
<p>Utilizando <code>This</code>:</p>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"fullName"</span>;<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.firstName+<span class="hljs-string">" "</span>+<span class="hljs-literal">This</span>.lastName))
 <span class="hljs-variable">$o</span>.firstName:=<span class="hljs-string">"John"</span>
 <span class="hljs-variable">$o</span>.lastName:=<span class="hljs-string">"Smith"</span>
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$o</span>.<span class="hljs-function">fullName</span>() <span class="hljs-comment">//devuelve "John Smith"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-6"></a><a href="#ejemplo-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 6</h4>
<p>Llamar a una fórmula utilizando la notación de objetos:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$feta</span>; <span class="hljs-variable">$robot </span>: Object<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$calc </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$robot</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Robot"</span>;<span class="hljs-string">"price"</span>;<span class="hljs-number">543</span>;<span class="hljs-string">"quantity"</span>;<span class="hljs-number">2</span>)
 <span class="hljs-variable">$feta</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Feta"</span>;<span class="hljs-string">"price"</span>;<span class="hljs-number">12.5</span>;<span class="hljs-string">"quantity"</span>;<span class="hljs-number">5</span>)

 <span class="hljs-variable">$calc</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.total:=<span class="hljs-literal">This</span>.price*<span class="hljs-literal">This</span>.quantity)

  <span class="hljs-comment">//define la fórmula de las propiedades del objeto</span>
 <span class="hljs-variable">$feta</span>.calc:=<span class="hljs-variable">$calc</span>
 <span class="hljs-variable">$robot</span>.calc:=<span class="hljs-variable">$calc</span>

  <span class="hljs-comment">//llama la fórmula</span>
 <span class="hljs-variable">$feta</span>.<span class="hljs-function">calc</span>() <span class="hljs-comment">// $feta={name:Feta,price:12.5,quantity:5,total:62.5,calc:"[object Formula]"}</span>
 <span class="hljs-variable">$robot</span>.<span class="hljs-function">calc</span>() <span class="hljs-comment">// $robot={name:Robot,price:543,quantity:2,total:1086,calc:"[object Formula]"}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="formula-from-string"></a><a href="#formula-from-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Formula from string</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R6</td><td>Renombrado: New formula from string -&gt; Formula from string</td></tr>
<tr><td>v17 R3</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>Formula from string</strong>( <em>formulaString</em> : Text ) : 4D.Function</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>formulaString</td><td>Texto</td><td style="text-align:center">-&gt;</td><td>Fórmula texto a devolver como objeto</td></tr>
<tr><td>Resultado</td><td>4D.Function</td><td style="text-align:center">&lt;-</td><td>Objeto nativo que encapsula la fórmula</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-1"></a><a href="#descripción-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>The <code>Formula from string</code> command creates a 4D.Function object based upon the <em>formulaString</em>.  <em>formulaString</em> puede ser tan simple como un valor único o complejo, como un método proyecto con parámetros.</p>
<p>Este comando es similar a <a href="#formula"><code>Formula</code></a>, excepto que maneja una fórmula basada en texto. En la mayoría de los casos, se recomienda utilizar el comando <code>Formula</code>. <code>Formula from string</code> sólo debe utilizarse cuando la fórmula original fue expresada como texto (por ejemplo, almacenada externamente en un archivo JSON). En este contexto, el uso de la sintaxis con tokens es muy aconsejable.</p>
<blockquote>
<p>Dado que no se puede acceder al contenido de las variables locales por su nombre en el modo compilado, no se pueden utilizar en <em>formulaString</em>. Un intento de acceder a una variable local con <code>Formula from string</code> dará lugar a un error (-10737).</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ejemplo"></a><a href="#ejemplo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<p>El siguiente código creará un diálogo que acepta una fórmula en formato texto:</p>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$textFormula </span>: Text<span class="hljs-keyword">
 var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$textFormula</span>:=<span class="hljs-function">Request</span>(<span class="hljs-string">"Por favor, escriba una fórmula"</span>)<span class="hljs-keyword">
 If</span>(ok=<span class="hljs-number">1</span>)
    <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula from string</span>(<span class="hljs-variable">$textFormula</span>)
<span class="hljs-function">    ALERT</span>(<span class="hljs-string">"Result = "</span>+<span class="hljs-function">String</span>(<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>()))<span class="hljs-keyword">
 End if</span>
</code></pre>
<p><img src="/docs/assets/en/API/formulaDialog.png" alt=""></p>
<p>...y ejecuta la fórmula:</p>
<p><img src="/docs/assets/en/API/formulaAlert.png" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="apply"></a><a href="#apply" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.apply()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R3</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.apply</strong>() : any<br><strong>.apply</strong>( <em>thisObj</em> : Object { ; <em>formulaParams</em> : Collection } ) : any</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th style="text-align:center"></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>thisObj</td><td>Objeto</td><td style="text-align:center">-&gt;</td><td>Objeto a devolver por el comando This en la fórmula</td></tr>
<tr><td>formulaParams</td><td>Collection</td><td style="text-align:center">-&gt;</td><td>Colección de valores que se pasan como $1...$n cuando se ejecuta la <code>fórmula</code></td></tr>
<tr><td>Resultado</td><td>any</td><td style="text-align:center">&lt;-</td><td>Valor obtenido de la ejecución de la fórmula</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-2"></a><a href="#descripción-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La función <code>.apply()</code> ejecuta el objeto <code>formula</code> al que se aplica y devuelve el valor resultante&lt;!-- END REF --. El objeto fórmula puede ser creado con los comandos <code>Formula</code> o</p>
<p><code>Formula from string</code>.</p>
<p>En el parámetro <em>thisObj</em>, puede pasar una referencia al objeto que se utilizará como <code>This</code> dentro de la fórmula.</p>
<p>También puede pasar una colección que se utilizará como parámetros $1...$n en la fórmula utilizando el parámetro opcional <em>formulaParams</em>.</p>
<p>Tenga en cuenta que <code>.apply()</code> es similar a <a href="#call"><code>.call()</code></a> excepto que los parámetros se pasan como una colección. Esto puede ser útil para pasar los resultados calculados.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-3"></a><a href="#ejemplo-1-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>

 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(myMethod)
  <span class="hljs-comment">//Writing Formula(myMethod($1;$2)) no es necesario</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"Hello"</span>;<span class="hljs-string">"World"</span>) <span class="hljs-comment">//devuelve "Hello World"</span>
 <span class="hljs-variable">$text</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>() <span class="hljs-comment">//devuelve "How are you?"</span>

  <span class="hljs-comment">//myMethod</span>
 #<span class="hljs-function">DECLARE </span>(<span class="hljs-variable">$param1 </span>: Text; <span class="hljs-variable">$param2 </span>: Text)-&gt;<span class="hljs-variable">$return </span>: Text<span class="hljs-keyword">
 If</span>(Count parameters=<span class="hljs-number">2</span>)
    <span class="hljs-variable">$return</span>:=<span class="hljs-variable">$param1</span>+<span class="hljs-string">" "</span>+<span class="hljs-variable">$param2</span><span class="hljs-keyword">
 Else</span>
    <span class="hljs-variable">$return</span>:=<span class="hljs-string">"How are you?"</span><span class="hljs-keyword">
 End if</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-3"></a><a href="#ejemplo-2-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$calc </span>: 4D.<span class="hljs-keyword">Function</span><span class="hljs-keyword">
 var</span> <span class="hljs-variable">$feta</span>; <span class="hljs-variable">$robot </span>: Object
 <span class="hljs-variable">$robot</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Robot"</span>;<span class="hljs-string">"price"</span>;<span class="hljs-number">543</span>;<span class="hljs-string">"quantity"</span>;<span class="hljs-number">2</span>)
 <span class="hljs-variable">$feta</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"name"</span>;<span class="hljs-string">"Feta"</span>;<span class="hljs-string">"price"</span>;<span class="hljs-number">12.5</span>;<span class="hljs-string">"quantity"</span>;<span class="hljs-number">5</span>)

 <span class="hljs-variable">$calc</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.total:=<span class="hljs-literal">This</span>.price*<span class="hljs-literal">This</span>.quantity)

 <span class="hljs-variable">$calc</span>.<span class="hljs-function">apply</span>(<span class="hljs-variable">$feta</span>) <span class="hljs-comment">// $feta={name:Feta,price:12.5,quantity:5,total:62.5}</span>
 <span class="hljs-variable">$calc</span>.<span class="hljs-function">apply</span>(<span class="hljs-variable">$robot</span>) <span class="hljs-comment">// $robot={name:Robot,price:543,quantity:2,total:1086}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="call"></a><a href="#call" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.call()</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v17 R3</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.call</strong>() : any<br><strong>.call</strong>( <em>thisObj</em> : Object { ; ...<em>params</em> : any } ) : any</p>
<table>
<thead>
<tr><th>Parámetros</th><th>Tipo</th><th></th><th>Descripción</th></tr>
</thead>
<tbody>
<tr><td>thisObj</td><td>Objeto</td><td>-&gt;</td><td>Objeto a devolver por el comando This en la fórmula</td></tr>
<tr><td>params</td><td>any</td><td>-&gt;</td><td>Valor(es) que se pasa(n) como $1...$n cuando se ejecuta la fórmula</td></tr>
<tr><td>Resultado</td><td>any</td><td>&lt;-</td><td>Valor obtenido de la ejecución de la fórmula</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="descripción-3"></a><a href="#descripción-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La función <code>.call()</code> ejecuta el objeto <code>formula</code> al que se aplica y devuelve el valor resultante&lt;!-- END REF --. El objeto fórmula puede ser creado con los comandos <code>Formula</code> o</p>
<p><code>Formula from string</code>.</p>
<p>En el parámetro <em>thisObj</em>, puede pasar una referencia al objeto que se utilizará como <code>This</code> dentro de la fórmula.</p>
<p>También puede pasar los valores a utilizar como parámetros <em>$1...$n</em> en la fórmula utilizando el parámetro opcional <em>params</em>).</p>
<p>Tenga en cuenta que <code>.call()</code> es similar a <a href="#apply"><code>.apply()</code></a> excepto que los parámetros se pasan directamente.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-1-4"></a><a href="#ejemplo-1-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 1</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$f </span>: 4D.<span class="hljs-keyword">Function</span>
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">Uppercase</span>(<span class="hljs-variable">$1</span>))
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-literal">Null</span>;<span class="hljs-string">"hello"</span>) <span class="hljs-comment">// devuelve "HELLO"</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-2-4"></a><a href="#ejemplo-2-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo 2</h4>
<pre><code class="hljs css language-4d"> <span class="hljs-variable">$o</span>:=<span class="hljs-function">New object</span>(<span class="hljs-string">"value"</span>;<span class="hljs-number">50</span>)
 <span class="hljs-variable">$f</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-literal">This</span>.value*<span class="hljs-number">2</span>)
 <span class="hljs-variable">$result</span>:=<span class="hljs-variable">$f</span>.<span class="hljs-function">call</span>(<span class="hljs-variable">$o</span>) <span class="hljs-comment">// devuelve 100</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="source"></a><a href="#source" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.source</h2>
<p><details><summary>Histórico</summary></p>
<table>
<thead>
<tr><th>Versión</th><th>Modificaciones</th></tr>
</thead>
<tbody>
<tr><td>v18 R2</td><td>Añadidos</td></tr>
</tbody>
</table>
<p></details></p>
<p><strong>.source</strong> : Text</p>
<h4><a class="anchor" aria-hidden="true" id="descripción-4"></a><a href="#descripción-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descripción</h4>
<p>La propiedad <code>.source</code> contiene la expresión fuente de la <code>fórmula</code> como texto.</p>
<p>Esta propiedad es <strong>de sólo lectura</strong>.</p>
<h4><a class="anchor" aria-hidden="true" id="ejemplo-7"></a><a href="#ejemplo-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ejemplo</h4>
<pre><code class="hljs css language-4d"><span class="hljs-keyword"> var</span> <span class="hljs-variable">$of </span>: 4D.<span class="hljs-keyword">Function</span><span class="hljs-keyword">
 var</span> <span class="hljs-variable">$tf </span>: Text
 <span class="hljs-variable">$of</span>:=<span class="hljs-function">Formula</span>(<span class="hljs-function">String</span>(Current time;HH MM AM PM))
 <span class="hljs-variable">$tf</span>:=<span class="hljs-variable">$of</span>.source <span class="hljs-comment">//"String(Current time;HH MM AM PM)"</span>
</code></pre>
<style> h2 { background: #d9ebff;}</style>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/es/API/FolderClass.html"><span class="arrow-prev">← </span><span>Folder</span></a><a class="docs-next button" href="/docs/es/API/HTTPRequestClass.html"><span>HTTPRequest</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#formula">Formula</a></li><li><a href="#formula-from-string">Formula from string</a></li><li><a href="#apply">.apply()</a></li><li><a href="#call">.call()</a></li><li><a href="#source">.source</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.4d.com" class="nav-home"><img src="/docs/img/logohome.png" alt="4D Documentation"/></a><div><h5>Community</h5><a href="https://developer.4D.com">4D Developer Center</a><a href="https://blog.4d.com/">4D Blog</a><a href="https://discuss.4d.com">4D Forum</a><a href="https://www.facebook.com/4Dsoftware/">Facebook</a><a href="https://twitter.com/4Dsoftware">Twitter</a><a href="https://www.youtube.com/user/4Dsoftware">Youtube</a><a href="https://github.com/4D/">GitHub</a></div><div><h5>Support</h5><a href="https://doc.4d.com/">4D Doc Center <i>(Where It All Began)</i></a><a href="http://kb.4d.com/">Knowledge Base</a><a href="https://us.4d.com/product-download">Downloads</a><a href="https://us.4d.com/resources">Resources</a><a href="https://us.4d.com/4d-technical-support">Get Support</a></div><div><h5>Company</h5><a href="https://us.4d.com/about-us">About 4D</a><a href="https://us.4d.com/contact-us">Contact us</a><a href="https://us.4d.com/4d-around-the-world">4D around the world</a><a href="https://us.4d.com/careers">Careers</a></div></section><section class="copyright">© 2022 4D SAS - All rights reserved</section><section class="copyright"><a class="cp2" href="https://us.4d.com/terms-and-conditions">Terms &amp; Conditions</a> | <a class="cp2" href="https://us.4d.com/legal-notices">Legal Notices</a> | <a class="cp2" href="https://us.4d.com/data-policy">Data Policy</a> | <a class="cp2" href="https://us.4d.com/cookies-policy">Cookie Policy</a> | <a class="cp2" href="https://us.4d.com/license-0">Product license</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                appId: 'OJ04C0M3CU',
                apiKey: '5f22ebbb9382abafeadc3e86ca47d4af',
                indexName: '4d',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:es","version:19 R6 BETA"]}
              });
            </script></body></html>