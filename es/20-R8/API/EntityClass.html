<!doctype html><html lang=es dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20-R8 docs-doc-page docs-doc-id-API/EntityClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Entity | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developer.4d.com/docs/es/20-R8/API/EntityClass><meta data-rh=true property=og:locale content=es><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true name=docusaurus_locale content=es><meta data-rh=true name=docsearch:language content=es><meta data-rh=true name=docusaurus_version content=20-R8><meta data-rh=true name=docusaurus_tag content=docs-default-20-R8><meta data-rh=true name=docsearch:version content=20-R8><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20-R8><meta data-rh=true property=og:title content="Entity | 4D Docs"><meta data-rh=true name=description content="Una entidad es una instancia de una Dataclass, como un registro de la tabla que coincide con la dataclass en su datastore asociado. Contiene los mismos atributos que la clase de datos, así como los valores de los datos y las propiedades y funciones específicas."><meta data-rh=true property=og:description content="Una entidad es una instancia de una Dataclass, como un registro de la tabla que coincide con la dataclass en su datastore asociado. Contiene los mismos atributos que la clase de datos, así como los valores de los datos y las propiedades y funciones específicas."><link data-rh=true rel=icon href=/docs/es/img/favicon/4d.gif><link data-rh=true rel=canonical href=https://developer.4d.com/docs/es/20-R8/API/EntityClass><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R8/API/EntityClass hreflang=en><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20-R8/API/EntityClass hreflang=fr><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20-R8/API/EntityClass hreflang=es><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20-R8/API/EntityClass hreflang=ja><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20-R8/API/EntityClass hreflang=pt><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20-R8/API/EntityClass hreflang=x-default><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/es/opensearch.xml><link rel=stylesheet href=/docs/es/assets/css/styles.1ba35a04.css><script src=/docs/es/assets/js/main.9338acc3.js defer></script><script src=/docs/es/assets/js/runtime~main.0d6cb2c8.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Saltar al contenido principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar al contenido principal</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Alternar la barra de navegación" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/es/><div class=navbar__logo><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Documentación 4D</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/es/20-R8/API/EntityClass>20 R8</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/es/API/EntityClass>20 R9</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/es/20-R8/API/EntityClass>20 R8</a><li><a class=dropdown__link href=/docs/es/20/API/EntityClass>20</a><li><a class=dropdown__link href=/docs/es/19/API/EntityClass>19</a><li><a class=dropdown__link href=/docs/es/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Español</a><ul class=dropdown__menu><li><a href=/docs/20-R8/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20-R8/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20-R8/API/EntityClass rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=es>Español</a><li><a href=/docs/ja/20-R8/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20-R8/API/EntityClass rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Cambia entre el modo oscuro y el claro (actualmente modo Claro)" aria-label="Cambia entre el modo oscuro y el claro (actualmente modo Claro)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Buscar (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Buscar</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Volver arriba" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/es/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Documentación 4D</b></a><nav aria-label="Barra lateral de Documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/es/20-R8/category/getting-started>Comencemos</a><button aria-label="Ampliar la categoría 'Comencemos' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/es/20-R8/category/core-development>Desarrollo</a><button aria-label="Ampliar la categoría 'Desarrollo' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/es/20-R8/category/4d-language>Lenguaje 4D</a><button aria-label="Contraer categoría de la barra lateral 'Lenguaje 4D'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/es/20-R8/Concepts/about>Conceptos</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/es/20-R8/category/commands>Comandos</a><button aria-label="Ampliar la categoría 'Comandos' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/es/20-R8/category/class-API-reference>Clases</a><button aria-label="Contraer categoría de la barra lateral 'Clases'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/overview>Acerca de las funciones clase</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/es/20-R8/API/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/HTTPAgentClass>HTTPAgent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/IncomingMessageClass>IncomingMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/OutgoingMessageClass>OutgoingMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/TCPConnectionClass>TCPConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/TCPEventClass>TCPEvent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/WebFormClass>WebForm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/WebFormItemClass>WebFormItem</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/WebServerClass>WebServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/WebSocketClass>WebSocket</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/WebSocketConnectionClass>WebSocketConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/WebSocketServerClass>WebSocketServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20-R8/API/ZipFolderClass>ZIPFolder</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/es/20-R8/category/administration>Administración</a><button aria-label="Ampliar la categoría 'Administración' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/es/20-R8/Extensions/overview>Extensiones</a><button aria-label="Ampliar la categoría 'Extensiones' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/es/20-R8/category/web-applications>Aplicaciones web</a><button aria-label="Ampliar la categoría 'Aplicaciones web' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/es/20-R8/category/desktop-applications>Aplicaciones de escritorio</a><button aria-label="Ampliar la categoría 'Aplicaciones de escritorio' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false>Aplicaciones móviles</a></div></ul></nav><button type=button title="Contraer la barra lateral" aria-label="Contraer la barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Camino de navegación"><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Página de inicio" class=breadcrumbs__link href=/docs/es/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/es/20-R8/category/4d-language><span itemprop=name>Lenguaje 4D</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/es/20-R8/category/class-API-reference><span itemprop=name>Clases</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Entity</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versión: 20 R8</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Entity</h1></header><p>Una <a href=/docs/es/20-R8/ORDA/dsmapping#entity>entidad</a> es una instancia de una <a href=/docs/es/20-R8/ORDA/dsmapping#dataclass>Dataclass</a>, como un registro de la tabla que coincide con la dataclass en su datastore asociado. Contiene los mismos atributos que la clase de datos, así como los valores de los datos y las propiedades y funciones específicas.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=resumen>Resumen<a href=#resumen class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h3>













































































<table><thead><tr><th><tbody><tr><td><a href=#attributename><em><strong>.attributeName</strong></em> : any</a><br> almacena el valor del atributo para la entidad<tr><td><a href=#clone><strong>.clone()</strong> : 4D.Entity</a><br>crea en la memoria una nueva entidad que hace referencia al mismo registro que la entidad original<tr><td><a href=#diff><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</a><br>compara el contenido de dos entidades y devuelve sus diferencias<tr><td><a href=#drop><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</a><br>elimina los datos contenidos en la entidad desde el almacén de datos<tr><td><a href=#first><strong>.first()</strong>: 4D.Entity</a><br> devuelve una referencia a la entidad en primera posición de la selección de entidades a la que pertenece la entidad<tr><td><a href=#fromobject><strong>.fromObject</strong>( <em>filler</em> : Object )</a><br>llena una entidad con el contenido de <em>filler</em><tr><td><a href=#getdataclass><strong>.getDataClass()</strong> : 4D.DataClass</a><br>devuelve la dataclass de la entidad<tr><td><a href=#getkey><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : any</a><br> devuelve el valor de la llave primaria<tr><td><a href=#getremotecontextattributes><strong>.getRemoteContextAttributes()</strong> : Text</a><br>devuelve información sobre el contexto de optimización utilizado por la entidad<tr><td><a href=#getselection><strong>.getSelection()</strong>: 4D.EntitySelection</a><br> devuelve la selección de entidades a la que pertenece la entidad<tr><td><a href=#getstamp><strong>.getStamp()</strong> : Integer</a><br> devuelve el valor actual del sello de la entidad<tr><td><a href=#indexof><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</a><br> devuelve la posición de la entidad en una entity selection<tr><td><a href=#isnew><strong>.isNew()</strong> : Boolean</a><br> devuelve True si la entidad a la que se aplica acaba de ser creada y aún no ha sido guardada en el datastore<tr><td><a href=#last><strong>.last()</strong> : 4D.Entity</a><br> devuelve una referencia a la entidad en la última posición de la selección de entidades a la que pertenece la entidad<tr><td><a href=#lock><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</a><br>pone un bloqueo pesimista en el registro referenciado por la entidad<tr><td><a href=#next><strong>.next()</strong> : 4D.Entity</a><br> devuelve una referencia a la siguiente entidad en la selección de entidades a la que pertenece la entidad<tr><td><a href=#previous><strong>.previous()</strong>  : 4D.Entity</a><br> devuelve una referencia a la entidad anterior en la selección de entidades a la que pertenece la entidad<tr><td><a href=#reload><strong>.reload()</strong> : Object</a><br>recarga el contenido de la entidad en memoria<tr><td><a href=#save><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</a><br> guarda los cambios realizados en la entidad<tr><td><a href=#toobject><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</a><br> devuelve un objeto que ha sido construido a partir de la entidad<tr><td><a href=#touched><strong>.touched()</strong> : Boolean</a><br>devuelve True si al menos un atributo de la entidad ha sido modificado desde que la entidad fue cargada en memoria o guardada<tr><td><a href=#touchedattributes><strong>.touchedAttributes()</strong> : Collection</a><br> devuelve los nombres de los atributos que han sido modificados desde que la entidad fue cargada en memoria<tr><td><a href=#unlock><strong>.unlock()</strong> : Object</a><br> elimina el bloqueo pesimista del registro que coincide con la entidad</table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=attributename>.<em>attributeName</em><a href=#attributename class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><em><strong>.attributeName</strong></em> : any</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción>Descripción<a href=#descripción class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Todo atributo de la dataclass está disponible como una propiedad de una entidad, que  almacena el valor del atributo para la entidad.</p>
<blockquote>
<p>Los atributos dataclass también se pueden alcanzar utilizando la sintaxis alternativa con [ ].</p>
</blockquote>
<p>El tipo de valor del atributo depende del tipo <a href=/docs/es/20-R8/API/DataClassClass#attributename>kind</a> (relation o storage):</p>
<ul>
<li>Si el tipo de <em>attributeName</em> es <strong>storage</strong>:
<code>.attributeName</code> devuelve un valor del mismo tipo que <em>attributeName</em>.</li>
<li>Si el tipo de <em>attributeName</em> es <strong>relatedEntity</strong>:
<code>.attributeName</code> devuelve la entidad relacionada. Los valores de la entidad relacionada están disponibles directamente a través de las propiedades en cascada, por ejemplo "myEntity.employer.employees[0].lastname".</li>
<li>Si el tipo <em>attributeName</em> es <strong>relatedEnties</strong>:
<code>.attributeName</code> devuelve una nueva selección de entidades relacionadas. Se eliminan los duplicados (se devuelve una entity selection desordenada).</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo>Ejemplo<a href=#ejemplo class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $myEntity : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity:=ds.Employee.new() //Crear una nueva entidad</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity.name:="Dupont" // asignar 'Dupont' al atributo 'name'</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity.firstname:="John" //asignar 'John' al atributo 'firstname'</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $myEntity.save() //guardar la entidad</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=clone>.clone()<a href=#clone class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.clone()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.Entity<td style=text-align:center>&lt;-<td>Nueva entidad que hace referencia al registro</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-1>Descripción<a href=#descripción-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.clone()</code> crea en la memoria una nueva entidad que hace referencia al mismo registro que la entidad original.</p>
<p>Esta función permite actualizar las entidades por separado. Sin embargo, tenga en cuenta que, por razones de rendimiento, la nueva entidad comparte la misma referencia de atributos de objeto que la entidad clonada.</p>
<blockquote>
<p>Tenga en cuenta que toda modificación realizada a las entidades se guardará en el registro referenciado sólo cuando se ejecute la función <a href=#save><code>.save()</code></a>.</p>
</blockquote>
<p>Esta función sólo puede utilizarse con entidades ya guardadas en la base de datos. No se puede llamar a una entidad recién creada (para la que <a href=#isnew><code>isNew()</code></a> devuelve <strong>True</strong>).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1>Ejemplo<a href=#ejemplo-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp; $empCloned : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $empCloned:=$emp.clone()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Smith" //Las actualizaciones realizadas en $emp no se realizan en $empCloned</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=diff>.diff()<a href=#diff class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.diff</strong>( <em>entityToCompare</em> : 4D.Entity { ; <em>attributesToCompare</em> : Collection } ) : Collection</p>





























<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>entityToCompare<td>4D.Entity<td style=text-align:center>-><td>Entidad a comparar con la entidad original<tr><td>attributesToCompare<td>Collection<td style=text-align:center>-><td>Nombre de los atributos a comparar<tr><td>Resultado<td>Collection<td style=text-align:center>&lt;-<td>Diferencias entre las entidades</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-2>Descripción<a href=#descripción-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.diff()</code> compara el contenido de dos entidades y devuelve sus diferencias.</p>
<p>En <em>entityToCompare</em>, pase la entidad que se va a comparar con la entidad original.</p>
<p>En <em>attributesToCompare</em>, puede designar atributos específicos a comparar. Si se suministra, la comparación se realiza sólo en los atributos especificados. Si no se suministra, se devuelven todas las diferencias entre las entidades.</p>
<p>Las diferencias se devuelven como una colección de objetos cuyas propiedades son:</p>

























<table><thead><tr><th>Nombre de propiedad<th>Tipo<th>Descripción<tbody><tr><td>attributeName<td>Text<td>Nombre del atributo<tr><td>value<td>cualquiera - Depende del tipo de atributo<td>Valor del atributo en la entidad<tr><td>otherValue<td>cualquiera - Depende del tipo de atributo<td>Valor del atributo en <em>entityToCompare</em></table>
<p>Sólo se incluyen en la colección los atributos con valores diferentes. Si no se encuentran diferencias, <code>.diff()</code> devuelve una colección vacía.</p>
<p>La función se aplica a las propiedades cuyo <a href=/docs/es/20-R8/API/DataClassClass#attributename>kind</a> es <strong>storage</strong> o <strong>relatedEntity</strong>. En caso de que se haya actualizado una entidad relacionada (es decir, la llave foránea), el nombre de la entidad relacionada y su nombre de llave primaria se devuelven como propiedades <em>attributeName</em> (<em>value</em> y <em>otherValue</em> están vacíos para el nombre de la entidad relacionada).</p>
<p>Si una de las entidades comparadas es <strong>Null</strong>, se produce un error.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1-1>Ejemplo 1<a href=#ejemplo-1-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $diff1; $diff2 : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee:=ds.Employee.query("ID=1001").first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $clone:=employee.clone()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.firstName:="MARIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.lastName:="SOPHIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.salary:=500</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $diff1:=$clone.diff(employee) // Se devuelven todas las diferencias</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $diff2:=$clone.diff(employee;New collection("firstName"; "lastName"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // Sólo se devuelven las diferencias en firstName y lastName</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>$diff1:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Natasha",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "MARIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Locke",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "SOPHIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "salary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 66600,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 500</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$diff2:</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Natasha",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "MARIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Locke",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "SOPHIE"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-2>Ejemplo 2<a href=#ejemplo-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var vCompareResult1; vCompareResult2; vCompareResult3; $attributesToInspect : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult1:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult2:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult3:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $attributesToInspect:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds.Employee.get(636)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds.Employee.get(636)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.firstName:=$e1.firstName+" update"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.lastName:=$e1.lastName+" update"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $c:=ds.Company.get(117)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e1.employer:=$c</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2.salary:=100</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $attributesToInspect.push("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $attributesToInspect.push("lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult1:=$e1.diff($e2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult2:=$e1.diff($e2;$attributesToInspect)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vCompareResult3:=$e1.diff($e2;$e1.touchedAttributes())</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>vCompareResult3 (sólo se devuelven las diferencias en atributos tocados $e1)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Karla update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Karla"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Marrero update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Marrero"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "salary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 33500,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 100</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employerID",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 117,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 118</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employer",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "[object Entity]",// Entity 117 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "[object Entity]"// Entity 118 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>vCompareResult2 (sólo se devuelven las diferencias en $attributesToInspect)</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Karla update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Karla"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Marrero update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Marrero"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>vCompareResult1 (se devuelven todas las diferencias):</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "firstName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Karla update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Karla"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "lastName",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "Marrero update",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "Marrero"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employerID",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": 117,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": 118</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "attributeName": "employer",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "value": "[object Entity]",// Entity 117 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "otherValue": "[object Entity]"// Entity 118 from Company</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=drop>.drop()<a href=#drop class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.drop</strong>( {<em>mode</em> : Integer} ) : Object</p>























<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk force drop if stamp changed</code>: activa el soltar incluso si el sello ha cambiado<tr><td>Resultado<td>Object<td style=text-align:center>&lt;-<td>Resultado de la operación soltar</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-3>Descripción<a href=#descripción-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.drop()</code> elimina los datos contenidos en la entidad desde el almacén de datos, desde la tabla relacionada con su Dataclass. Tenga en cuenta que la entidad permanece en la memoria.</p>
<p>En una aplicación multiusuario o multiproceso, la función <code>.drop()</code> se ejecuta bajo un mecanismo <a href=/docs/es/20-R8/ORDA/entities#entity-locking>"bloqueo optimista"</a>, en el que un sello de bloqueo interno se incrementa automáticamente cada vez que se guarda el registro.</p>
<p>Por defecto, si se omite el parámetro <em>mode</em>, la función devolverá un error (ver más abajo) si la misma entidad fue modificada (es decir, el sello ha cambiado) por otro proceso o usuario en el ínterin.</p>
<p>De lo contrario, puede pasar la opción <code>dk force drop if stamp changed</code> en el parámetro <em>mode</em>: en este caso, la entidad se elimina incluso si el marcador ha cambiado (y la llave primaria sigue siendo la misma).</p>
<p><strong>Resultado</strong></p>
<p>El objeto devuelto por <code>.drop()</code> contiene las siguientes propiedades:</p>























































































































<table><thead><tr><th>Propiedad<th><th>Tipo<th>Descripción<tbody><tr><td>success<td><td>boolean<td>true si la acción de soltar tiene éxito, false en caso contrario.<tr><td><td><td><td><em><strong>Disponible sólo en caso de error:</strong></em><tr><td>status(*)<td><td>number<td>Código de error, ver abajo<tr><td>statusText(*)<td><td>text<td>Descripción del error, ver abajo<tr><td><td><td><td><em><strong>Disponible sólo en caso de error de bloqueo pesimista:</strong></em><tr><td>LockKindText<td><td>text<td>"Locked by record"<tr><td>lockInfo<td><td>object<td>Información sobre el origen del bloqueo<tr><td><td>task_id<td>number<td>Id del proceso<tr><td><td>user_name<td>text<td>Nombre de usuario de la sesión en la máquina<tr><td><td>user4d_alias<td>text<td>Alias usuario si está definido por <code>SET USER ALIAS</code>, si no, nombre de usuario en el directorio 4D<tr><td><td>host_name<td>text<td>Nombre de la máquina<tr><td><td>task_name<td>text<td>Nombre del proceso<tr><td><td>client_version<td>text<td><tr><td><td><td><td><em><strong>Disponible sólo en caso de error grave (un error grave puede ser intentar duplicar una llave primaria, disco lleno...):</strong></em><tr><td>errors<td><td>collection of objects<td><tr><td><td>message<td>text<td>Mensaje de error<tr><td><td>component signature<td>text<td>firma del componente interno (por ejemplo, "dmbg" significa el componente de la base)<tr><td><td>errCode<td>number<td>Código de error</table>
<p>(*) Los siguientes valores pueden ser devueltos en las propiedades <em>status</em> y <em>statusText</em> del objeto <em>Result</em> en caso de error:</p>



































<table><thead><tr><th>Constante<th>Valor<th>Comentario<tbody><tr><td><code>dk status entity does not exist anymore</code><td>5<td>La entidad ya no existe en los datos. Este error puede ocurrir en los siguientes casos:<br><li>la entidad ha sido eliminada (el marcador ha cambiado y ahora el espacio de memoria está libre)</li><li>la entidad ha sido eliminada y reemplazada por otra con otra clave primaria (el marcador ha cambiado y una nueva entidad ahora utiliza el espacio memoria). Cuando se utiliza entity.drop( ), este error puede ser devuelto cuando se utiliza la opción dk force drop if stamp changed. Cuando se utiliza entity.lock(), se puede devolver este error cuando la opción dk reload if stamp changed es utilizada</li> <strong>statusText asociado</strong>: "Entity does not exist anymore"<tr><td><code>dk status locked</code><td>3<td>La entidad está bloqueada por un bloqueo pesimista.<br> <strong>statusText asociado</strong>: "Already locked"<tr><td><code>dk status serious error</code><td>4<td>Un error grave es un error de base de datos de bajo nivel (por ejemplo, una llave duplicada), un error de hardware, etc.<br><strong>statusText asociado</strong>: "Other error"<tr><td><code>dk status stamp has changed</code><td>2<td>El valor del marcador interno de la entidad no coincide con el de la entidad almacenada en los datos (bloqueo optimista).<br><li>con <code>.save()</code>: error solo si no se utiliza la opción <code>dk auto merge</code></li><li>con <code>.drop()</code>: error solo si no se utiliza la opción <code>dk force drop if stamp changed</code></li><li>con <code>.lock()</code>: error solo si no se utiliza la opción <code>dk reload if stamp changed</code></li><li><strong>Estado asociado</strong>: "Stamp has changed"</li><tr><td><code>dk status wrong permission</code><td>1<td>Los privilegios actuales no permiten suprimir la entidad. <strong>Associated statusText</strong>: "Permission Error"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1-2>Ejemplo 1<a href=#ejemplo-1-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Ejemplo sin la opción <code>dk force drop if stamp changed</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.drop()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //La entidad soltada permanece en la memoria</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-2-1>Ejemplo 2<a href=#ejemplo-2-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Ejemplo con la opción <code>dk force drop if stamp changed</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.drop(dk force drop if stamp changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have dropped "+$employee.firstName+" "+$employee.lastName) //La entidad soltada permanece en la memoria</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=first>.first()<a href=#first class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.first()</strong>: 4D.Entity</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.Entity<td style=text-align:center>&lt;-<td>Referencia a la primera entidad de una selección de entidades (Null si no se encuentra)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-4>Descripción<a href=#descripción-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.first()</code>  devuelve una referencia a la entidad en primera posición de la selección de entidades a la que pertenece la entidad.</p>
<p>Si la entidad no pertenece a ninguna entity selection (es decir, <a href=#getselection>.getSelection( )</a> devuelve Null), la función devuelve un valor Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-3>Ejemplo<a href=#ejemplo-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $firstEmployee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1";"H@") //Esta selección de entidades contiene 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[2]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $firstEmployee:=$employee.first() //$firstEmployee es la primera entidad de la selección de entidades $employees</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=fromobject>.fromObject()<a href=#fromobject class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.fromObject</strong>( <em>filler</em> : Object )</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>filler<td>Object<td style=text-align:center>-><td>Objeto a partir del cual se llena la entidad</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-5>Descripción<a href=#descripción-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.fromObject()</code> llena una entidad con el contenido de <em>filler</em>.</p>
<blockquote>
<p>Esta función modifica la entidad original.</p>
</blockquote>
<p>El mapeo entre el objeto y la entidad se realiza sobre los nombres de los atributos:</p>
<ul>
<li>Si una propiedad del objeto no existe en la dataclass, se ignora.</li>
<li>Los tipos de datos deben ser equivalentes. Si hay una diferencia de tipo entre el objeto y la dataclass, 4D intenta convertir los datos siempre que sea posible (ver <a href=/docs/es/20-R8/Concepts/data-types#converting-data-types><code>Convertir tipos de datos</code></a>), de lo contrario el atributo se deja sin tocar.</li>
<li>La llave primaria puede darse tal cual o con una propiedad "__KEY" (llenada con el valor de la llave primaria). La llave primaria puede darse tal cual o con una propiedad "__KEY" (llenada con el valor de la llave primaria). Si no se da la llave primaria, se crea la entidad y se asigna el valor de la llave primaria con respecto a las reglas de la base de datos. El autoincremento sólo se calcula si la llave primaria es nula.</li>
</ul>
<p><em>filler</em> puede manejar una entidad relacionada bajo las siguientes condiciones:</p>
<ul>
<li><em>filler</em> contiene la propia llave foránea, o</li>
<li><em>filler</em> contiene un objeto de propiedad con el mismo nombre que la entidad relacionada, que contiene una única propiedad denominada "__KEY".</li>
<li>si la entidad relacionada no existe, se ignora.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-4>Ejemplo<a href=#ejemplo-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Con el siguiente objeto $o:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Mary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Smith",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 36500,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1958-10-27T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "managerID": 411,// relatedEntity dada con PK</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employerID": 20 // relatedEntity dada con PK</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>El siguiente código creará una entidad con entidades relacionadas con el gerente y el empleador.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $o : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Emp.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.fromObject($o)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>También puede utilizar una entidad relacionada dada como objeto:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Marie",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Lechat",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 68400,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1971-09-03T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {// relatedEntity dada como un objeto</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": "21"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "manager": {// relatedEntity dada como un objeto</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": "411"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getdataclass>.getDataClass()<a href=#getdataclass class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17 R5<td>Añadidos</table>
</div></div></details>
<p><strong>.getDataClass()</strong> : 4D.DataClass</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.DataClass<td style=text-align:center>&lt;-<td>Objeto DataClass al que pertenece la entidad</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-6>Descripción<a href=#descripción-6 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.getDataClass()</code> devuelve la dataclass de la entidad. .</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-5>Ejemplo<a href=#ejemplo-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>El siguiente código genérico duplica cualquier entidad:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //método duplicate_entity </span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //duplicate_entity($entity)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> #DECLARE($entity : 4D.Entity)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $entityNew : 4D.Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entityNew:=$entity.getDataClass().new() //crea una nueva entidad en la dataclass padre </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entityNew.fromObject($entity.toObject()) //obtiene todos los atributos</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entityNew[$entity.getDataClass().getInfo().primaryKey]:=Null //restablece la llave primaria</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$entityNew.save() //guarda la entidad duplicada</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getkey>.getKey()<a href=#getkey class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.getKey</strong>( { <em>mode</em> : Integer } ) : any</p>























<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk key as string</code>: la llave primaria se devuelve como una cadena, sin importar el tipo de llave primaria<tr><td>Resultado<td>any<td style=text-align:center>&lt;-<td>Valor de la llave primaria de la entidad (Integer or Text)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-7>Descripción<a href=#descripción-7 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.getKey()</code>  devuelve el valor de la llave primaria.</p>
<p>Las llaves primarias pueden ser números (enteros) o cadenas. Puede "forzar" que el valor de la llave primaria devuelto sea una cadena, sin importar el tipo de llave primaria real, pasando la opción <code>dk key as string</code> en el parámetro <em>mode</em>.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-6>Ejemplo<a href=#ejemplo-6 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("The primary key is "+$employee.getKey(dk key as string))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getremotecontextattributes>.getRemoteContextAttributes()<a href=#getremotecontextattributes class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>19R5<td>Añadidos</table>
</div></div></details>
<p><strong>.getRemoteContextAttributes()</strong> : Text</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th><th>Descripción<tbody><tr><td>resultado<td>Text<td>&lt;-<td>Atributos de contexto vinculados a la entidad, separados por una coma</table>
<blockquote>
<p><strong>Modo avanzado</strong>: esta función está pensada para los desarrolladores que necesitan personalizar las funcionalidades por defecto de ORDA para configuraciones específicas. En la mayoría de los casos, no será necesario utilizarla.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-8>Descripción<a href=#descripción-8 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.getRemoteContextAttributes()</code> devuelve información sobre el contexto de optimización utilizado por la entidad .</p>
<p>Si no hay un <a href=/docs/es/20-R8/ORDA/client-server-optimization>contexto de optimización</a> para la entidad, la función devuelve un texto vacío.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-7>Ejemplo<a href=#ejemplo-7 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $ds : 4D.DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $address : cs.AddressEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $p : cs.PersonsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $contextA : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $info : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var $text : Text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$contextA:=New object("context"; "contextA")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$address:=$ds.Address.get(1; $contextA)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$text:=""</span><br></span><span class=token-line style=color:#393A34><span class="token plain">For each ($p; $address.persons)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $text:=$p.firstname+" "+$p.lastname</span><br></span><span class=token-line style=color:#393A34><span class="token plain">End for each</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$info:=$address.getRemoteContextAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//$info = "persons,persons.lastname,persons.firstname"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ver-también>Ver también<a href=#ver-también class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p><a href=/docs/es/20-R8/API/EntitySelectionClass#getremotecontextattributes>EntitySelection.getRemoteContextAttributes()</a><br><a href=/docs/es/20-R8/API/DataStoreClass#clearallremotecontexts>.clearAllRemoteContexts()</a><br><a href=/docs/es/20-R8/API/DataStoreClass#getremotecontextinfo>.getRemoteContextInfo()</a><br><a href=/docs/es/20-R8/API/DataStoreClass#getallremotecontexts>.getAllRemoteContexts()</a><br><a href=/docs/es/20-R8/API/DataStoreClass#setremotecontextinfo>.setRemoteContextInfo()</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getselection>.getSelection()<a href=#getselection class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.getSelection()</strong>: 4D.EntitySelection</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.EntitySelection<td style=text-align:center>&lt;-<td>Entity selection a la que pertenece la entidad (nula si no se encuentra)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-9>Descripción<a href=#descripción-9 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.getSelection()</code>  devuelve la selección de entidades a la que pertenece la entidad.</p>
<p>Si la entidad no pertenece a una selección de entidades, la función devuelve Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-8>Ejemplo<a href=#ejemplo-8 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees; $employees2 : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(672) // Esta entidad no pertenece a ninguna selección de entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=$emp.getSelection() // $employees es Null</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees2:=ds.Employee.query("lastName=:1";"Smith") //Esta selección de entidades contiene 6 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=$employees2[0]  // Esta entidad pertenece a una selección de entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("La entity selection contiene "+String($emp.getSelection().length)+" entidades")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=getstamp>.getStamp()<a href=#getstamp class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.getStamp()</strong> : Integer</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>Integer<td style=text-align:center>&lt;-<td>Sello de la entidad (0 si la entidad acaba de ser creada)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-10>Descripción<a href=#descripción-10 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.getStamp()</code>  devuelve el valor actual del sello de la entidad.</p>
<p>El sello interno se incrementa automáticamente en 4D cada vez que se guarda la entidad. Gestiona los accesos y modificaciones concurrentes de los usuarios a las mismas entidades (ver <a href=/docs/es/20-R8/ORDA/entities#bloqueo-de-una-entidad><strong>Bloqueo de entidades</strong></a>).</p>
<blockquote>
<p>Para una entidad nueva (nunca guardada), la función devuelve 0. Para saber si una entidad acaba de ser creada, se recomienda utilizar <a href=#isnew>.isNew()</a>.</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-9>Ejemplo<a href=#ejemplo-9 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $entity : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $stamp : Integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity:=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastname:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=1</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.lastname:="Wesson"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $stamp:=$entity.getStamp() //$stamp=2</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=indexof>.indexOf()<a href=#indexof class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.indexOf</strong>( { <em>entitySelection</em> : 4D.EntitySelection } ) : Integer</p>























<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>entitySelection<td>4D.EntitySelection<td style=text-align:center>-><td>La posición de la entidad se da en función de esta selección de entidades<tr><td>Resultado<td>Integer<td style=text-align:center>&lt;-<td>Posición de la entidad en una selección de entidades</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-11>Descripción<a href=#descripción-11 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.indexOf()</code>  devuelve la posición de la entidad en una entity selection.</p>
<p>Por defecto, si se omite el parámetro <em>entitySelection</em>, la función devuelve la posición de la entidad dentro de su propia selección de entidades. En caso contrario, devuelve la posición de la entidad dentro de la <em>entitySelection</em> especificada.</p>
<p>El valor resultante se incluye entre 0 y la longitud de la selección de entidades -1.</p>
<ul>
<li>Si la entidad no tiene una selección de entidad o no pertenece a <em>entitySelection</em>, la función devuelve -1.</li>
<li>Si <em>entitySelection</em> es Null o no pertenece a la misma clase de datos que la entidad, se produce un error.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-10>Ejemplo<a href=#ejemplo-10 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1";"H@") //Esta entity selection contiene 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[1] //Esta entidad pertenece a una entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("El índice de la entidad en su propia selección de entidades es "+String($employee.indexOf())) //1</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.get(725) //Esta entidad no pertenece a una selección de entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ALERT("El índice de la entidad es "+String($employee.indexOf())) // -1</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=isnew>.isNew()<a href=#isnew class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.isNew()</strong> : Boolean</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>Boolean<td style=text-align:center>&lt;-<td>True si la entidad acaba de ser creada y aún no se ha guardado. En caso contrario, False.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-12>Descripción<a href=#descripción-12 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.isNew()</code>  devuelve True si la entidad a la que se aplica acaba de ser creada y aún no ha sido guardada en el datastore. .</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-11>Ejemplo<a href=#ejemplo-11 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($emp.isNew())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("This is a new entity")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=last>.last()<a href=#last class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.last()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.Entity<td style=text-align:center>&lt;-<td>Referencia a la última entidad de una selección de entidades (Null si no se encuentra)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-13>Descripción<a href=#descripción-13 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.last()</code>  devuelve una referencia a la entidad en la última posición de la selección de entidades a la que pertenece la entidad.</p>
<p>Si la entidad no pertenece a ninguna entity selection (es decir, <a href=#getselection>.getSelection( )</a> devuelve Null), la función devuelve un valor Null.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-12>Ejemplo<a href=#ejemplo-12 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $lastEmployee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1";"H@") //Esta selección de entidades contiene 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $lastEmployee:=$employee.last() //$lastEmployee es la última entidad de la selección de entidades $employees</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=lock>.lock()<a href=#lock class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.lock</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk reload if stamp changed</code>: recargar antes de bloquear si el marcador ha cambiado<tr><td>Resultado<td>Object<td style=text-align:center>&lt;-<td>Resultado de la operación de bloqueo</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-14>Descripción<a href=#descripción-14 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.lock()</code> pone un bloqueo pesimista en el registro referenciado por la entidad. El <a href=/docs/es/20-R8/ORDA/entities#bloqueo-de-una-entidad>bloqueo se establece</a> para un registro y todas las referencias de la entidad en el proceso actual.</p>
<p>Otros procesos verán este registro como bloqueado (la propiedad <code>result.success</code> contendrá False si intentan bloquear la misma entidad usando esta función). Sólo las funciones ejecutadas en la sesión de "bloqueo" pueden editar y guardar los atributos de la entidad. La entidad puede ser cargada como de sólo lectura por otras sesiones, pero no podrán introducir y guardar valores.</p>
<p>Un registro bloqueado por <code>.lock()</code> se desbloquea:</p>
<ul>
<li>cuando la función <a href=#unlock><code>unlock()</code></a> se llama en una entidad correspondiente en el mismo proceso</li>
<li>automáticamente, cuando ya no es referenciado por ninguna entidad en la memoria. Por ejemplo, si el bloqueo se pone sólo en una referencia local de una entidad, la entidad se desbloquea cuando la función termina. Mientras haya referencias a la entidad en la memoria, el registro permanece bloqueado.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>Notas</div><div class=admonitionContent_BuS1><ul>
<li><a href=#unlock><code>unlock()</code></a> debe ser llamado tantas veces como <code>lock()</code> fue llamado en el mismo proceso para que la entidad sea realmente desbloqueada.</li>
<li>Una entidad también puede ser <a href=/docs/es/20-R8/REST/lock>bloqueada por una sesión REST</a>, en cuyo caso solo puede ser desbloqueada por la sesión.</li>
</ul></div></div>
<p>Por defecto, si se omite el parámetro <em>mode</em>, la función devolverá un error (ver más abajo) si la misma entidad fue modificada (es decir, el sello ha cambiado) por otro proceso o usuario en el ínterin.</p>
<p>De lo contrario, puede pasar la opción <code>dk reload if stamp changed</code> en el parámetro <em>mode</em>: en este caso, no se devuelve error y la entidad se recarga cuando el sello cambia (si la entidad aún existe y la llave primaria sigue siendo la misma).</p>
<p><strong>Resultado</strong></p>
<p>El objeto devuelto por <code>.lock()</code> contiene las siguientes propiedades:</p>







































































































































































<table><thead><tr><th>Propiedad<th><th>Tipo<th>Descripción<tbody><tr><td>success<td><td>boolean<td>true si la acción de bloqueo tiene éxito (o si la entidad ya está bloqueada en el proceso actual), false en caso contrario.<tr><td><td><td><td><em><strong>Disponible sólo si se utiliza la opción <code>dk reload if stamp changed</code>:</strong></em><tr><td><strong>wasReloaded</strong><td><td>boolean<td>true si la entidad fue recargada con éxito, false en caso contrario.<tr><td><td><td><td><em><strong>Disponible sólo en caso de error:</strong></em><tr><td>status(*)<td><td>number<td>Código de error, ver abajo<tr><td>statusText(*)<td><td>text<td>Descripción del error, ver abajo<tr><td><td><td><td><em><strong>Disponible sólo en caso de error de bloqueo pesimista:</strong></em><tr><td>lockKindText<td><td>text<td>"Locked by record" si está bloqueado por un proceso 4D, "Locked by session" si está bloqueado por una sesión REST<tr><td>lockInfo<td><td>object<td>Información sobre el origen del bloqueo. Las propiedades devueltas dependen del origen del bloqueo (proceso 4D o sesión REST).<tr><td><td><td><td><em><strong>Disponible sólo para un bloqueo por proceso 4D:</strong></em><tr><td><td>task_id<td>number<td>ID del Proceso<tr><td><td>user_name<td>text<td>Nombre de usuario de la sesión en la máquina<tr><td><td>user4d_alias<td>text<td>Nombre o alias del usuario 4D<tr><td><td>user4d_id<td>number<td>ID del usuario en el directorio de la base de datos 4D<tr><td><td>host_name<td>text<td>Nombre de la máquina<tr><td><td>task_name<td>text<td>Nombre del proceso<tr><td><td>client_version<td>text<td>Versión del cliente<tr><td><td><td><td><em><strong>Disponible sólo para un bloqueo por sesión REST:</strong></em><tr><td><td>host<td>text<td>URL que bloqueó la entidad (por ejemplo, "<code>www.myserver.com</code>")<tr><td><td>IPAddr<td>text<td>Dirección IP del bloqueo (por ejemplo: "127.0.0.1")<tr><td><td>userAgent<td>text<td>userAgent del origen del bloqueo (ej: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36")<tr><td><td><td><td><em><strong>Disponible sólo en caso de error crítico</strong></em> (llave primaria duplicada, disco lleno...):<tr><td>errors<td><td>collection of objects<td><tr><td><td>message<td>text<td>Mensaje de error<tr><td><td>component signature<td>text<td>firma del componente interno (por ejemplo, "dmbg" significa el componente de la base)<tr><td><td>errCode<td>number<td>Código de error</table>
<p>(*) Los siguientes valores pueden ser devueltos en las propiedades <em>status</em> y <em>statusText</em> del objeto <em>Result</em> en caso de error:</p>






























<table><thead><tr><th>Constante<th>Valor<th>Comentario<tbody><tr><td><code>dk status entity does not exist anymore</code><td>5<td>La entidad ya no existe en los datos. Este error puede ocurrir en los siguientes casos:<br><li>la entidad ha sido eliminada (el marcador ha cambiado y ahora el espacio de memoria está libre)</li><li>la entidad ha sido eliminada y reemplazada por otra con otra clave primaria (el marcador ha cambiado y una nueva entidad ahora utiliza el espacio memoria). Cuando se utiliza <code>.drop( )</code>, este error puede devolverse cuando se utiliza la opción <code>dk force drop if stamp changed</code>. Cuando se utiliza <code>.lock()</code>, este error puede ser devuelto cuando se utiliza la opción <code>dk reload if stamp changed</code></li><br><strong>statusText asociado</strong>: "Entity does not exist anymore"<tr><td><code>dk status locked</code><td>3<td>La entidad está bloqueada por un bloqueo pesimista. <strong>statusText asociado</strong>: "Already locked"<tr><td><code>dk status serious error</code><td>4<td>Un error grave es un error de base de datos de bajo nivel (por ejemplo, una llave duplicada), un error de hardware, etc.<br><strong>statusText asociado</strong>: "Other error"<tr><td><code>dk status stamp has changed</code><td>2<td>El valor del marcador interno de la entidad no coincide con el de la entidad almacenada en los datos (bloqueo optimista).<li>con <code>.save()</code>: error solo si no se utiliza la opción <code>dk auto merge</code></li><li>con <code>.drop()</code>: error solo si no se utiliza la opción <code>dk force drop if stamp changed</code></li><li>con <code>.lock()</code>: error solo si no se utiliza la opción <code>dk reload if stamp changed</code></li><br><strong>Estado asociado</strong>: "Stamp has changed"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1-3>Ejemplo 1<a href=#ejemplo-1-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Ejemplo con error:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.get(716)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.lock()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-2-2>Ejemplo 2<a href=#ejemplo-2-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Ejemplo con la opción <code>dk reload if stamp changed</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.get(717)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.lock(dk reload if stamp changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("You have locked "+$employee.firstName+" "+$employee.lastName)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status entity does not exist anymore)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=next>.next()<a href=#next class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.next()</strong> : 4D.Entity</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.Entity<td style=text-align:center>&lt;-<td>Referencia a la siguiente entidad en la selección de entidades (Null si no se encuentra)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-15>Descripción<a href=#descripción-15 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.next()</code>  devuelve una referencia a la siguiente entidad en la selección de entidades a la que pertenece la entidad.</p>
<p>Si la entidad no pertenece a ninguna entity selection (es decir, <a href=#getselection>.getSelection()</a> devuelve Null), la función devuelve un valor Null.</p>
<p>Si no hay una entidad siguiente válida en la selección de entidades (es decir, se encuentra en la última entidad de la selección), la función devuelve Null. Si la siguiente entidad ha sido descartada, la función devuelve la siguiente entidad válida (y eventualmente Null).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-13>Ejemplo<a href=#ejemplo-13 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $nextEmployee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1";"H@") //Esta selección de entidades contiene 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $nextEmployee:=$employee.next() //$nextEmployee es la segunda entidad de entidad</span><br></span><span class=token-line style=color:#393A34><span class="token plain">selection $employees</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=previous>.previous()<a href=#previous class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.previous()</strong>  : 4D.Entity</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>4D.Entity<td style=text-align:center>&lt;-<td>Referencia a la entidad anterior en la selección de entidades (Null si no se encuentra)</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-16>Descripción<a href=#descripción-16 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.previous()</code>  devuelve una referencia a la entidad anterior en la selección de entidades a la que pertenece la entidad.</p>
<p>Si la entidad no pertenece a ninguna entity selection (es decir, <a href=#getselection>.getSelection()</a> devuelve Null), la función devuelve un valor Null.</p>
<p>Si no hay una entidad anterior válida en la selección de entidades (es decir, se encuentra en la primera entidad de la selección), la función devuelve Null. Si la entidad anterior ha sido soltada, la función devuelve la entidad válida anterior (y eventualmente Null).</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-14>Ejemplo<a href=#ejemplo-14 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee; $previousEmployee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName = :1";"H@") //Esta selección de entidades contiene 3 entidades</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[1]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $previousEmployee:=$employee.previous() //$previousEmployee es la primera entidad de la selección de entidades $employees</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=reload>.reload()<a href=#reload class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.reload()</strong> : Object</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>Object<td style=text-align:center>&lt;-<td>Objeto estado</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-17>Descripción<a href=#descripción-17 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.reload()</code> recarga el contenido de la entidad en memoria, según la información almacenada en la tabla relacionada con la dataclass en el datastore. La recarga se realiza sólo si la entidad sigue existiendo con la misma llave primaria.</p>
<p><strong>Resultado</strong></p>
<p>El objeto devuelto por <code>.reload( )</code> contiene las siguientes propiedades:</p>

























<table><thead><tr><th>Propiedad<th>Tipo<th>Descripción<tbody><tr><td>success<td>boolean<td>True si la acción de recarga tiene éxito, False en caso contrario. <em><strong>Disponible sólo en caso de error</strong></em>:<tr><td>status(*)<td>number<td>Código de error, ver abajo<tr><td>statusText(*)<td>text<td>Descripción del error, ver abajo</table>
<p>(*) Los siguientes valores pueden ser devueltos en las propiedades <em>status</em> y <em>statusText</em> del objeto <em>Result</em> en caso de error:</p>




















<table><thead><tr><th>Constante<th>Valor<th>Comentario<tbody><tr><td><code>dk status entity does not exist anymore</code><td>5<td>La entidad ya no existe en los datos. Este error puede ocurrir en los siguientes casos:<br><li>la entidad ha sido eliminada (el marcador ha cambiado y ahora el espacio de memoria está libre)</li><li>la entidad ha sido eliminada y reemplazada por otra con otra clave primaria (el marcador ha cambiado y una nueva entidad ahora utiliza el espacio memoria). the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Cuando se utiliza <code>.lock()</code>, este error puede ser devuelto cuando se utiliza la opción <code>dk reload if stamp changed</code></li><br><strong>statusText asociado</strong>: "Entity does not exist anymore"<tr><td><code>dk status serious error</code><td>4<td>Un error grave es un error de base de datos de bajo nivel (por ejemplo, una llave duplicada), un error de hardware, etc.<br><em><strong>statusText asociado</strong></em>: "Other error"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-15>Ejemplo<a href=#ejemplo-15 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $result : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Hollis")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.firstName:="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $result:=$employee.reload()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($result.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("Reload has been done")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($result.status=dk status entity does not exist anymore)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("The entity has been dropped")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=save>.save()<a href=#save class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.save</strong>( { <em>mode</em> : Integer } ) : Object</p>























<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>mode<td>Integer<td style=text-align:center>-><td><code>dk auto merge</code>: activa el modo "automatic merge"<tr><td>Resultado<td>Object<td style=text-align:center>&lt;-<td>Resultado de la operación guardar</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-18>Descripción<a href=#descripción-18 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.save()</code>  guarda los cambios realizados en la entidad en la tabla relacionada con su dataClass. Debe llamar a este método después de crear o modificar una entidad si quiere guardar los cambios realizados en ella.</p>
<p>La operación de guardar se ejecuta sólo si se ha "tocado" al menos un atributo de la entidad (ver las funciones <a href=#touched><code>.touched()</code></a> y <a href=#touchedattributes><code>.touchedAttributes()</code></a>). En caso contrario, la función no hace nada (no se llama al activador).</p>
<p>En una aplicación multiusuario o multiproceso, la función <code>.save()</code> se ejecuta con el mecanismo del <a href=/docs/es/20-R8/ORDA/entities#entity-locking>"bloqueo optimista"</a>, en el que un contador interno (stamp) se incrementa automáticamente cada vez que se guarda el registro.</p>
<p>Por defecto, si se omite el parámetro <em>mode</em>, el método devolverá un error (ver más abajo) siempre que la misma entidad haya sido modificada por otro proceso o usuario mientras tanto, sin importar el atributo o atributos modificados.</p>
<p>En caso contrario, se puede pasar la opción <code>dk auto merge</code> en el parámetro <em>mode</em>: cuando el modo "automatic merge" está activado, una modificación realizada simultáneamente por otro proceso/usuario en la misma entidad pero en un atributo diferente no dará lugar a un error. Los datos resultantes guardados en la entidad serán la combinación (la "fusión") de todas las modificaciones no concurrentes (si se aplicaron modificaciones al mismo atributo, el guardado falla y se devuelve un error, incluso con el modo de fusión automática).</p>
<blockquote>
<p>El modo de fusión automática no está disponible para los atributos de tipo Imagen, Objeto y Texto cuando se almacenan fuera del registro. Los cambios concurrentes en estos atributos darán lugar a un error <code>dk status stamp has changed</code>.</p>
</blockquote>
<p><strong>Resultado</strong></p>
<p>El objeto devuelto por <code>.save()</code> contiene las siguientes propiedades:</p>



































































































































<table><thead><tr><th>Propiedad<th><th>Tipo<th>Descripción<tbody><tr><td>success<td><td>boolean<td>True si la acción guardar tiene éxito, false en caso contrario.<tr><td><td><td><td><em><strong>Disponible sólo si se utiliza la opción <code>dk auto merge</code></strong></em>:<tr><td>autoMerged<td><td>boolean<td>True si se ha realizado una fusión automática, False en caso contrario.<tr><td><td><td><td><em><strong>Disponible sólo en caso de error</strong></em>:<tr><td>status<td><td>number<td>Código de error, <a href=#status-and-statustext>ver abajo</a><tr><td>statusText<td><td>text<td>Descripción del error, <a href=#status-and-statustext>ver abajo</a><tr><td><td><td><td><em><strong>Disponible sólo en caso de error de bloqueo pesimista</strong></em>:<tr><td>lockKindText<td><td>text<td>"Locked by record"<tr><td>lockInfo<td><td>object<td>Información sobre el origen del bloqueo<tr><td><td>task_id<td>number<td>Id del proceso<tr><td><td>user_name<td>text<td>Nombre de usuario de la sesión en la máquina<tr><td><td>user4d_alias<td>text<td>Alias usuario si está definido por <code>SET USER ALIAS</code>, si no, nombre de usuario en el directorio 4D<tr><td><td>host_name<td>text<td>Nombre de la máquina<tr><td><td>task_name<td>text<td>Nombre del proceso<tr><td><td>client_version<td>text<td><tr><td><td><td><td><em><strong>Disponible sólo en caso de error crítico</strong></em> (error crítico - puede ser intentar duplicar una llave primaria, disco lleno...):<tr><td>errors<td><td>collection of objects<td><tr><td><td>message<td>text<td>Mensaje de error<tr><td><td>componentSignature<td>text<td>Firma del componente interno (por ejemplo, "dmbg" significa el componente de la base)<tr><td><td>errCode<td>number<td>Código de error</table>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=status-y-statustext>status y statusText<a href=#status-y-statustext class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h5>
<p>Los siguientes valores pueden ser devueltos en las propiedades <code>status</code>y <code>statusText</code> del objeto Result en caso de error:</p>








































<table><thead><tr><th>Constante<th>Valor<th>Comentario<tbody><tr><td><code>dk status automerge failed</code><td>6<td>(Sólo si se utiliza la opción <code>dk auto merge</code>) La opción de fusión automática falló al guardar la entidad. <strong>statusText asociado</strong>: "Auto merge failed"<tr><td><code>dk status entity does not exist anymore</code><td>5<td>La entidad ya no existe en los datos. Este error puede ocurrir en los siguientes casos:<br><li>la entidad ha sido eliminada (el marcador ha cambiado y ahora el espacio de memoria está libre)</li><li>la entidad ha sido eliminada y reemplazada por otra con otra clave primaria (el marcador ha cambiado y una nueva entidad ahora utiliza el espacio memoria). the entity has been dropped and replaced by another one with another primary key (the stamp has changed and a new entity now uses the memory space). Cuando se utiliza <code>.lock()</code>, este error puede ser devuelto cuando se utiliza la opción <code>dk reload if stamp changed</code></li><br><strong>statusText asociado</strong>: "Entity does not exist anymore"<tr><td><code>dk status locked</code><td>3<td>La entidad está bloqueada por un bloqueo pesimista. <strong>statusText asociado</strong>: "Already locked"<tr><td><code>dk status serious error</code><td>4<td>Un error grave es un error de base de datos de bajo nivel (por ejemplo, una llave duplicada), un error de hardware, etc.<br><strong>statusText asociado</strong>: "Other error"<tr><td><code>dk status stamp has changed</code><td>2<td>El valor del marcador interno de la entidad no coincide con el de la entidad almacenada en los datos (bloqueo optimista).<br><li>con <code>.save()</code>: error solo si no se utiliza la opción <code>dk auto merge</code></li><li>con <code>.drop()</code>: error solo si no se utiliza la opción <code>dk force drop if stamp changed</code></li><li>con <code>.lock()</code>: error solo si no se utiliza la opción <code>dk reload if stamp changed</code></li><br><strong>statusText asociado</strong>: "Stamp has changed"<tr><td><code>dk status wrong permission</code><td>1<td>Los privilegios actuales no permiten guardar la entidad. <strong>Associated statusText</strong>: "Permission Error"</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1-4>Ejemplo 1<a href=#ejemplo-1-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Crear una nueva entidad:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.firstName:="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("Employee created")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-2-3>Ejemplo 2<a href=#ejemplo-2-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Actualizando una entidad sin opción <code>dk auto merge</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Mac Arthur"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("Employee updated")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status stamp has changed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-3-1>Ejemplo 3<a href=#ejemplo-3-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Actualización de una entidad con la opción <code>dk auto merge</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employees:=ds.Employee.query("lastName=:1";"Smith")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=$employees.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee.lastName:="Mac Arthur"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.save(dk auto merge)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> Case of</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT("Employee updated")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    :($status.status=dk status automerge failed)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       ALERT($status.statusText)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End case</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=toobject>.toObject()<a href=#toobject class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.toObject</strong>() : Object<br><strong>.toObject</strong>( <em>filterString</em> : Text { ; <em>options</em> : Integer}  ) : Object<br><strong>.toObject</strong>( <em>filterCol</em> : Collection { ; <em>options</em> : Integer } ) : Object</p>



































<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>filterString<td>Text<td style=text-align:center>-><td>Atributo(s) a extraer (cadena separada por comas)<tr><td>filterCol<td>Collection<td style=text-align:center>-><td>Colección de atributos a extraer<tr><td>options<td>Integer<td style=text-align:center>-><td><code>dk with primary key</code>: adds the __KEY property;<br><code>dk with stamp</code>: adds the _STAMP property<tr><td>Resultado<td>Object<td style=text-align:center>&lt;-<td>Objeto creado a partir de la entidad</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-19>Descripción<a href=#descripción-19 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.toObject()</code>  devuelve un objeto que ha sido construido a partir de la entidad. Los nombres de las propiedades en el objeto coinciden con los nombres de los atributos de la entidad.</p>
<p>Si no se especifica ningún filtro, o si el parámetro <em>filterString</em> contiene una cadena vacía o "*", el objeto devuelto contendrá:</p>
<ul>
<li>todos los atributos de la entidad de almacenamiento</li>
<li>atributos de <a href=/docs/es/20-R8/API/DataClassClass#attributename>kind</a> <code>relatedEntity</code>: se obtiene una propiedad con el mismo nombre que la entidad relacionada (nombre del enlace muchos-a-uno). El atributo se extrae con la forma simple.</li>
<li>atributos de <a href=/docs/es/20-R8/API/DataClassClass#attributename>kind</a> <code>relatedEntities</code>: no se devuelve el atributo.</li>
</ul>
<p>En el primer parámetro, se pasa el atributo o atributos de la entidad a extraer. Puede pasar:</p>
<ul>
<li><em>filterString</em>: una cadena con rutas de propiedades separadas por comas: "propertyPath1, propertyPath2, ...", o</li>
<li><em>filterCol</em>: una colección de cadenas: ["propertyPath1","propertyPath2";...]</li>
</ul>
<p>Si se especifica un filtro para los atributos cuyo <a href=/docs/es/20-R8/API/DataClassClass#attributename>kind</a> es relatedEntity:</p>
<ul>
<li>propertyPath = "relatedEntity" -> se extrae de forma sencilla: un objeto con la propiedad __KEY (llave primaria).</li>
<li>propertyPath = "relatedEntity.*" -> se extraen todas las propiedades</li>
<li>propertyPath = "relatedEntity.propertyName1; relatedEntity.propertyName2; ..." -> sólo se extraen esas propiedades</li>
</ul>
<p>Si se especifica un filtro para los atributos cuyo <a href=/docs/es/20-R8/API/DataClassClass#attributename>kind</a> es relatedEntities:</p>
<ul>
<li>propertyPath = "relatedEntities.*" -> se extraen todas las propiedades</li>
<li>propertyPath = "relatedEntities.propertyName1; relatedEntities.propertyName2; ..." -> sólo se extraen esas propiedades</li>
</ul>
<p>En el parámetro <em>options</em>, puedes pasar el selector <code>dk with primary key</code> y/o <code>dk with stamp</code> para agregar las llaves primarias y/o los stamps en los objetos extraídos.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>Atención</div><div class=admonitionContent_BuS1><p>Si utiliza otro atributo distinto de la llave primaria como atributo Uno en una relación, el valor de este atributo se escribirá en la propiedad "__KEY". Si utiliza otro atributo distinto de la llave primaria como atributo Uno en una relación, el valor de este atributo se escribirá en la propiedad "__KEY".</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1-5>Ejemplo 1<a href=#ejemplo-1-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>En todos los ejemplos de esta sección se utilizará la siguiente estructura:</p>
<p><img decoding=async loading=lazy src=/docs/es/assets/images/dataclassAttribute4-96c4a541a87b02eee83316636b0ae059.png width=1000 height=610 class=img_ev3q></p>
<p>Sin parámetro de filtro:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">employeeObject:=employeeSelected.toObject()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ejemplo con el tipo <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1963-02-01T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": { // relatedEntity extracted with simple form</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-2-4>Ejemplo 2<a href=#ejemplo-2-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Extraer la llave primaria y el sello:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">employeeObject:=employeeSelected.toObject("";dk with primary key+dk with stamp)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ejemplo con el tipo <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   "__STAMP": 1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "lastName": "Wahl",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "salary": 0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "birthDate": "1963-02-01T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "managerID": 412,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 412</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-3-2>Ejemplo 3<a href=#ejemplo-3-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Extrayendo todas las propiedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">employeeObject:=employeeSelected.toObject("directReports.*")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 418,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "firstName": "Lorena",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Boothe",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "salary": 44800,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "birthDate": "1970-10-02T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "woman": true,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "managerID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 413</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 419,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "firstName": "Drew",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Caudill",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "salary": 41000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "birthDate": "2030-01-12T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "managerID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 413</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "ID": 420,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "firstName": "Nathan",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Gomes",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "salary": 46300,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "birthDate": "2010-05-29T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "woman": false,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "managerID": 413,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employerID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "photo": "[object Picture]",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "extra": null,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "manager": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                "__KEY": 413</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-4-1>Ejemplo 4<a href=#ejemplo-4-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Extracción de algunas propiedades de <code>relatedEntities</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject("firstName, directReports.lastName")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ejemplo con el tipo <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "directReports": [</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Boothe"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Caudill"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        },</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "lastName": "Gomes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-5-1>Ejemplo 5<a href=#ejemplo-5-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Extrayendo un <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $coll:=New collection("firstName";"employer")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject($coll)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ejemplo con el tipo <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "firstName": "Greg",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "__KEY": 20</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-6-1>Ejemplo 6<a href=#ejemplo-6-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Extrayendo todas las propiedades de una <code>relatedEntity</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject("employer.*")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ejemplo con el tipo <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "ID": 20,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "name": "India Astral Secretary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "creationDate": "1984-08-25T00:00:00.000Z",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "revenues": 12000000,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "extra": null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-7-1>Ejemplo 7<a href=#ejemplo-7-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>Extracción de algunas propiedades de una <code>relatedEntity</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $col:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push("employer.name")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $col.push("employer.revenues")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeeObject:=employeeSelected.toObject($col)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Ejemplo con el tipo <code>relatedEntity</code> con una forma simple:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "employer": {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "name": "India Astral Secretary",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        "revenues": 12000000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=touched>.touched()<a href=#touched class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.touched()</strong> : Boolean</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>Boolean<td style=text-align:center>&lt;-<td>True si se ha modificado al menos un atributo de la entidad y aún no se ha guardado, si no, False</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-20>Descripción<a href=#descripción-20 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.touched()</code> devuelve True si al menos un atributo de la entidad ha sido modificado desde que la entidad fue cargada en memoria o guardada. Puede utilizar esta función para determinar si necesita guardar la entidad.</p>
<p>Esto solo se aplica a los atributos de <a href=/docs/es/20-R8/API/DataClassClass#returned-object><code>kind</code></a> "storage" o "relatedEntity".</p>
<p>Para una nueva entidad que acaba de ser creada (con <a href=/docs/es/20-R8/API/DataClassClass#new><code>.new()</code></a>), la función devuelve False. Sin embargo, en este contexto, si accede a un atributo cuya <a href=/docs/es/20-R8/API/DataClassClass#returned-object>propiedad <code>autoFilled</code></a> es True, la función <code>.touched()</code> entonces devolverá True. Por ejemplo, después de ejecutar <code>$id:=ds.Employee.ID</code> para una nueva entidad (asumiendo que el atributo ID tiene la propiedad "Autoincrement"), <code>.touched()</code> devuelve True.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-16>Ejemplo<a href=#ejemplo-16 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>En este ejemplo, comprobamos si es necesario guardar la entidad:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:=$emp.firstName //Aunque se actualice con el mismo valor, el atributo se marca como tocado</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($emp.touched()) //si se ha modificado al menos uno de los atributos</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $emp.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if // de lo contrario, no es necesario guardar la entidad</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=touchedattributes>.touchedAttributes()<a href=#touchedattributes class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.touchedAttributes()</strong> : Collection</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>Collection<td style=text-align:center>&lt;-<td>Nombres de atributos tocados, o colección vacía</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-21>Descripción<a href=#descripción-21 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función<code>.touchedAttributes()</code>  devuelve los nombres de los atributos que han sido modificados desde que la entidad fue cargada en memoria.</p>
<p>Esto solo se aplica a los atributos de <a href=/docs/es/20-R8/API/DataClassClass#returned-object><code>kind</code></a> "storage" o "relatedEntity".</p>
<p>En el caso de que se haya tocado una entidad relacionada (es decir, la llave externa), se devuelve el nombre de la entidad relacionada y el nombre de su llave primaria.</p>
<p>Si no se ha tocado ningún atributo de entidad, el método devuelve una colección vacía.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-1-6>Ejemplo 1<a href=#ejemplo-1-6 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(725)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:=$emp.firstName //Aunque se actualice con el mismo valor, el atributo se marca como tocado</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //$touchedAttributes: ["firstName","lastName"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-2-5>Ejemplo 2<a href=#ejemplo-2-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $touchedAttributes : Collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $emp : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $company : cs.CompanyEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=New collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp:=ds.Employee.get(672)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.firstName:=$emp.firstName</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.lastName:="Martin"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $company:=ds.Company.get(121)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $emp.employer:=$company</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $touchedAttributes:=$emp.touchedAttributes()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //collection $touchedAttributes: ["firstName","lastName","employer","employerID"]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>En este caso:</p>
<ul>
<li>firstName y lastName tienen un tipo <code>storage</code></li>
<li>el empleador tiene un tipo <code>relatedEntity</code></li>
<li>employerID es la llave extranjera de la entidad relacionada con el empleador</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=unlock>.unlock()<a href=#unlock class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h2>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>













<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>17<td>Añadidos</table>
</div></div></details>
<p><strong>.unlock()</strong> : Object</p>

















<table><thead><tr><th>Parámetros<th>Tipo<th style=text-align:center><th>Descripción<tbody><tr><td>Resultado<td>Object<td style=text-align:center>&lt;-<td>Objeto estado</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=descripción-22>Descripción<a href=#descripción-22 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<p>La función <code>.unlock()</code>  elimina el bloqueo pesimista del registro que coincide con la entidad en el datastore y la tabla relacionada con su dataclass.</p>
<blockquote>
<p>Para más información, por favor consulte la sección <a href=/docs/es/20-R8/ORDA/entities#bloqueo-de-una-entidad>Bloqueo de entidades</a>.</p>
</blockquote>
<p>Un registro se desbloquea automáticamente cuando ya no es referenciado por ninguna entidad en el proceso de bloqueo (por ejemplo: si el bloqueo se pone sólo en una referencia local de una entidad, la entidad y, por tanto, el registro se desbloquea cuando el proceso termina).</p>
<p>Cuando un registro se bloquea, debe desbloquearse desde el proceso de bloqueo y en la referencia de la entidad que puso el bloqueo. Por ejemplo:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> $e1:=ds.Emp.all()[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $e2:=ds.Emp.all()[0]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $res:=$e1.lock() //$res.success=true</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $res:=$e2.unlock() //$res.success=false</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $res:=$e1.unlock() //$res.success=true</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p><code>unlock()</code> debe ser llamado tantas veces como <a href=#lock><code>lock()</code></a> fue llamado en el mismo proceso para que la entidad sea realmente desbloqueada.</div></div>
<p><strong>Resultado</strong></p>
<p>El objeto devuelto por <code>.unlock()</code> contiene la siguiente propiedad:</p>















<table><thead><tr><th>Propiedad<th>Tipo<th>Descripción<tbody><tr><td>success<td>Boolean<td>True si la acción de desbloquear tiene éxito, False en caso contrario. Si el desbloqueo se realiza en una entidad abandonada, en un registro no bloqueado o en un registro bloqueado por otro proceso o entidad, el éxito es False.</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ejemplo-17>Ejemplo<a href=#ejemplo-17 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado">​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var $employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var $status : Object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $employee:=ds.Employee.get(725)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.lock()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> ... //processing</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> $status:=$employee.unlock()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> If($status.success)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    ALERT("The entity is now unlocked")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> End if</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copiar código al portapaples" title=Copiar class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FEntityClass.md%20(20-R8)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comente esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/es/20-R8/API/EmailObjectClass><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Email</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/es/20-R8/API/EntitySelectionClass><div class=pagination-nav__sublabel>Siguiente</div><div class=pagination-nav__label>EntitySelection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#resumen class="table-of-contents__link toc-highlight">Resumen</a><li><a href=#attributename class="table-of-contents__link toc-highlight">.<em>attributeName</em></a><li><a href=#clone class="table-of-contents__link toc-highlight">.clone()</a><li><a href=#diff class="table-of-contents__link toc-highlight">.diff()</a><li><a href=#drop class="table-of-contents__link toc-highlight">.drop()</a><li><a href=#first class="table-of-contents__link toc-highlight">.first()</a><li><a href=#fromobject class="table-of-contents__link toc-highlight">.fromObject()</a><li><a href=#getdataclass class="table-of-contents__link toc-highlight">.getDataClass()</a><li><a href=#getkey class="table-of-contents__link toc-highlight">.getKey()</a><li><a href=#getremotecontextattributes class="table-of-contents__link toc-highlight">.getRemoteContextAttributes()</a><li><a href=#getselection class="table-of-contents__link toc-highlight">.getSelection()</a><li><a href=#getstamp class="table-of-contents__link toc-highlight">.getStamp()</a><li><a href=#indexof class="table-of-contents__link toc-highlight">.indexOf()</a><li><a href=#isnew class="table-of-contents__link toc-highlight">.isNew()</a><li><a href=#last class="table-of-contents__link toc-highlight">.last()</a><li><a href=#lock class="table-of-contents__link toc-highlight">.lock()</a><li><a href=#next class="table-of-contents__link toc-highlight">.next()</a><li><a href=#previous class="table-of-contents__link toc-highlight">.previous()</a><li><a href=#reload class="table-of-contents__link toc-highlight">.reload()</a><li><a href=#save class="table-of-contents__link toc-highlight">.save()</a><li><a href=#toobject class="table-of-contents__link toc-highlight">.toObject()</a><li><a href=#touched class="table-of-contents__link toc-highlight">.touched()</a><li><a href=#touchedattributes class="table-of-contents__link toc-highlight">.touchedAttributes()</a><li><a href=#unlock class="table-of-contents__link toc-highlight">.unlock()</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Comunidad</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="col footer__col"><div class=footer__title>Soporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Documentation download<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Donde todo empezó)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conocimientos</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Descargas</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obtener soporte</a></ul></div><div class="col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Acerca de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contáctenos</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D en el mundo</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>2025 4D SAS - Todos los derechos reservados</div></div></div></footer></div>