<!doctype html><html lang=es dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-20 docs-doc-page docs-doc-id-REST/classFunctions" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Llamar a las funciones de clase ORDA | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://developer.4d.com/docs/es/20/REST/classFunctions /><meta data-rh=true property=og:locale content=es /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=fr /><meta data-rh=true property=og:locale:alternate content=ja /><meta data-rh=true property=og:locale:alternate content=pt /><meta data-rh=true name=docusaurus_locale content=es /><meta data-rh=true name=docsearch:language content=es /><meta data-rh=true name=docusaurus_version content=20 /><meta data-rh=true name=docusaurus_tag content=docs-default-20 /><meta data-rh=true name=docsearch:version content=20 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-20 /><meta data-rh=true property=og:title content="Llamar a las funciones de clase ORDA | 4D Docs"/><meta data-rh=true name=description content="Puede llamar a funciones de clase de modelos de datos definidas para el modelo de datos ORDA a través de sus peticiones REST, para poder beneficiarse de la API expuesta de la aplicación 4D objetivo."/><meta data-rh=true property=og:description content="Puede llamar a funciones de clase de modelos de datos definidas para el modelo de datos ORDA a través de sus peticiones REST, para poder beneficiarse de la API expuesta de la aplicación 4D objetivo."/><link data-rh=true rel=icon href=/docs/es/img/favicon/4d.gif /><link data-rh=true rel=canonical href=https://developer.4d.com/docs/es/20/REST/classFunctions /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/REST/classFunctions hreflang=en /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/20/REST/classFunctions hreflang=fr /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/20/REST/classFunctions hreflang=es /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/20/REST/classFunctions hreflang=ja /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/20/REST/classFunctions hreflang=pt /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/20/REST/classFunctions hreflang=x-default /><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/es/20/category/web-applications","name":"Aplicaciones web","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/es/20/category/rest-server","name":"Servidor REST","position":2},{"@type":"ListItem","item":"https://developer.4d.com/docs/es/20/REST/gettingStarted","name":"Guías","position":3},{"@type":"ListItem","item":"https://developer.4d.com/docs/es/20/REST/classFunctions","name":"Llamar a las funciones de clase ORDA","position":4}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/es/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/es/assets/css/styles.73ef7d2c.css /><script src=/docs/es/assets/js/runtime~main.78a255ce.js defer></script><script src=/docs/es/assets/js/main.b2c349be.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/es/img/logohome.png /><div role=region aria-label="Saltar al contenido principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar al contenido principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar la barra de navegación" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/es/><div class=navbar__logo><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Documentación 4D</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/es/20/REST/classFunctions>20</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/es/REST/classFunctions>21 BETA</a><li><a class=dropdown__link href=/docs/es/20-R10/REST/classFunctions>20 R10</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/es/20/REST/classFunctions>20</a><li><a class=dropdown__link href=/docs/es/19/REST/classFunctions>19</a><li><a class=dropdown__link href=/docs/es/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Español</a><ul class=dropdown__menu><li><a href=/docs/20/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/20/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/20/REST/classFunctions target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=es>Español</a><li><a href=/docs/ja/20/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/20/REST/classFunctions target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="modo sistema" aria-label="Cambia entre el modo oscuro y el claro (actualmente modo sistema)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Buscar (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Buscar</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Volver arriba" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/es/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>Documentación 4D</b></a><nav aria-label="Barra lateral de Documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/20/category/getting-started><span title=Comencemos class=categoryLinkLabel_W154>Comencemos</span></a><button aria-label="Ampliar la categoría 'Comencemos' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/20/category/core-development><span title=Desarrollo class=categoryLinkLabel_W154>Desarrollo</span></a><button aria-label="Ampliar la categoría 'Desarrollo' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/20/category/administration><span title=Administración class=categoryLinkLabel_W154>Administración</span></a><button aria-label="Ampliar la categoría 'Administración' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/20/Extensions/overview><span title=Extensiones class=categoryLinkLabel_W154>Extensiones</span></a><button aria-label="Ampliar la categoría 'Extensiones' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/es/20/category/web-applications><span title="Aplicaciones web" class=categoryLinkLabel_W154>Aplicaciones web</span></a><button aria-label="Contraer categoría de la barra lateral 'Aplicaciones web'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/es/20/WebServer/overview><span title="Servidor Web" class=categoryLinkLabel_W154>Servidor Web</span></a><button aria-label="Ampliar la categoría 'Servidor Web' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/es/20/WebServer/gettingStarted><span title="Desarrollo web" class=categoryLinkLabel_W154>Desarrollo web</span></a><button aria-label="Ampliar la categoría 'Desarrollo web' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/es/20/category/rest-server><span title="Servidor REST" class=categoryLinkLabel_W154>Servidor REST</span></a><button aria-label="Contraer categoría de la barra lateral 'Servidor REST'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/es/20/REST/gettingStarted><span title=Guías class=categoryLinkLabel_W154>Guías</span></a><button aria-label="Contraer categoría de la barra lateral 'Guías'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20/REST/configuration><span title="Configuración del servidor" class=linkLabel_WmDU>Configuración del servidor</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20/REST/authUsers><span title="Usuarios y sesiones" class=linkLabel_WmDU>Usuarios y sesiones</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20/REST/genInfo><span title="Obtener información del servidor" class=linkLabel_WmDU>Obtener información del servidor</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20/REST/manData><span title="Manipulación de datos" class=linkLabel_WmDU>Manipulación de datos</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/es/20/REST/classFunctions><span title="Llamar a las funciones de clase ORDA" class=linkLabel_WmDU>Llamar a las funciones de clase ORDA</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/20/REST/REST_requests><span title="Acerca de las peticiones REST" class=linkLabel_WmDU>Acerca de las peticiones REST</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/es/20/category/api-general><span title="API (general)" class=categoryLinkLabel_W154>API (general)</span></a><button aria-label="Ampliar la categoría 'API (general)' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/es/20/category/api-dataclass><span title="API (dataClass)" class=categoryLinkLabel_W154>API (dataClass)</span></a><button aria-label="Ampliar la categoría 'API (dataClass)' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/20/category/desktop-applications><span title="Aplicaciones de escritorio" class=categoryLinkLabel_W154>Aplicaciones de escritorio</span></a><button aria-label="Ampliar la categoría 'Aplicaciones de escritorio' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a href=https://developer.4d.com/go-mobile/ target=_blank rel="noopener noreferrer" class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false><span title="Aplicaciones móviles" class=categoryLinkLabel_W154>Aplicaciones móviles</span></a></div></ul></nav><button type=button title="Contraer la barra lateral" aria-label="Contraer la barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Camino de navegación"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Página de inicio" class=breadcrumbs__link href=/docs/es/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/es/20/category/web-applications><span>Aplicaciones web</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/es/20/category/rest-server><span>Servidor REST</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/es/20/REST/gettingStarted><span>Guías</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Llamar a las funciones de clase ORDA</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versión: 20</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Llamar a las funciones de clase ORDA</h1></header><p>Puede llamar a <a class="" href=/docs/es/20/ORDA/ordaClasses>funciones de clase de modelos de datos</a> definidas para el modelo de datos ORDA a través de sus peticiones REST, para poder beneficiarse de la API expuesta de la aplicación 4D objetivo.</p>
<p>Las funciones se llaman simplemente en peticiones POST en la interfaz ORDA apropiada, sin (). Por ejemplo, si ha definido una función <code>getCity()</code> en la dataclass City, podría llamarla utilizando la siguiente petición:</p>
<p><code>/rest/City/getCity</code></p>
<p>con los datos en el cuerpo de la petición POST: <code>["Aguada"]</code></p>
<p>En el lenguaje 4D, esta llamada equivale a:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$city:=ds.City.getCity("Aguada")</span><br/></span></code></pre></div></div>
<blockquote>
<p>Sólo las funciones con la palabra clave <code>exposed</code> pueden ser llamadas directamente desde las peticiones REST. Ver la sección <a class="" href=/docs/es/20/ORDA/ordaClasses#exposed-vs-non-exposed-functions>Funciones expuestas vs. no expuestas</a>.</p>
</blockquote>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=llamadas-de-las-funciones>Llamadas de las funciones<a href=#llamadas-de-las-funciones class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<p>Las funciones deben llamarse siempre utilizando peticiones <strong>POST</strong> (una petición GET recibirá un error).</p>
<p>Las funciones son llamadas en el objeto correspondiente en el almacén de datos del servidor.</p>





































<table><thead><tr><th>Función de clase<th>Sintaxis<tbody><tr><td><a class="" href=/docs/es/20/ORDA/ordaClasses#datastore-class>datastore class</a><td><code>/rest/$catalog/DataStoreClassFunction</code><tr><td><a class="" href=/docs/es/20/ORDA/ordaClasses#dataclass-class>dataclass class</a><td><code>/rest/{dataClass}/DataClassClassFunction</code><tr><td><a class="" href=/docs/es/20/ORDA/ordaClasses#entityselection-class>entitySelection class</a><td><code>/rest/{dataClass}/EntitySelectionClassFunction</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$entityset/entitySetNumber</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$filter</code><tr><td><td><code>/rest/{dataClass}/EntitySelectionClassFunction/$orderby</code><tr><td><a class="" href=/docs/es/20/ORDA/ordaClasses#entity-class>entity class</a><td><code>/rest/\{dataClass\}(key)/EntityClassFunction/</code></table>
<blockquote>
<p><code>/rest/\{dataClass\}/Function</code> puede utilizarse para llamar a una función de dataclass o de selección de entidades (<code>/rest/\{dataClass\}</code> devuelve todas las entidades de la DataClass como una selección de entidades).<br/>
La función se busca primero en la clase de selección de entidades. Si no se encuentra, se busca en la dataclass. En otras palabras, si una función con el mismo nombre se define tanto en la clase DataClass como en la clase EntitySelection, la función de clase de DataClass nunca se ejecutará.</p>
</blockquote>
<blockquote>
<p>Todo el código 4D llamado desde las peticiones REST <strong>debe ser hilo seguro</strong> si el proyecto se ejecuta en modo compilado, porque el Servidor REST siempre utiliza procesos apropiativos en este caso (el valor de la propiedad <a class="" href=/docs/es/20/WebServer/webServerConfig#use-preemptive-processes><em>Utilizar proceso apropiativo</em> </a>es ignorado por el Servidor REST).</p>
</blockquote>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=parámetros>Parámetros<a href=#parámetros class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<p>Puede enviar los parámetros a las funciones definidas en las clases usuarios ORDA. Del lado del servidor, se recibirán en las funciones de clase en los parámetros normales $1, $2, etc.</p>
<p>Se aplican las siguientes reglas:</p>
<ul>
<li class="">Los parámetros deben pasarse en el <strong>cuerpo de la petición POST</strong></li>
<li class="">Los parámetros deben estar incluidos en una colección (formato JSON)</li>
<li class="">Todos los tipos de datos escalares soportados en las colecciones JSON pueden ser pasados como parámetros.</li>
<li class="">La selección de entidades y la entidad se pueden pasar como parámetros. El objeto JSON debe contener atributos específicos utilizados por el servidor REST para asignar datos a los objetos ORDA correspondientes: __DATACLASS, __ENTITY, __ENTITIES, __DATASET.</li>
</ul>
<p>Ver <a href=#receiving-an-entity-selection-as-parameter class="">este ejemplo</a>.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=parámetro-de-valor-escalar>Parámetro de valor escalar<a href=#parámetro-de-valor-escalar class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>El(los) parámetros deben estar simplemente incluirse en una colección definida en el cuerpo. For example, with a  dataclass function <code>getCities()</code> receiving text parameters: <code>/rest/City/getCities</code></p>
<p><strong>Parámetros en el cuerpo:</strong> ["Aguada","Paris"]</p>
<p>Todos los tipos de datos JSON son soportados en los parámetros, incluidos los punteros JSON. Las fechas se pueden pasar como cadenas en formato de fecha ISO 8601 (por ejemplo, "2020-08-22T22:00:000Z").</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=parámetro-de-entidad>Parámetro de entidad<a href=#parámetro-de-entidad class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>Las entidades pasadas en los parámetros son referenciadas en el servidor a través de su llave (<em>es decir,</em> propiedad __KEY). Si el parámetro llave se omite en una petición, una nueva entidad se carga en memoria del servidor. También puede pasar valores para todos los atributos de la entidad. Estos valores se utilizarán automáticamente para la entidad manejada en el servidor.</p>
<blockquote>
<p>Si la petición envía los valores de atributo modificados para una entidad existente en el servidor, la función de modelo de datos ORDA llamada se ejecutará automáticamente en el servidor con los valores modificados. Esta funcionalidad le permite, por ejemplo, verificar el resultado de una operación en una entidad, tras aplicar todas las reglas de negocio, desde la aplicación cliente. A continuación, puede decidir guardar o no la entidad en el servidor.</p>
</blockquote>






























<table><thead><tr><th>Propiedades<th>Tipo<th>Descripción<tbody><tr><td>Atributos de la entidad<td>mixto<td>Opcional - Valores a modificar<tr><td>__DATACLASS<td>Text<td>Obligatorio - Indica la Dataclass de la entidad<tr><td>__ENTITY<td>Boolean<td>Obligatorio - True para indicar al servidor que el parámetro es una entidad<tr><td>__KEY<td>mixto (mismo tipo que la llave primaria)<td>Opcional - llave primaria de la entidad</table>
<ul>
<li class="">Si no se proporciona __KEY, se crea una nueva entidad en el servidor con los atributos dados.</li>
<li class="">Si se proporciona __KEY, la entidad correspondiente a __KEY se carga en el servidor con los atributos dados</li>
</ul>
<p>Ver ejemplos para crear o actualizar entidades.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=parámetro-de-entidad-asociado>Parámetro de entidad asociado<a href=#parámetro-de-entidad-asociado class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Las mismas propiedades que para un <a href=#entity-parameter class="">parámetro de entidad</a>. Además, la entidad relacionada debe existir y ser referenciada por __KEY, que contiene su llave primaria.</p>
<p>Ver los ejemplos para <a href=#creating-an-entity-with-a-related-entity class="">creación</a> o <a href=#updating-an-entity-with-a-related-entity class="">actualización</a> de las entidades con las entidades relacionadas.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=parámetro-de-selección-de-entidad>Parámetro de selección de entidad<a href=#parámetro-de-selección-de-entidad class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La selección de entidades debe haber sido definida previamente utilizando <a class="" href=/docs/es/20/REST/method#methodentityset>$method=entityset</a>.</p>
<blockquote>
<p>Si la petición envía una selección de entidades modificada al servidor, la función del modelo de datos ORDA llamada se ejecutará automáticamente en el servidor con la selección de entidades modificada.</p>
</blockquote>

























<table><thead><tr><th>Propiedades<th>Tipo<th>Descripción<tbody><tr><td>Atributos de la entidad<td>mixto<td>Opcional - Valores a modificar<tr><td>__DATASET<td>Text<td>Obligatorio - entitySetID (UUID) de la selección de entidades<tr><td>__ENTITIES<td>Boolean<td>Obligatorio - True para indicar al servidor que el parámetro es una selección de entidades</table>
<p>Ver ejemplo para <a href=#receiving-an-entity-selection-as-parameter class="">recibir una selección de entidades</a>.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplos-de-peticiones>Ejemplos de peticiones<a href=#ejemplos-de-peticiones class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<p>Esta base de datos se expone como un almacén de datos remoto en localhost (puerto 8111):</p>
<p><img decoding=async loading=lazy alt=alt-text src=/docs/es/assets/images/ordastructure-64d64d76ce9764a2365629e381bde282.png width=882 height=599 class=img_ev3q /></p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-función-de-clase-de-datastore>Utilizar una función de clase de datastore<a href=#utilizar-una-función-de-clase-de-datastore class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase de <code>DataStore</code> US_Cities ofrece una API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// DataStore class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataStoreImplementation</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getName()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:="US cities and zip codes manager" </span><br/></span></code></pre></div></div>
<p>A continuación, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/$catalog/getName</code></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado>Resultado<a href=#resultado class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"result": "US cities and zip codes manager" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-función-de-clase-de-dataclass>Utilizar una función de clase de dataclass<a href=#utilizar-una-función-de-clase-de-dataclass class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase de Dataclass <code>City</code> ofrece una PI que devuelve una entidad de ciudad a partir del nombre pasado en parámetro:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// City class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataClass</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getCity()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $0 : cs.CityEntity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $1,$nameParam : text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $nameParam:=$1</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=This.query("name = :1";$nameParam).first()</span><br/></span></code></pre></div></div>
<p>A continuación, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getCity</code></p>
<p>Petición: ["Aguada"]</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-1>Resultado<a href=#resultado-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>El resultado es una entidad:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "City",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "City",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "1",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-03-09T08:03:19.923Z",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 1,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "name": "Aguada",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "countyFIPS": 72003,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "county": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/County(72003)",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": "72003" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    },</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "zips": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/City(1)/zips?$expand=zips" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-función-de-clase-de-una-entidad>Utilizar una función de clase de una entidad<a href=#utilizar-una-función-de-clase-de-una-entidad class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase de entidad <code>CityEntity</code> ofrece una API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// CityEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends Entity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getPopulation()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=This.zips.sum("population")</span><br/></span></code></pre></div></div>
<p>A continuación, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City(2)/getPopulation</code></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-2>Resultado<a href=#resultado-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 48814</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-función-clase-entityselection>Utilizar una función clase entitySelection<a href=#utilizar-una-función-clase-entityselection class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase de selección de entidad <code>CityEntity</code> ofrece una API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// CitySelection class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends EntitySelection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getPopulation()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=This.zips.sum("population")</span><br/></span></code></pre></div></div>
<p>A continuación, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>127.0.0.1:8111/rest/City/getPopulation/?$filter="ID&lt;3"</code></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-3>Resultado<a href=#resultado-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 87256</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-función-de-clase-de-selección-de-entidades-y-un-conjunto-de-entidades>Utilizar una función de clase de selección de entidades y un conjunto de entidades<a href=#utilizar-una-función-de-clase-de-selección-de-entidades-y-un-conjunto-de-entidades class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase <code>StudentsSelection</code> tine una función <code>getAgeAverage</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsSelection Class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends EntitySelection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getAgeAverage</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    C_LONGINT($sum;$0)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    C_OBJECT($s)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $sum:=0</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    For each ($s;This)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        $sum:=$sum+$s.age()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    End for each </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=$sum/This.length</span><br/></span></code></pre></div></div>
<p>Una vez que haya creado un conjunto de entidades, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getAgeAverage/$entityset/17E83633FFB54ECDBF947E5C620BB532</code></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-4>Resultado<a href=#resultado-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "result": 34</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-función-de-clase-de-selección-de-entidades-y-unorderby>Utilizar una función de clase de selección de entidades y unorderBy<a href=#utilizar-una-función-de-clase-de-selección-de-entidades-y-unorderby class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase <code>StudentsSelection</code> tiene una función <code>getLastSummary</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsSelection Class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends EntitySelection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function getLastSummary</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    C_TEXT($0)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    C_OBJECT($last)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $last:=This.last()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=$last.firstname+" - "+$last.lastname+" is ... "+String($last.age())</span><br/></span></code></pre></div></div>
<p>A continuación, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>127.0.0.1:8044/rest/Students/getLastSummary/$entityset/?$filter="lastname=b@"&$orderby="lastname"</code></p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-5>Resultado<a href=#resultado-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "result": "Wilbert - Bull is ... 21" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-entidad-que-se-creará-en-el-servidor>Utilizar una entidad que se creará en el servidor<a href=#utilizar-una-entidad-que-se-creará-en-el-servidor class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La clase de Dataclass <code>Students</code> tiene la función <code>pushData()</code> que recibe una entidad que contiene los datos del cliente. El método <code>checkData()</code> efectúa algunos controles. Si son válidos, la entidad se guarda y se devuelve.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Students Class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataClass</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function pushData</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $1, $entity, $status, $0 : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $entity:=$1</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=checkData($entity) // $status es un objeto con una propiedad booleana "success"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=$status</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    If ($status.success)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        $status:=$entity.save()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">       If ($status.success)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">           $0:=$entity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    End if</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<p>Lance esta petición:</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Cuerpo de la petición:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"firstname":"Ann",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Brown" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br/></span></code></pre></div></div>
<p>Como ninguna <code>__KEY</code> es dada, una nueva entidad Students está cargada en el servidor <strong>con los atributos del cliente</strong>. Como la función <code>pushData()</code> ejecuta una acción <code>save()</code>, la nueva entidad es creada.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-6>Resultado<a href=#resultado-6 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "55",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T10:54:41.805Z",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 55,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "Ann",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "BROWN",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": null,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "school": null</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-entidad-a-actualizar-en-el-servidor>Utilizar una entidad a actualizar en el servidor<a href=#utilizar-una-entidad-a-actualizar-en-el-servidor class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>Igual que el anterior pero con el atributo __KEY</p>
<p>Lance esta petición:</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Cuerpo de la petición:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Brownie",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__KEY":55</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br/></span></code></pre></div></div>
<p>Como <code>__KEY</code> es dada, la entidad Students está cargada con llave primaria 55 <strong>con el valor lastname recibido por el cliente</strong>. Como la función ejecuta una acción <code>save()</code>, la nueva entidad es actualizada.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-7>Resultado<a href=#resultado-7 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "55",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T11:10:21.679Z",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 3,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 55,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "Ann",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "BROWNIE",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": null,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "school": null </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=crear-una-entidad-con-una-entidad-relacionada>Crear una entidad con una entidad relacionada<a href=#crear-una-entidad-con-una-entidad-relacionada class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>En este ejemplo, creamos una nueva entidad Students con la entidad Schools con la llave primaria 2.</p>
<p>Lance esta petición:</p>
<p><strong>POST:</strong><code>http://127.0.0.1:8044/rest/Students/pushData</code></p>
<p>Cuerpo de la petición:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"firstname":"John",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"lastname":"Smith",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"school":{"__KEY":2}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-8>Resultado<a href=#resultado-8 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__entityModel": "Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__DATACLASS": "Students",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__KEY": "56",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__TIMESTAMP": "2020-06-16T11:16:47.601Z",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "__STAMP": 1,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "ID": 56,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "firstname": "John",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "lastname": "SMITH",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "schoolID": 2,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">       "school": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        "__deferred": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            "uri": "/rest/Schools(2)",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            "__KEY": "2" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=actualizar-una-entidad-con-una-entidad-relacionada>Actualizar una entidad con una entidad relacionada<a href=#actualizar-una-entidad-con-una-entidad-relacionada class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>En este ejemplo, asociamos una escuela existente a una entidad Students. La clase <code>StudentsEntity</code> tiene una API:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// StudentsEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends Entity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function putToSchool($school : Object) -> $status : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        //$school is a Schools entity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        //Asocia la entidad relacionada "school" con la entidad actual "Students"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    This.school:=$school</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=This.save()</span><br/></span></code></pre></div></div>
<p>You run this request, called on a Students entity : <strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students(1)/putToSchool</code> Body of the request:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__DATACLASS":"Schools",</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITY":true,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__KEY":2</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}]</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-9>Resultado<a href=#resultado-9 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "result": {</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        "success": true</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=recibir-una-selección-de-entidades-como-parámetro>Recibir una selección de entidades como parámetro<a href=#recibir-una-selección-de-entidades-como-parámetro class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>En la clase de Dataclass <code>Students</code>, la función <code>setFinalExam()</code> actualiza una selección de entidad recibida ($1). En realidad, actualiza el atributo <em>finalExam</em> con el valor recibido ($2). Devuelve las llaves primarias de las entidades actualizadas.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Students class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Class extends DataClass</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">exposed Function setFinalExam()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $1, $es, $student, $status : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $2, $examResult : Text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $keys, $0 : Collection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      //Entity selection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $es:=$1</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $examResult:=$2</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $keys:=New collection()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      //Bucle en la selección de entidades</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    For each ($student;$es)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        $student.finalExam:=$examResult</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        $status:=$student.save()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        If ($status.success)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            $keys.push($student.ID)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    End for each </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $0:=$keys</span><br/></span></code></pre></div></div>
<p>Un conjunto de entidades se crea primero con esta petición:</p>
<p><code>http://127.0.0.1:8044/rest/Students/?$filter="ID&lt;3"&$method=entityset</code></p>
<p>A continuación, puede ejecutar esta petición:</p>
<p><strong>POST</strong> <code>http://127.0.0.1:8044/rest/Students/setFinalExam</code></p>
<p>Cuerpo de la petición:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__ENTITIES":true,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"__DATASET":"9B9C053A111E4A288E9C1E48965FE671" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">},</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">"Passed" </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=resultado-10>Resultado<a href=#resultado-10 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Se han actualizado las entidades con llaves primarias 1 y 2.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    "result": [</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        1,</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        2</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    ]</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=utilizar-una-selección-de-entidades-actualizada-en-el-cliente>Utilizar una selección de entidades actualizada en el cliente<a href=#utilizar-una-selección-de-entidades-actualizada-en-el-cliente class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>Utilizando la función <code>getAgeAverage()</code> <a href=#using-an-entityselection-class-function-and-an-entityset class="">definida anteriormente</a>.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var $remoteDS, $newStudent, $students : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $ageAverage : Integer</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$remoteDS:=Open datastore(New object("hostname";"127.0.0.1:8044");"students")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// $newStudent es una entidad "student" a procesar</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$newStudent:=...</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$students:=$remoteDS.Students.query("school.name = :1";"Math school")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// Hemos añadido una entidad a la selección de entidades $students en el cliente</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$students.add($newStudent) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// Llamamos a una función en la clase StudentsSelection que devuelve la edad media de los estudiantes en la selección de entidades</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// La función se utiliza en el servidor en la selección de la entidad $students actualizada, que incluye el estudiante añadido por el cliente</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$ageAverage:=$students.getAgeAverage()</span><br/></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20REST%2FClassFunctions.md%20(20)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comente esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/es/20/REST/manData><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Manipulación de datos</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/es/20/REST/REST_requests><div class=pagination-nav__sublabel>Siguiente</div><div class=pagination-nav__label>Acerca de las peticiones REST</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#llamadas-de-las-funciones class="table-of-contents__link toc-highlight">Llamadas de las funciones</a><li><a href=#parámetros class="table-of-contents__link toc-highlight">Parámetros</a><ul><li><a href=#parámetro-de-valor-escalar class="table-of-contents__link toc-highlight">Parámetro de valor escalar</a><li><a href=#parámetro-de-entidad class="table-of-contents__link toc-highlight">Parámetro de entidad</a><li><a href=#parámetro-de-selección-de-entidad class="table-of-contents__link toc-highlight">Parámetro de selección de entidad</a></ul><li><a href=#ejemplos-de-peticiones class="table-of-contents__link toc-highlight">Ejemplos de peticiones</a><ul><li><a href=#utilizar-una-función-de-clase-de-datastore class="table-of-contents__link toc-highlight">Utilizar una función de clase de datastore</a><li><a href=#utilizar-una-función-de-clase-de-dataclass class="table-of-contents__link toc-highlight">Utilizar una función de clase de dataclass</a><li><a href=#utilizar-una-función-de-clase-de-una-entidad class="table-of-contents__link toc-highlight">Utilizar una función de clase de una entidad</a><li><a href=#utilizar-una-función-clase-entityselection class="table-of-contents__link toc-highlight">Utilizar una función clase entitySelection</a><li><a href=#utilizar-una-función-de-clase-de-selección-de-entidades-y-un-conjunto-de-entidades class="table-of-contents__link toc-highlight">Utilizar una función de clase de selección de entidades y un conjunto de entidades</a><li><a href=#utilizar-una-función-de-clase-de-selección-de-entidades-y-unorderby class="table-of-contents__link toc-highlight">Utilizar una función de clase de selección de entidades y unorderBy</a><li><a href=#utilizar-una-entidad-que-se-creará-en-el-servidor class="table-of-contents__link toc-highlight">Utilizar una entidad que se creará en el servidor</a><li><a href=#utilizar-una-entidad-a-actualizar-en-el-servidor class="table-of-contents__link toc-highlight">Utilizar una entidad a actualizar en el servidor</a><li><a href=#crear-una-entidad-con-una-entidad-relacionada class="table-of-contents__link toc-highlight">Crear una entidad con una entidad relacionada</a><li><a href=#actualizar-una-entidad-con-una-entidad-relacionada class="table-of-contents__link toc-highlight">Actualizar una entidad con una entidad relacionada</a><li><a href=#recibir-una-selección-de-entidades-como-parámetro class="table-of-contents__link toc-highlight">Recibir una selección de entidades como parámetro</a><li><a href=#utilizar-una-selección-de-entidades-actualizada-en-el-cliente class="table-of-contents__link toc-highlight">Utilizar una selección de entidades actualizada en el cliente</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Comunidad</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Soporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Descarga de documentación<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Donde todo empezó)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conocimientos</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Descargas</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obtener soporte</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Acerca de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contáctenos</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D en el mundo</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>2025 4D SAS - Todos los derechos reservados</div></div></div></footer></div></body>