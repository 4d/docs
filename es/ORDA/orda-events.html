<!doctype html><html lang=es dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-21 docs-doc-page docs-doc-id-ORDA/orda-events" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Eventos de entidad | 4D Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://developer.4d.com/docs/es/ORDA/orda-events /><meta data-rh=true property=og:locale content=es /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=fr /><meta data-rh=true property=og:locale:alternate content=ja /><meta data-rh=true property=og:locale:alternate content=pt /><meta data-rh=true name=docusaurus_locale content=es /><meta data-rh=true name=docsearch:language content=es /><meta data-rh=true name=docusaurus_version content=21 /><meta data-rh=true name=docusaurus_tag content=docs-default-21 /><meta data-rh=true name=docsearch:version content=21 /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-21 /><meta data-rh=true property=og:title content="Eventos de entidad | 4D Docs"/><meta data-rh=true name=description content=Historia /><meta data-rh=true property=og:description content=Historia /><link data-rh=true rel=icon href=/docs/es/img/favicon/4d.gif /><link data-rh=true rel=canonical href=https://developer.4d.com/docs/es/ORDA/orda-events /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ORDA/orda-events hreflang=en /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/fr/ORDA/orda-events hreflang=fr /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/es/ORDA/orda-events hreflang=es /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ja/ORDA/orda-events hreflang=ja /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/pt/ORDA/orda-events hreflang=pt /><link data-rh=true rel=alternate href=https://developer.4d.com/docs/ORDA/orda-events hreflang=x-default /><link data-rh=true rel=preconnect href=https://OJ04C0M3CU-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.4d.com/docs/es/category/core","name":"Desarrollo","position":1},{"@type":"ListItem","item":"https://developer.4d.com/docs/es/ORDA/overview","name":"ORDA","position":2},{"@type":"ListItem","item":"https://developer.4d.com/docs/es/ORDA/orda-events","name":"Eventos de entidad","position":3}]}</script><link rel=search type=application/opensearchdescription+xml title="4D Docs" href=/docs/es/opensearch.xml><script src=https://kit.fontawesome.com/daeacc3fc4.js crossorigin=anonymous></script><link rel=stylesheet href=/docs/es/assets/css/styles.73ef7d2c.css /><script src=/docs/es/assets/js/runtime~main.7896927e.js defer></script><script src=/docs/es/assets/js/main.05ff2484.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/es/img/logohome.png /><div role=region aria-label="Saltar al contenido principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Saltar al contenido principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar la barra de navegación" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/es/><div class=navbar__logo><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Documentación 4D</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/es/ORDA/orda-events>21 BETA</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/es/ORDA/orda-events>21 BETA</a><li><a class=dropdown__link href=/docs/es/20-R10/ORDA/orda-events>20 R10</a><li><a class=dropdown__link href=/docs/es/20/GettingStarted/installation>20</a><li><a class=dropdown__link href=/docs/es/19/GettingStarted/installation>19</a><li><a class=dropdown__link href=/docs/es/18/GettingStarted/installation>18</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Español</a><ul class=dropdown__menu><li><a href=/docs/ORDA/orda-events target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/docs/fr/ORDA/orda-events target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/docs/es/ORDA/orda-events target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=es>Español</a><li><a href=/docs/ja/ORDA/orda-events target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href=/docs/pt/ORDA/orda-events target=_self rel="noopener noreferrer" class=dropdown__link lang=pt>Português</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="modo sistema" aria-label="Cambia entre el modo oscuro y el claro (actualmente modo sistema)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Buscar (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Buscar</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Volver arriba" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/docs/es/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/docs/es/img/logohome.png alt="Logo 4D" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>Documentación 4D</b></a><nav aria-label="Barra lateral de Documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/getting-started><span title=Comencemos class=categoryLinkLabel_W154>Comencemos</span></a><button aria-label="Ampliar la categoría 'Comencemos' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/project-ide><span title="Project & IDE" class=categoryLinkLabel_W154>Project & IDE</span></a><button aria-label="Ampliar la categoría 'Project & IDE' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/4d-language><span title="Lenguaje 4D" class=categoryLinkLabel_W154>Lenguaje 4D</span></a><button aria-label="Ampliar la categoría 'Lenguaje 4D' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/docs/es/category/core><span title=Desarrollo class=categoryLinkLabel_W154>Desarrollo</span></a><button aria-label="Contraer categoría de la barra lateral 'Desarrollo'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/es/ORDA/overview><span title=ORDA class=categoryLinkLabel_W154>ORDA</span></a><button aria-label="Contraer categoría de la barra lateral 'ORDA'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/dsmapping><span title="Objeto del modelo de datos" class=linkLabel_WmDU>Objeto del modelo de datos</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/ordaClasses><span title="Clases del modelo de datos" class=linkLabel_WmDU>Clases del modelo de datos</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/entities><span title="Trabajar con los datos" class=linkLabel_WmDU>Trabajar con los datos</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/es/ORDA/orda-events><span title="Eventos de entidad" class=linkLabel_WmDU>Eventos de entidad</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/global-stamp><span title="Utilizando el sello global" class=linkLabel_WmDU>Utilizando el sello global</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/datastores><span title="Bases de datos remotas" class=linkLabel_WmDU>Bases de datos remotas</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/privileges><span title="Roles y privilegios" class=linkLabel_WmDU>Roles y privilegios</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/client-server-optimization><span title="Optimización cliente/servidor" class=linkLabel_WmDU>Optimización cliente/servidor</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/ORDA/glossary><span title=Glosario class=linkLabel_WmDU>Glosario</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/es/category/processes><span title=Procesos class=categoryLinkLabel_W154>Procesos</span></a><button aria-label="Ampliar la categoría 'Procesos' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/docs/es/category/database-methods><span title="Métodos base" class=categoryLinkLabel_W154>Métodos base</span></a><button aria-label="Ampliar la categoría 'Métodos base' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/Develop/transactions><span title=Transactions class=linkLabel_WmDU>Transactions</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/Tags/transformation-tags><span title="Etiquetas de transformación" class=linkLabel_WmDU>Etiquetas de transformación</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/es/Project/date-time-formats><span title="Formatos fecha y hora" class=linkLabel_WmDU>Formatos fecha y hora</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/web-applications><span title="Aplicaciones web" class=categoryLinkLabel_W154>Aplicaciones web</span></a><button aria-label="Ampliar la categoría 'Aplicaciones web' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/desktop-applications><span title="Aplicaciones de escritorio" class=categoryLinkLabel_W154>Aplicaciones de escritorio</span></a><button aria-label="Ampliar la categoría 'Aplicaciones de escritorio' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/administration><span title=Administración class=categoryLinkLabel_W154>Administración</span></a><button aria-label="Ampliar la categoría 'Administración' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/docs/es/category/extensions><span title=Extensiones class=categoryLinkLabel_W154>Extensiones</span></a><button aria-label="Ampliar la categoría 'Extensiones' de la barra lateral" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Contraer la barra lateral" aria-label="Contraer la barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Camino de navegación"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Página de inicio" class=breadcrumbs__link href=/docs/es/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/es/category/core><span>Desarrollo</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/es/ORDA/overview><span>ORDA</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Eventos de entidad</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versión: 21 BETA</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Eventos de entidad</h1></header><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary>Historia</summary><div><div class=collapsibleContent_i85q>

















<table><thead><tr><th>Lanzamiento<th>Modificaciones<tbody><tr><td>21<td>Eventos añadidos: validateSave / saving / afterSave / validateDrop / dropping / afterDrop<tr><td>20 R10<td>se ha añadido un evento touched</table>
</div></div></details>
<p>Los eventos de entidad son funciones que ORDA invoca automáticamente cada vez que las entidades y los atributos de entidad se manipulan (añaden, eliminan o modifican). Puede escribir eventos muy sencillos y luego hacerlos más sofisticados.</p>
<p>No se puede activar directamente la ejecución de la función de evento. Los eventos son llamados automáticamente por ORDA basándose en las acciones del usuario o en las operaciones realizadas mediante código sobre las entidades y sus atributos.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Entrada de blog relacionada</div><div class=admonitionContent_BuS1><p><a href=https://blog.4d.com/orda-handle-an-event-driven-logic-during-database-operations target=_blank rel="noopener noreferrer" class="">ORDA - Manejar una lógica basada en eventos durante las acciones de persistencia de datos</a></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Nota de compatibilidad</div><div class=admonitionContent_BuS1><p>Los eventos de entidad ORDA en el almacen de datos equivalen a triggers en la base de datos 4D. Sin embargo, las acciones desencadenadas a nivel de la base de datos 4D utilizando los comandos del lenguaje clásico 4D o las acciones estándar no desencadenan eventos ORDA. Note also that, unlike triggers, ORDA entity events do not lock the entire underlying table of a dataclass while saving or dropping entities. Varios eventos pueden ejecutarse en paralelo siempre que afecten a entidades distintas (es decir, registros).</div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=generalidades>Generalidades<a href=#generalidades class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=nivel-del-evento>Nivel del evento<a href=#nivel-del-evento class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>Una función de evento se define siempre en la <a class="" href=/docs/es/ORDA/ordaClasses#entity-class>clase Entity</a>.</p>
<p>Un evento puede definirse al nivel de la <strong>entidad</strong> y/o a nivel del <strong>atributo</strong> (incluye los <a class="" href=/docs/es/ORDA/ordaClasses#computed-attributes><strong>atributos calculados</strong></a>). En el primer caso, se activará para cualquier atributo de la entidad; en el otro caso, sólo se activará para el atributo objetivo.</p>
<p>Para un mismo evento, puede definir diferentes funciones para diferentes atributos.</p>
<p>También puede definir el mismo evento tanto a nivel del atributo como de la entidad. El evento atributo se llama primero y luego el evento entidad.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejecución-en-configuraciones-remotas>Ejecución en configuraciones remotas<a href=#ejecución-en-configuraciones-remotas class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>Normalmente, los eventos ORDA se ejecutan en el servidor.</p>
<p>Sin embargo, en la configuración cliente/servidor, la función de evento <code>touched()</code> puede ejecutarse en el <strong>servidor o en el cliente</strong>, dependiendo del uso de la palabra clave <a class="" href=/docs/es/ORDA/ordaClasses#local-functions><code>local</code></a>. Una implementación específica en el lado del cliente permite la activación del evento en el cliente.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>Las funciones ORDA <a class="" href=/docs/es/ORDA/ordaClasses#class-constructor><code>constructor()</code></a> se ejecutan siempre en el cliente.</div></div>
<p>Con otras configuraciones remotas (p. ej. <a href=https://developer.4d.com/qodly target=_blank rel="noopener noreferrer" class="">aplicaciones Qodly</a>, <a class="" href=/docs/es/REST/REST_requests>peticiones API REST</a>, o peticiones a través de <a class="" href=/docs/es/commands/open-datastore><code>Open datastore</code></a>), la función de evento <code>touched()</code> se ejecuta siempre <strong>del lado del servidor</strong>. Esto significa que tiene que asegurarse de que el servidor puede "ver" que se ha tocado un atributo para activar el evento (ver abajo).</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=tabla-resumen>Tabla resumen<a href=#tabla-resumen class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<p>La siguiente tabla lista los eventos ORDA junto con sus reglas.</p>







































































































<table><thead><tr><th style=text-align:left>Evento<th style=text-align:left>Nivel<th style=text-align:left>Nombre de la función<th style=text-align:center>(C/S) Ejecutado en<th>Puede detener la acción devolviendo un error<tbody><tr><td style=text-align:left>Instanciación de entidades<td style=text-align:left>Entity<td style=text-align:left><a class="" href=/docs/es/ORDA/ordaClasses#class-constructor-1><code>constructor()</code></a><td style=text-align:center>client<td>no<tr><td style=text-align:left>Atributo tocado<td style=text-align:left>Atributo<td style=text-align:left><code>event touched &lt;attrName>()</code><td style=text-align:center>Depende de la palabra clave <a class="" href=/docs/es/ORDA/ordaClasses#local-functions><code>local</code></a><td>no<tr><td style=text-align:left><td style=text-align:left>Entity<td style=text-align:left><code>event touched()</code><td style=text-align:center>Depende de la palabra clave <a class="" href=/docs/es/ORDA/ordaClasses#local-functions><code>local</code></a><td>no<tr><td style=text-align:left>Antes de guardar una entidad<td style=text-align:left>Atributo<td style=text-align:left><code>validateSave &lt;attrName>()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left><td style=text-align:left>Entity<td style=text-align:left><code>validateSave()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left>Al guardar una entidad<td style=text-align:left>Atributo<td style=text-align:left><code>saving &lt;attrName>()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left><td style=text-align:left>Entity<td style=text-align:left><code>saving()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left>Después de guardar una entidad<td style=text-align:left>Entity<td style=text-align:left><code>afterSave()</code><td style=text-align:center>server<td>no<tr><td style=text-align:left>Antes de eliminar una entidad<td style=text-align:left>Atributo<td style=text-align:left><code>validateDrop &lt;attrName>()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left><td style=text-align:left>Entity<td style=text-align:left><code>validateDrop()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left>Al soltar una entidad<td style=text-align:left>Atributo<td style=text-align:left><code>dropping &lt;attrName>()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left><td style=text-align:left>Entity<td style=text-align:left><code>dropping()</code><td style=text-align:center>server<td>sí<tr><td style=text-align:left>Después de eliminar una entidad<td style=text-align:left>Entity<td style=text-align:left><code>afterDrop()</code><td style=text-align:center>server<td>no</table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>La función <a class="" href=/docs/es/ORDA/ordaClasses#class-constructor-1><code>constructor()</code></a> no es realmente una función de evento, pero siempre es llamada cuando una nueva entidad es instanciada.</div></div>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=parámetro-event>Parámetro <em>event</em><a href=#parámetro-event class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<p>Las funciones de evento aceptan un único objeto <em>event</em> como parámetro. Cuando se llama a la función, el parámetro se llena con varias propiedades:</p>





























































<table><thead><tr><th style=text-align:left>Nombre de propiedad<th style=text-align:left>Disponibilidad<th style=text-align:left>Tipo<th style=text-align:left>Descripción<th><tbody><tr><td style=text-align:left>"kind"<td style=text-align:left>siempre<td style=text-align:left>String<td style=text-align:left>Nombre del evento: "touched", "validateSave", "saving", "afterSave", "validateDrop", "dropping", "afterDrop"<td><tr><td style=text-align:left><em>attributeName</em><td style=text-align:left>Sólo para eventos implementados a nivel de atributos ("validateSave", "saving", "validateDrop", "dropping")<td style=text-align:left>String<td style=text-align:left>Nombre del atributo (por ejemplo, "nombre")<td><tr><td style=text-align:left><em>dataClassName</em><td style=text-align:left>siempre<td style=text-align:left>String<td style=text-align:left>Nombre de la Dataclass (<em>ej.</em> "Company")<td><tr><td style=text-align:left>"savedAttributes"<td style=text-align:left>Sólo en <a href=#function-event-aftersave class=""><code>afterSave()</code></a><td style=text-align:left>Colección de cadenas<td style=text-align:left>Nombres de atributos guardados correctamente<td><tr><td style=text-align:left>"droppedAttributes"<td style=text-align:left>Sólo en <a href=#function-event-afterdrop class=""><code>afterDrop()</code></a><td style=text-align:left>Colección de cadenas<td style=text-align:left>Nombres de atributos suprimidos correctamente<td><tr><td style=text-align:left>"saveStatus"<td style=text-align:left>Sólo en <a href=#function-event-aftersave class=""><code>afterSave()</code></a><td style=text-align:left>String<td style=text-align:left>"success" si el guardado fue exitoso, "failed" de lo contrario<td><tr><td style=text-align:left>"dropStatus"<td style=text-align:left>Sólo en <a href=#function-event-afterdrop class=""><code>afterDrop()</code></a><td style=text-align:left>String<td style=text-align:left>"success" si la eliminación fue exitosa, "failed" de lo contrario<td></table>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=objeto-error>Objeto error<a href=#objeto-error class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<p><a href=#summary-table class="">Ciertas funciones de evento</a> pueden devolver un <strong>objeto error</strong> para plantear un error y detener la acción en ejecución.</p>
<p>Cuando ocurre un error en un evento, los otros eventos se detienen en el primer error planteado y la acción (guardar o soltar) también se detiene. Este error se envía antes de que otros posibles errores como <a class="" href=/docs/es/API/EntityClass#save>stamp has changed, entity locked</a>, etc.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=propiedades-del-objeto-error>Propiedades del objeto error<a href=#propiedades-del-objeto-error class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>









































<table><thead><tr><th>Propiedad<th>Tipo<th>Descripción<th>Definido por el desarrollador<tbody><tr><td>errCode<td>Integer<td>Igual al comando <a class="" href=/docs/es/commands/last-errors><code>Last errors</code></a><td>Sí<tr><td>message<td>Text<td>Igual al comando <a class="" href=/docs/es/commands/last-errors><code>Last errors</code></a><td>Sí<tr><td>extraDescription<td>Object<td>Información libre a definir<td>Sí<tr><td>seriousError<td>Boolean<td>Utilizado sólo con eventos de validación (ver abajo). <li class=""><code>True</code>: crea un <a class="" href=/docs/es/Concepts/error-handling#predictable-vs-unpredictable-errors>error grave (imprevisible)</a> y activa una excepción. Añade el estado <code>dk status serious validation error</code></li><li class=""><code>False</code>: crea sólo un <a class="" href=/docs/es/Concepts/error-handling#predictable-vs-unpredictable-errors>error silencioso (previsible)</a>. Añade el estado <code>dk status validation failed</code>.</li><td>Sí (por defecto es false)<tr><td>componentSignature<td>Text<td>Siempre "DBEV"<td>No</table>
<ul>
<li class="">Los <a class="" href=/docs/es/Concepts/error-handling#predictable-vs-unpredictable-errors>errores críticos</a> están apilados en la colección de la propiedad <code>errors</code> del <strong>objeto Result</strong> devuelto por las funciones <a class="" href=/docs/es/API/EntityClass#save><code>save()</code></a> o <a class="" href=/docs/es/API/EntityClass#drop><code>drop()</code></a>.</li>
<li class="">En caso de un error provocado por un evento <strong>validate</strong>, la propiedad <code>seriousError</code> le permite elegir el nivel del error a generar:
<ul>
<li class="">Si es <strong>true</strong>: se arroja un error crítico y debe ser manejado por el <a class="" href=/docs/es/Concepts/error-handling#predictable-vs-unpredictable-errors>código de procesamiento de errores</a>, tal como un <a class="" href=/docs/es/Concepts/error-handling#trycatchend-try>try catch</a>. En el objeto resultante de la función llamante, <code>status</code> obtiene <code>dk status serious validation error</code> y <code>statusText</code> obtiene "Serious Validation Error". El error se genera al final del evento y llega al cliente solicitando la acción guardar/soltar (cliente REST por ejemplo).</li>
<li class="">Si es <strong>false</strong> (por defecto): se genera un <a class="" href=/docs/es/Concepts/error-handling#predictable-vs-unpredictable-errors>error silencioso (previsible)</a>. No dispara ninguna excepción y no se acumula en los errores devueltos por el comando <a class="" href=/docs/es/commands/last-errors><code>Last errors</code></a>. En el objeto resultante de la función llamante, <code>status</code> obtiene <code>dk status validation failed</code> y <code>statusText</code> obtiene "Mild Validation Error".</li>
</ul>
</li>
<li class="">En caso de un error provocado por un evento <strong>guardar/soltar</strong> cuando se retorna un objeto de error, el error siempre se plantea como un error crítico, sea cual sea el valor de la propiedad <code>seriousError</code>.</li>
</ul>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=descripción-de-las-funciones>Descripción de las funciones<a href=#descripción-de-las-funciones class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-touched><code>Function event touched</code><a href=#function-event-touched class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis>Sintaxis<a href=#sintaxis class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{local} Function event touched($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">{local} Function event touched &lt;attributeName>($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa cada vez que se modifica un valor en la entidad.</p>
<ul>
<li class="">Si define la función a nivel de entidad (primera sintaxis), se activa para modificaciones en cualquier atributo de la entidad.</li>
<li class="">Si ha definido la función en el nivel de atributo (segunda sintaxis), se activa sólo para modificaciones en este atributo.</li>
</ul>
<p>Este evento se activa tan pronto como el motor de 4D Server / 4D detecta una modificación del valor del atributo que puede deberse a las siguientes acciones:</p>
<ul>
<li class="">en <strong>cliente/servidor con la <a class="" href=/docs/es/ORDA/ordaClasses#local-functions>palabra clave <code>local</code></a></strong> o en <strong>4D monousuario</strong>:
<ul>
<li class="">el usuario define un valor en un formulario 4D,</li>
<li class="">el código 4D realiza una asignación con el operador <code>:=</code>. El evento también se activa en caso de autoasignación (<code>$entity.attribute:=$entity.attribute</code>).</li>
</ul>
</li>
<li class="">en <strong>cliente/servidor sin la palabra clave <code>local</code></strong>: algún código 4D que hace una asignación con el operador <code>:=</code> es <a class="" href=/docs/es/commands/execute-on-server>ejecutado en el servidor</a>.</li>
<li class="">in <strong>client/server without the <code>local</code> keyword</strong>, in <strong><a href=https://developer.4d.com/qodly target=_blank rel="noopener noreferrer" class="">Qodly application</a></strong> and <strong><a class="" href=/docs/es/commands/open-datastore>remote datastore</a></strong>: the entity is received on 4D Server while calling an ORDA function (on the entity or with the entity as parameter). Significa que puede que tenga que implementar una función <em>refresh</em> o <em>preview</em> en la aplicación remota que envía una petición ORDA al servidor y activa el evento.</li>
<li class="">con el servidor REST: el valor es recibido en el servidor REST con una <a class="" href=/docs/es/REST/method#methodupdate>petición REST</a> (<code>$method=update</code>)</li>
</ul>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<p>Si esta función <a class="" href=/docs/es/commands/throw>genera</a> un error, no detendrá la acción en curso.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>Este evento también se activa:<ul>
<li class="">cuando los atributos son asignados por el evento <a class="" href=/docs/es/ORDA/ordaClasses#class-constructor-1><code>constructor()</code></a>,</li>
<li class="">cuando los atributos son editados a través del <a class="" href=/docs/es/Admin/dataExplorer>Explorador de datos</a>.</li>
</ul></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-1>Ejemplo 1<a href=#ejemplo-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Quiere en mayúsculas todos los atributos de texto de una entidad cuando se actualiza.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    //ProductsEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event touched($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	If (Value type(This[$event.attributeName])=Is text)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		This[$event.attributeName]:=Uppercase(This[$event.attributeName])</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	End if </span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-2>Ejemplo 2<a href=#ejemplo-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>El evento "touched" es útil cuando no es posible escribir código de consulta indexada en <a class="" href=/docs/es/ORDA/ordaClasses#function-query-attributename><code>Function query()</code></a> para un <a class="" href=/docs/es/ORDA/ordaClasses#computed-attributes>atributo calculado</a>.</p>
<p>Este es el caso, por ejemplo, cuando tu función <a class="" href=/docs/es/ORDA/ordaClasses#function-query-attributename><code>query</code></a> tiene que comparar el valor de diferentes atributos de la misma entidad entre sí. Debe usar fórmulas en la consulta ORDA devuelta, que activa consultas secuenciales.</p>
<p>Para entender plenamente este caso, examinemos los siguientes dos atributos calculados:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function get onGoing() : Boolean</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        return ((This.departureDate&lt;=Current date) & (This.arrivalDate>=Current date))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function get sameDay() : Boolean</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        return (This.departureDate=This.arrivalDate)</span><br/></span></code></pre></div></div>
<p>Aunque son muy similares, estas funciones no pueden ser asociadas con consultas idénticas porque no comparan los mismos tipos de valores. La primera compara los atributos a un valor determinado, mientras que la segunda compara los atributos entre sí.</p>
<ul>
<li class="">Para el atributo <em>onGoing</em>, la función <a class="" href=/docs/es/ORDA/ordaClasses#function-query-attributename><code>query</code></a> es sencilla de escribir y utiliza atributos indexados:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function query onGoing($event : Object) : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $operator : Text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $myQuery : Text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $onGoingValue : Boolean</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $parameters : Collection</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $parameters:=New collection()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $operator:=$event.operator</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    Case of </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            : (($operator="=") | ($operator="==") | ($operator="==="))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">                $onGoingValue:=Bool($event.value)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            : (($operator="!=") | ($operator="!=="))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">                $onGoingValue:=Not(Bool($event.value))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            Else </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">                return {query: ""; parameters: $parameters}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    End case </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $myQuery:=($onGoingValue) ? "departureDate &lt;= :1 AND arrivalDate >= :1" : "departureDate > :1 OR arrivalDate &lt; :1"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        // la cadena de consulta ORDA utiliza atributos indexados, se indexará</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $parameters.push(Current date)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    return {query: $myQuery; parameters: $parameters}</span><br/></span></code></pre></div></div>
<ul>
<li class="">Para el atributo <em>sameDay</em>, la función <a class="" href=/docs/es/ORDA/ordaClasses#function-query-attributename><code>query</code></a> requiere una consulta ORDA basada en fórmulas y será secuencial:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function query sameDay($event : Object) : Text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $operator : Text</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    var $sameDayValue : Boolean</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $operator:=$event.operator</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    Case of </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        : (($operator="=") | ($operator="==") | ($operator="==="))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            $sameDayValue:=Bool($event.value)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        : (($operator="!=") | ($operator="!=="))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            $sameDayValue:=Not(Bool($event.value))</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        Else </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            return ""</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        End case </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    return ($sameDayValue) ? "eval(This.departureDate = This.arrivalDate)" : "eval(This.departureDate != This.arrivalDate)"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        // la cadena de consulta ORDA utiliza una fórmula, no será indexada</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<ul>
<li class="">Usar un atributo <em>sameDay</em> <strong>escalar</strong> actualizado cuando otros atributos son "tocados" ahorrará tiempo:</li>
</ul>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">    //BookingEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event touched departureDate($event : Object) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    This.sameDay:=(This.departureDate = This.arrivalDate) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event touched arrivalDate($event : Object) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    This.sameDay:=(This.departureDate = This.arrivalDate)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-3-diagrama-clienteservidor-con-la-palabra-clave-local>Ejemplo 3 (diagrama): cliente/servidor con la palabra clave <code>local</code>:<a href=#ejemplo-3-diagrama-clienteservidor-con-la-palabra-clave-local class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<!-- -->
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-4-diagrama-clienteservidor-sin-la-palabra-clave-local>Ejemplo 4 (diagrama): cliente/servidor sin la palabra clave <code>local</code><a href=#ejemplo-4-diagrama-clienteservidor-sin-la-palabra-clave-local class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<!-- -->
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-5-diagrama-aplicación-qodly>Ejemplo 5 (diagrama): Aplicación Qodly<a href=#ejemplo-5-diagrama-aplicación-qodly class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<!-- -->
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-validatesave><code>Function event validateSave</code><a href=#function-event-validatesave class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis-1>Sintaxis<a href=#sintaxis-1 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function event validateSave($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event validateSave &lt;attributeName>($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa cada vez que una entidad está a punto de ser guardada.</p>
<ul>
<li class="">si define la función a nivel de entidad (primera sintaxis), se llama para cualquier atributo de la entidad.</li>
<li class="">si definió la función en el nivel de atributo (segunda sintaxis), sólo se llama para este atributo. Esta función <strong>no</strong> se ejecuta si el atributo no ha sido tocado en la entidad.</li>
</ul>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<p>Este evento es activado por las siguientes funciones:</p>
<ul>
<li class=""><a class="" href=/docs/es/API/EntityClass#save><code>entity.save()</code></a></li>
<li class=""><a class="" href=/docs/es/API/DataClassClass#fromcollection><code>dataClass.fromCollection()</code></a></li>
</ul>
<p>This event is triggered <strong>before</strong> the entity is actually saved and lets you check data consistency so that you can stop the action if needed. Por ejemplo, puede comprobar en este evento que "fecha de salida" &lt; "fecha de llegada".</p>
<p>Para detener la acción, el código de la función debe devolver un <a href=#error-object class="">objeto error</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>No se recomienda actualizar la entidad dentro de esta función (utilizando <code>This</code>).</div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo>Ejemplo<a href=#ejemplo class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>En este ejemplo, no se permite guardar un producto con un margen inferior al 50%. En caso de que el atributo precio no sea válido, devuelve un objeto error y, por tanto, detiene la acción de guardar.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// ProductsEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// validateSave event at attribute level</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event validateSave margin($event : Object) : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $result : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">//The user can't create a product whose margin is &lt; 50%</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">If (This.margin&lt;50)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	$result:={errCode: 1; message: "The validation of this product failed"; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	extraDescription: {info: "The margin of this product ("+String(This.margin)+") is lower than 50%"}; seriousError: False}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">return $result</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-saving><code>Function event saving</code><a href=#function-event-saving class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis-2>Sintaxis<a href=#sintaxis-2 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function event saving($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event saving &lt;attributeName>($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa cada vez que se guarda una entidad.</p>
<ul>
<li class="">Si define la función a nivel de entidad (primera Sintaxis), se llama para cualquier atributo de la entidad. The function is executed even if no attribute has been touched in the entity (e.g. in case of sending data to an external app each time a save is done).</li>
<li class="">Si definió la función en el nivel de atributo (segunda Sintaxis), solo se llama para este atributo. La función <strong>no</strong> se ejecuta si el atributo no ha sido tocado en la entidad.</li>
</ul>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<p>Este evento es activado por las siguientes funciones:</p>
<ul>
<li class=""><a class="" href=/docs/es/API/EntityClass#save><code>entity.save()</code></a></li>
<li class=""><a class="" href=/docs/es/API/DataClassClass#fromcollection><code>dataClass.fromCollection()</code></a></li>
</ul>
<p>Este evento se activa <strong>mientras</strong> la entidad se guarda. If a <a href=#function-event-validatesave class=""><code>validateSave()</code></a> event function was defined, the <code>saving()</code> event function is called if no error was triggered by <code>validateSave()</code>. Por ejemplo, puede utilizar este evento para crear un documento en una cuenta de Google Drive.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>La lógica de negocio debe generar errores que no puedan detectarse durante los eventos <code>validateSave()</code>, por ejemplo, un error de red</div></div>
<p>Durante la acción de guardar, se pueden producir errores en el motor 4D (índice, sello ha cambiado, no hay suficiente espacio en el disco).</p>
<p>Para detener la acción, el código de la función debe devolver un <a href=#error-object class="">objeto error</a>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-3>Ejemplo<a href=#ejemplo-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Cuando se guarda un archivo en el disco, por ejemplo, se capturan errores relacionados con el espacio de disco.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// ProductsEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// saving event at attribute level</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event saving userManualPath($event : Object) : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $result : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $userManualFile : 4D.File</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $fileCreated : Boolean</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">If (This.userManualPath#"")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	$userManualFile:=File(This.userManualPath)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">				</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	// The user manual document file is created on the disk</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	// This may fail if no more space is available</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	Try</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        // The file content has been generated and stored in a map in Storage.docMap previously</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	    $docInfo:=Storage.docMap.query("name = :1"; This.name).first()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        $userManualFile.setContent($docInfo.content)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	Catch</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		// No more room on disk for example</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		$result:={/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            errCode: 1; message: "Error during the save action for this product"; /</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">            extraDescription: {info: "There is no available space on disk to store the user manual"}/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	End try</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">return $result</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>El contenido del archivo se genera fuera del evento <code>saving</code> porque puede llevar mucho tiempo.</div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-aftersave><code>Function event afterSave</code><a href=#function-event-aftersave class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis-3>Sintaxis<a href=#sintaxis-3 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Función evento afterSave($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa justo después de guardar una entidad en el archivo de datos, cuando se ha modificado al menos un atributo. No se ejecuta si no se ha tocado ningún atributo en la entidad.</p>
<p>Este evento es útil después de guardar datos para propagar la acción de guardar fuera de la aplicación o para ejecutar tareas de administración. Por ejemplo, se puede utilizar para enviar un correo electrónico de confirmación después de guardar los datos. O, en caso de error al guardar los datos, puede hacer una cancelación para restaurar un estado consistente de los datos.</p>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<ul>
<li class="">To avoid infinite loops, calling a <a class="" href=/docs/es/API/EntityClass#save><code>save()</code></a> on the current entity (through <code>This</code>) in this function is <strong>not allowed</strong>. Se producirá un error.</li>
<li class="">Arrojar un <a href=#error-object class="">objeto error</a> <strong>no es soportado</strong> por esta función.</li>
</ul>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-4>Ejemplo<a href=#ejemplo-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Si se produce un error en el evento de guardado anterior, el valor del atributo se restablece en consecuencia en el evento <code>afterSave</code>:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// ProductsEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event afterSave($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">If (($event.status.success=False) && ($event.status.errors=Null))  </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    // $event.status.errors is filled if the error comes from the validateSave event</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	// The userManualPath attribute has not been properly saved</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	// Its value is reset</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	If ($event.savedAttributes.indexOf("userManualPath")=-1)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		This.userManualPath:=""</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		This.status:="KO"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">	End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">		</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End if </span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-validatedrop><code>Function event validateDrop</code><a href=#function-event-validatedrop class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis-4>Sintaxis<a href=#sintaxis-4 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function event validateDrop($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event validateDrop &lt;attributeName>($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa cada vez que una entidad está a punto de ser soltada.</p>
<ul>
<li class="">Si define la función a nivel de entidad (primera Sintaxis), se llama para cualquier atributo de la entidad.</li>
<li class="">Si definió la función en el nivel de atributo (segunda Sintaxis), solo se llama para este atributo.</li>
</ul>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<p>Este evento se activa con las siguientes funcionalidades:</p>
<ul>
<li class=""><a class="" href=/docs/es/API/EntityClass#drop><code>entity.drop()</code></a></li>
<li class=""><a class="" href=/docs/es/API/DataClassClass#fromcollection><code>entitySelection.drop()</code></a></li>
<li class=""><a href=https://doc.4d.com/4Dv20/4D/20.2/Relation-properties.300-6750290.en.html#107320 target=_blank rel="noopener noreferrer" class="">deletion control rules</a> that can be defined at the database structure level.</li>
</ul>
<p>This event is triggered <strong>before</strong> the entity is actually dropped, allowing you to check data consistency and if necessary, to stop the drop action.</p>
<p>Para detener la acción, el código de la función debe devolver un <a href=#error-object class="">objeto error</a>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-5>Ejemplo<a href=#ejemplo-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>En este ejemplo, no está permitido eliminar un producto que no esté etiquetado como "TO DELETE". In this case, you return an error object and thus, stop the drop action.</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Clase ProductsEntity</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event validateDrop status($event : Object) : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $result : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// Products must be marked as TO DELETE to be dropped</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">If (This.status#"TO DELETE")</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $result:={errCode: 1; message: "You can't drop this product"; \</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    extraDescription: {info: "This product must be marked as To Delete"}; seriousError: False}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">return $result</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-dropping><code>Function event dropping</code><a href=#function-event-dropping class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis-5>Sintaxis<a href=#sintaxis-5 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function event dropping($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event dropping &lt;attributeName>($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa cada vez que se elimina una entidad.</p>
<ul>
<li class="">Si define la función a nivel de entidad (primera Sintaxis), se llama para cualquier atributo de la entidad.</li>
<li class="">Si definió la función en el nivel de atributo (segunda Sintaxis), solo se llama para este atributo.</li>
</ul>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<p>Este evento se activa con las siguientes funcionalidades:</p>
<ul>
<li class=""><a class="" href=/docs/es/API/EntityClass#drop><code>entity.drop()</code></a></li>
<li class=""><a class="" href=/docs/es/API/DataClassClass#fromcollection><code>entitySelection.drop()</code></a></li>
<li class=""><a href=https://doc.4d.com/4Dv20/4D/20.2/Relation-properties.300-6750290.en.html#107320 target=_blank rel="noopener noreferrer" class="">deletion control rules</a> that can be defined at the database structure level.</li>
</ul>
<p>This event is triggered <strong>while</strong> the entity is actually dropped. If a <a href=#function-event-validatedrop class=""><code>validateDrop()</code></a> event function was defined, the <code>dropping()</code> event function is called if no error was triggered by <code>validateDrop()</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>La lógica de negocio debe generar errores que no puedan detectarse durante los eventos <code>validateDrop()</code>, por ejemplo, un error de red.</div></div>
<p>Para detener la acción, el código de la función debe devolver un <a href=#error-object class="">objeto error</a>.</p>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-6>Ejemplo<a href=#ejemplo-6 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Estes es un ejemplo del evento <code>dropping</code> a nivel de entidad:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// ProductsEntity class</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Function event dropping($event : Object) : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $result : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $userManualFile : 4D.File</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">$userManualFile:=File(This.userManualPath)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    // When dropping a product, its user manual is also deleted on the disk</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    // This action may fail</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Try</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    If ($userManualFile.exists)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        $userManualFile.delete()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">Catch</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    // Dropping the user manual failed</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $result:={errCode: 1; message: "Drop failed"; extraDescription: {info: "The user manual can't be dropped"}}</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End try</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">return $result</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=function-event-afterdrop><code>Function event afterDrop</code><a href=#function-event-afterdrop class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h3>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=sintaxis-6>Sintaxis<a href=#sintaxis-6 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function event afterDrop($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">// código</span><br/></span></code></pre></div></div>
<p>Este evento se activa justo después de que una entidad es soltada.</p>
<p>This event is useful after dropping data to propagate the drop action outside the application or to execute administration tasks. Por ejemplo, se puede utilizar para enviar un correo electrónico de cancelación después de soltar los datos. Or, in case of error while dropping data, it can log an information for the administrator to check data consistency.</p>
<p>La función recibe un <a href=#event-parameter class="">objeto <em>event</em></a> como parámetro.</p>
<ul>
<li class="">To avoid infinite loops, calling a <a class="" href=/docs/es/API/EntityClass#drop><code>drop()</code></a> on the current entity (through <code>This</code>) in this function is <strong>not allowed</strong>. Se producirá un error.</li>
<li class="">Arrojar un <a href=#error-object class="">objeto error</a> <strong>no es soportado</strong> por esta función.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>nota</div><div class=admonitionContent_BuS1><p>La entidad eliminada es referenciada por <code>This</code> y aún existe en memoria.</div></div>
<h4 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=ejemplo-7>Ejemplo<a href=#ejemplo-7 class=hash-link aria-label="Enlace directo al encabezado" title="Enlace directo al encabezado" translate=no>​</a></h4>
<p>Si la acción de soltar falló, el producto debe ser verificado manualmente:</p>
<div class="language-4d codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-4d codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Function event afterDrop($event : Object)</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">var $status : Object</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">If (($event.status.success=False) && ($event.status.errors=Null)) </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        //$event.status.errors is filled </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        //if the error comes from the validateDrop event</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    This.status:="Check this product - Drop action failed"</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    $status:=This.save()</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">End if </span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/4d/docs/issues/new?title=Comment%20on%20ORDA%2Forda-events.md%20(21)&body=Please%20enter%20your%20comment%3A" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Comente esta página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/es/ORDA/entities><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Trabajar con los datos</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/es/ORDA/global-stamp><div class=pagination-nav__sublabel>Siguiente</div><div class=pagination-nav__label>Utilizando el sello global</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#generalidades class="table-of-contents__link toc-highlight">Generalidades</a><ul><li><a href=#nivel-del-evento class="table-of-contents__link toc-highlight">Nivel del evento</a><li><a href=#ejecución-en-configuraciones-remotas class="table-of-contents__link toc-highlight">Ejecución en configuraciones remotas</a><li><a href=#tabla-resumen class="table-of-contents__link toc-highlight">Tabla resumen</a></ul><li><a href=#parámetro-event class="table-of-contents__link toc-highlight">Parámetro <em>event</em></a><li><a href=#objeto-error class="table-of-contents__link toc-highlight">Objeto error</a><ul><li><a href=#propiedades-del-objeto-error class="table-of-contents__link toc-highlight">Propiedades del objeto error</a></ul><li><a href=#descripción-de-las-funciones class="table-of-contents__link toc-highlight">Descripción de las funciones</a><ul><li><a href=#function-event-touched class="table-of-contents__link toc-highlight"><code>Function event touched</code></a><li><a href=#function-event-validatesave class="table-of-contents__link toc-highlight"><code>Function event validateSave</code></a><li><a href=#function-event-saving class="table-of-contents__link toc-highlight"><code>Function event saving</code></a><li><a href=#function-event-aftersave class="table-of-contents__link toc-highlight"><code>Function event afterSave</code></a><li><a href=#function-event-validatedrop class="table-of-contents__link toc-highlight"><code>Function event validateDrop</code></a><li><a href=#function-event-dropping class="table-of-contents__link toc-highlight"><code>Function event dropping</code></a><li><a href=#function-event-afterdrop class="table-of-contents__link toc-highlight"><code>Function event afterDrop</code></a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Comunidad</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://blog.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Blog</a><li class=footer__item><a href=https://discuss.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Forum</a><li class=footer__item><a href=https://facebook.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook</a><li class=footer__item><a href=https://x.com/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>X</a><li class=footer__item><a href=https://youtube.com/user/4Dsoftware target=_blank rel="noopener noreferrer" class=footer__link-item>Youtube</a><li class=footer__item><a href=https://github.com/4D target=_blank rel="noopener noreferrer" class=footer__link-item>Github</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Soporte</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/4d/docs/releases/tag/latest target=_blank rel="noopener noreferrer" class=footer__link-item>Descarga de documentación<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://doc.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>4D Doc Center (Donde todo empezó)</a><li class=footer__item><a href=https://kb.4d.com target=_blank rel="noopener noreferrer" class=footer__link-item>Base de conocimientos</a><li class=footer__item><a href=https://us.4d.com/product-download/Feature-Release target=_blank rel="noopener noreferrer" class=footer__link-item>Descargas</a><li class=footer__item><a href=https://us.4d.com/resources target=_blank rel="noopener noreferrer" class=footer__link-item>Resources</a><li class=footer__item><a href=https://us.4d.com/4d-technical-support target=_blank rel="noopener noreferrer" class=footer__link-item>Obtener soporte</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Empresa</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>Acerca de 4D</a><li class=footer__item><a href=https://us.4d.com/contact-us target=_blank rel="noopener noreferrer" class=footer__link-item>Contáctenos</a><li class=footer__item><a href=https://us.4d.com/4d-around-the-world target=_blank rel="noopener noreferrer" class=footer__link-item>4D en el mundo</a><li class=footer__item><a href=https://us.4d.com/Careers target=_blank rel="noopener noreferrer" class=footer__link-item>Careers</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>2025 4D SAS - Todos los derechos reservados</div></div></div></footer></div></body>